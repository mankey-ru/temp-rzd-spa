{"version":3,"sources":["webpack:///cabinet_special--bundle.js","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/css-loader/lib/css-base.js","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/component-normalizer.js","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-style-loader/lib/addStylesClient.js","webpack:///./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/mixins/index.js","webpack:///./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/entry-points/_makeRoot.js","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/pages/cabinet-special.vue","webpack:///./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/hosts.js","webpack:///auth-handler-special.vue","webpack:///devmenu.vue","webpack:///payment-handler-special.vue","webpack:///cabinet-special.vue","webpack:///./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/auth-handler/auth-handler.js","webpack:///./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/payment-handler/payment-handler.js","webpack:///./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/directives/jqui-datepicker.js","webpack:///./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/entry-points/cabinet-special.js","webpack:///./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/pages/cabinet.js","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/auth-handler/auth-handler-special.vue?c635","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/devmenu.vue?d67c","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/payment-handler/payment-handler-special.vue?41c3","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/pages/cabinet-special.vue?04fb","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/auth-handler/auth-handler-special.vue","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/devmenu.vue","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/payment-handler/payment-handler-special.vue","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/devmenu.vue?39b8","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/payment-handler/payment-handler-special.vue?502d","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/pages/cabinet-special.vue?02c6","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/auth-handler/auth-handler-special.vue?ec09","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/devmenu.vue?e174","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/payment-handler/payment-handler-special.vue?a3a9","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/pages/cabinet-special.vue?08ff","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-style-loader/lib/listToStyles.js"],"names":["webpackJsonp","module","exports","list","toString","result","i","this","length","item","push","join","modules","mediaQuery","alreadyImportedModules","id","rawScriptExports","compiledTemplate","scopeId","cssModules","esModule","scriptExports","type","default","options","render","staticRenderFns","_scopeId","computed","Object","keys","forEach","key","__webpack_require__","addStylesToDom","styles","domStyle","stylesInDom","refs","j","parts","addStyle","createStyleElement","styleElement","document","createElement","head","appendChild","obj","update","remove","querySelector","isProduction","noop","parentNode","removeChild","isOldIE","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","bind","applyToTag","newObj","css","media","sourceMap","index","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","insertBefore","setAttribute","sources","btoa","unescape","encodeURIComponent","JSON","stringify","firstChild","hasDocument","DEBUG","Error","listToStyles","getElementsByTagName","navigator","test","userAgent","toLowerCase","parentId","_isProduction","newList","mayRemove","textStore","replacement","filter","Boolean","__webpack_exports__","methods","DICT","indexOf","split","window","lang","LINK","PAGEDATA","LayerLinks","console","error","filters","DF_FULL","val","date","Date","toLocaleString","CAPITALIZE","UTIL","capitalizeEachWord","FORMAT_SUM","formatSum","components","dict","props","name","String","data","content","created","$props","value","comment","IS_DEV","$data","template","ifrmsg","IFRMSG","showErrors","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_0_vue___default","n","__WEBPACK_IMPORTED_MODULE_1__comps_devmenu_vue__","__WEBPACK_IMPORTED_MODULE_1__comps_devmenu_vue___default","__WEBPACK_IMPORTED_MODULE_2__mixins__","pageComponent","vm","a","el","mixins","devmenu","page-component","VUEI","Component","fake","domain","port","protocol","siteUrl","real","psiIp","defineProperty","__WEBPACK_IMPORTED_MODULE_0__auth_handler_js__","Hosts","homeUrl","realUrl","location","href","replace","__WEBPACK_IMPORTED_MODULE_0__payment_handler_js__","__WEBPACK_IMPORTED_MODULE_0__cabinet_js__","__WEBPACK_IMPORTED_MODULE_1__comps_payment_handler_payment_handler_special_vue__","__WEBPACK_IMPORTED_MODULE_1__comps_payment_handler_payment_handler_special_vue___default","__WEBPACK_IMPORTED_MODULE_2__comps_auth_handler_auth_handler_special_vue__","__WEBPACK_IMPORTED_MODULE_2__comps_auth_handler_auth_handler_special_vue___default","payment-handler","auth-handler","jr","retry","actor","curCode","store","local","get","bRetry","paymentAvailable","LOADER","HUMAN_ERROR","paymentSystems","yandexMoney","saleOrderId","pageData","orderid","orderId","totalSum","transactionId","select","ps","yaCheckRequest","cancel","code","submit","set","goPay","log","url","getServiceParams","ridQuery","fail","dialogMessage","done","$refs","yaform","bankAuth","params","actorType","response","always","$parent","LOADING_NEXT","errData","getImageSrc","mounted","VUEI_paymentHandler","binding","vnode","_parsePathAndSet","keyArr","lastKey","pop","len","_setBodyClass","boo","$","body","toggleClass","opts","datePickerLoc","dateFormat","onClose","dateStr","context","expression","beforeShow","datepicker","__WEBPACK_IMPORTED_MODULE_0__makeRoot_js__","__WEBPACK_IMPORTED_MODULE_1__pages_cabinet_special_vue__","__WEBPACK_IMPORTED_MODULE_1__pages_cabinet_special_vue___default","getOrders","bNext","form","page","slots","extend","history","params2url","REQ","bPageAfterBank","xmlmsg","paymentSystem","replaceState","param","LOADING_ORDERS","orderList","responseData","sortByDate","b","TDate","parse","date0","ticDate","timestamp","substr","dateTimeNow","search","undefined","sessionStorage","herr","sord","jstatus","ON_AVISO_cnt","lst","sort","refunds","sordRefund","REFUND_MESSAGE","_orderRefundMessage","ordslot","transferDate","amount","LINK_REFUND_REGISTER","defShowTime","mskTimeSuffix","routeNames","k","ord","ELREG_IFRMSG","LOADING_STATUSES","STATUS","HIDE","LINK_BLANK","N","LINK_PDF","LINK_AUTORACK","BaseParams","UFS_HOTELS","arrived","LINK_HOTEL","ordBack","UFS_HOTELS_ORDERS","bdarray","birthday","formatStr","code1","date1","time1","birthdays","bk_date0","bk_time0","time0","SHOW_REFUNDED_ORDER","journeyId","ORDER_LINK","from","parentStation0","station0","to","parentStation1","station1","dir","tik","dateTimeDeparture","goodsTotalCost","LINK_GOODS_LIST","LINK_GOODS_BLANK_PDF","NAME","status","CODE","ORDER_ID","LOADING_STATUS","LOADING_REFUND_TICKET","LOADING_REFUND_INSURANCE","LINK_PNG","SHOW_INSURANCES","SHOW_REFUND_FOOD","SHOW_REFUND_FOOD_MSG","extendedServices","insurances","INSUR","LINK_INSURANCE","passId","LINK_INS_PDF","policies","number","ticketNumber","POLICY","POLICY_DATE","startDate","finishDate","POLICY_AREA","DMSAREA","areaId","POLICY_STATUS","POLICY_STATUSES","statusId","routeName","directional","r","ON_AVISO_cnt_prev","lastPage","downloadFile","__WEBPACK_IMPORTED_MODULE_0__mixins__","__WEBPACK_IMPORTED_MODULE_1__directives_jqui_datepicker_js__","component","mode","g_dmsArea","g_policyStatus","refundMsg","bShowRetryPayment","PAYMENT_RESULT","foodDetails","selectedMenuItems","LOADING_REFUND","foodList","foodListSelectedItem","bAuthFormVisible","bShowForm","bShowBankResultBtns","journeyReservation","session","$options","changeMode","bankResult_checkPaymentYandex","bankResult_finalizePayment","directives","jqui-datepicker","gotoCabinet","animate","scrollTop","retryPayment","paymentHandler","newMode","bDontMakeRequest","bActive","d","formattedDate","leftpad","getDate","getMonth","getFullYear","getStatusesForSaleOrder","$activeDialog","dialog","scrollTo","$sord","offset","getStatuses","callback","requestRidOptions","onIdle","res","_statusRid","RID","_statusRid_timestamp","now","hasWithER","hasWithoutER","statuses","stat","blockRefund","changeStatus","bEnable","action","ticket_id","refundTicket","bForceRefund","msgTemplate","rfnd","bMulti","bDisabledCompanion","disabledTypeId","bYandex","paymentMethod","bDMS","bDMS_cost","cost","bINSUR","bRefund","bINSUR_cost","ordTicketList","lenk","ticket","refundItem","ticketNum","summa","sum","text","time","confirmButtons","evt","$nextTick","buttons","$set","refundInsurance","ajax","dataType","passengerId","success","insrRetundRes","refundDMS","policyNumber","statusText","responseText","msg","POLICY_CABINET_REFUND_SUM","REFUND_INFO_CABINET","getBlank_insurance","format","origin","getBlank_policy","link","showInsurances","showRefundedOrder","getBlank_ticket","downloadBlankTicket","urlParams","random","Math","ridTimestampInvalid","ridTimestamp","currentTimestamp","statusCheckNeeded","getFoodDetails","extendedService","ticketId","foodPattern","selectedVariants","foodType","foodCode","foodCount","getFoodBlank","refundParam","refundFood","closeDialog","self","refund","dialogElement","currentTarget","hide","then","reason","find","html","foodRefunds","refundAmount","isTicketActionsAvailable","left","isInsuranceActive","Refunded","isPolicyActive","isPolicyRefundAvailable","isInsuranceRefundAvailable","is_insurance_refund","prepaidFood_visible","foodId","food","addFood_visible","hasFood","typeId","addFood","addFood_getArray","foodArray","isPurchased","isRefunded","isLast","isFake","addFood_isBuyPossible","hasPurchased","addFood_showMenuWindow","open","buyAdditionals","addType","_tik","pass","shortName","tariff","tariffId","_ord","tickets","carTypeRu","number2","train","pass16_ResResponse","orders","tip","additionals","changeMeal","ordslot_index","tikFoodName","foodName","curSlotId","curORDER_ID","curTicketId","OK","setChangedFood","curN","err","info","bNoCostCheck","paymentCheckDispatch","bErrorMode","layerId","bankResult_goStart","theme","steps","trains","onYaError","alert","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","title","_l","class","selected","tabindex","on","click","$event","_m","domProps","_s","ref","method","_e","preventDefault","for","rawName","input","target","composing","data-custom-default-value","active","pass-orderList-order-refunded","_f","localDate0","localTime0","timeDeltaString0","localDate1","localTime1","timeDeltaString1","car","carCls","disabled","keyup","_k","keyCode","avisoTimer","pass-orderList-ticket-refunded","doc","place","seatsTypeName","bNonRefundable","innerHTML","foodOrder","selectedFoodItem","variant","count","addGoods","staticStyle","margin-left","ritem","message","display","background","padding","margin-bottom","foodItem","idx","checked","_q","__c","float","shortDescr","width","max-width","descr","clear","locals","newStyles","part"],"mappings":"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","file":"cabinet_special--bundle.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */\n/***/ (function(module, exports) {\n\n/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  scopeId,\n  cssModules\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  // inject cssModules\n  if (cssModules) {\n    var computed = options.computed || (options.computed = {})\n    Object.keys(cssModules).forEach(function (key) {\n      var module = cssModules[key]\n      computed[key] = function () { return module }\n    })\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\nvar listToStyles = __webpack_require__(34)\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nmodule.exports = function (parentId, list, _isProduction) {\n  isProduction = _isProduction\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[data-vue-ssr-id~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n\n\n/***/ }),\n/* 3 */,\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/**\r\n\tГлобальные миксины\r\n\tИмена глобальных методов и функций - капсом\r\n*/\n\n//const moment = require('moment')\n//moment.locale('ru');\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n\tmethods: {\n\t\tDICT: function DICT(key) {\n\t\t\t// для вывода слов лучше использовать компонент <dict name=\"MY_DICT_KEY\"/>, функция нужна например для вывода в атрибуты\n\t\t\tif (key.indexOf('/') !== -1) {\n\t\t\t\tkey = key.split('/');\n\t\t\t}\n\t\t\treturn window.lang(key);\n\t\t},\n\t\tLINK: function LINK(key) {\n\t\t\tif (window.PAGEDATA && window.PAGEDATA.LayerLinks && window.PAGEDATA.LayerLinks[key]) {\n\t\t\t\treturn window.PAGEDATA.LayerLinks;\n\t\t\t} else {\n\t\t\t\tconsole.error('Не найдена ссылка window.PAGEDATA.LayerLinks.' + key);\n\t\t\t\treturn '';\n\t\t\t}\n\t\t}\n\t},\n\tfilters: {\n\t\tDF_FULL: function DF_FULL(val) {\n\t\t\t// DateFormat_full\n\t\t\tif (!val) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\tvar date = new Date(val);\n\t\t\tif (date.toLocaleString) {\n\t\t\t\treturn date.toLocaleString();\n\t\t\t}\n\t\t\t//return moment(val).format('MM.DD.YYYY hh:mm');\n\t\t},\n\t\tCAPITALIZE: UTIL.capitalizeEachWord,\n\t\tFORMAT_SUM: UTIL.formatSum\n\t},\n\tcomponents: {\n\t\t'dict': {\n\t\t\tprops: {\n\t\t\t\tname: {\n\t\t\t\t\ttype: String\n\t\t\t\t}\n\t\t\t},\n\t\t\tdata: function data() {\n\t\t\t\treturn {\n\t\t\t\t\tcontent: ''\n\t\t\t\t};\n\t\t\t},\n\t\t\tcreated: function created() {\n\t\t\t\tvar key = this.$props.name;\n\t\t\t\tif (key.indexOf('/') !== -1) {\n\t\t\t\t\tkey = key.split('/');\n\t\t\t\t}\n\t\t\t\tvar value = window.lang(key);\n\t\t\t\tvar comment = this.IS_DEV ? '<!--' + key + '-->' : '';\n\t\t\t\tif (value) {\n\t\t\t\t\tthis.$data.content = comment + value;\n\t\t\t\t} else if (this.IS_DEV) {\n\t\t\t\t\tthis.$data.content = '\\u0421\\u043B\\u043E\\u0432\\u0430\\u0440\\u043D\\u0430\\u044F \\u0437\\u0430\\u043F\\u0438\\u0441\\u044C \\u0441 \\u043A\\u043B\\u044E\\u0447\\u043E\\u043C \\xAB' + key + '\\xBB \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u0430';\n\t\t\t\t\tconsole.error(this.$data.content);\n\t\t\t\t}\n\t\t\t},\n\t\t\ttemplate: '<span v-html=\"content\"></span>'\n\t\t},\n\t\t'ifrmsg': {\n\t\t\tprops: {\n\t\t\t\tname: {\n\t\t\t\t\ttype: String\n\t\t\t\t}\n\t\t\t},\n\t\t\tdata: function data() {\n\t\t\t\treturn {\n\t\t\t\t\tcontent: ''\n\t\t\t\t};\n\t\t\t},\n\t\t\tcreated: function created() {\n\t\t\t\tvar key = this.$props.name;\n\t\t\t\tvar value = window.IFRMSG[key];\n\t\t\t\tvar comment = this.IS_DEV ? '<!--' + key + '-->' : '';\n\t\t\t\tif (value) {\n\t\t\t\t\tthis.$data.content = comment + value;\n\t\t\t\t} else if (this.IS_DEV) {\n\t\t\t\t\tthis.$data.content = '\\u0421\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435 \\u0418\\u0424\\u0420 \\xAB' + key + '\\xBB \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E \\u0432 window.IFRMSG';\n\t\t\t\t\tconsole.error(this.$data.content);\n\t\t\t\t}\n\t\t\t},\n\t\t\ttemplate: '<span v-html=\"content\"></span>'\n\t\t}\n\t},\n\tcomputed: { // отвечает за показ стектрейсов, подробный вывод в консоль, глобальные переменные - ссылки на инстанс VUEI и всякое такое\n\t\tIS_DEV: function IS_DEV() {\n\t\t\treturn window.PAGEDATA && window.PAGEDATA.showErrors;\n\t\t}\n\t}\n});\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__comps_devmenu_vue__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__comps_devmenu_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__comps_devmenu_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mixins__ = __webpack_require__(4);\n\n\n\n\n/** Функция, создающая корневой инстанс Vue, призвана избежать дублирования кода */\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (pageComponent) {\n\n\tvar vm = new __WEBPACK_IMPORTED_MODULE_0_vue___default.a({\n\t\tel: '#vue-app',\n\t\tmixins: [__WEBPACK_IMPORTED_MODULE_2__mixins__[\"a\" /* default */]],\n\t\tcomponents: {\n\t\t\tdevmenu: __WEBPACK_IMPORTED_MODULE_1__comps_devmenu_vue___default.a,\n\t\t\t'page-component': pageComponent\n\t\t},\n\t\ttemplate: '<div><devmenu v-if=\"IS_DEV\"/><page-component/></div>'\n\t});\n\n\tif (window && window.PAGEDATA && window.PAGEDATA.showErrors) {\n\t\twindow.VUEI = vm;\n\t};\n});\n\n/*\r\n\timport Vue from 'vue'\r\n\timport router from './cabinet-router.js'\r\n\timport store from '@store.js'\r\n\timport devmenu from '@comps/devmenu.vue'\r\n\timport mixins from '@mixins'\r\n\r\n\tvar vm = new Vue({\r\n\t\tel: '#vue-app',\r\n\t\trouter,\r\n\t\tstore,\t\r\n\t\tmixins: [mixins],\r\n\t\tcomponents: {devmenu},\r\n\t\ttemplate: '<div><devmenu v-if=\"IS_DEV\"/><router-view/></div>'\r\n\t\t// вместо темплейте, если компонент один, можно указать render: (h) => h(Theme),\r\n\t});\r\n\r\n\tif (window && window.PAGEDATA && window.PAGEDATA.showErrors) {\r\n\t\twindow.VUEI = vm;\r\n\t}\r\n*/\n\n/***/ }),\n/* 6 */,\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(33)\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(14),\n  /* template */\n  __webpack_require__(29),\n  /* scopeId */\n  \"data-v-f07fa446\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 8 */,\n/* 9 */,\n/* 10 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t// Хосты также указаны в секции scripts в package.json, тут уж никак от дублирования не избавишься\n\tfake: {\n\t\tdomain: 'pass2.psi.oooinex.ru',\n\t\tport: ':8090', // :1488,\n\t\tprotocol: 'http://',\n\t\tget siteUrl() {\n\t\t\treturn this.protocol + this.domain + (this.port || '');\n\t\t}\n\t},\n\treal: {\n\t\tdomain: 'pass.psi.oooinex.ru',\n\t\tprotocol: 'https://',\n\t\tget siteUrl() {\n\t\t\treturn this.protocol + this.domain;\n\t\t}\n\t},\n\tpsiIp: '172.22.2.92'\n};\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__auth_handler_js__ = __webpack_require__(15);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({ name: 'AuthHandlerSpecial', mixins: [__WEBPACK_IMPORTED_MODULE_0__auth_handler_js__[\"a\" /* default */]] });\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\nvar Hosts = __webpack_require__(10);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n\tname: 'DevMenu',\n\tcomputed: {\n\t\thomeUrl: function homeUrl() {\n\t\t\treturn Hosts.fake.siteUrl;\n\t\t},\n\t\trealUrl: function realUrl() {\n\t\t\treturn window.location.href.replace(Hosts.fake.siteUrl, Hosts.real.siteUrl);\n\t\t}\n\t}\n\t/*function getCabinetUrlPrefix(layerId, bAccessible) { // 5901, 5975\n \tvar formatContext = bAccessible ? '/accessible' : '';\n \treturn `${Hosts.fake.siteUrl}/sale/secure/ru${formatContext}?STRUCTURE_ID=704&layer_id=${layerId}`;\n }*/\n\n});\n\n/***/ }),\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__payment_handler_js__ = __webpack_require__(16);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({ name: 'PaymentHandlerSpecial', mixins: [__WEBPACK_IMPORTED_MODULE_0__payment_handler_js__[\"a\" /* default */]] });\n\n/***/ }),\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__cabinet_js__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__comps_payment_handler_payment_handler_special_vue__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__comps_payment_handler_payment_handler_special_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__comps_payment_handler_payment_handler_special_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__comps_auth_handler_auth_handler_special_vue__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__comps_auth_handler_auth_handler_special_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__comps_auth_handler_auth_handler_special_vue__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n\tname: 'CabinetSpecial',\n\tcomponents: {\n\t\t'payment-handler': __WEBPACK_IMPORTED_MODULE_1__comps_payment_handler_payment_handler_special_vue___default.a,\n\t\t'auth-handler': __WEBPACK_IMPORTED_MODULE_2__comps_auth_handler_auth_handler_special_vue___default.a\n\t},\n\tmixins: [__WEBPACK_IMPORTED_MODULE_0__cabinet_js__[\"a\" /* default */]]\n});\n\n/***/ }),\n/* 15 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/**\r\n\tЗдесь будет реализация асинхронной авторизации\r\n\tпока что она совместима только с мобилкой, потому размещена в auth-handler.mobile.vue\r\n*/\n/* harmony default export */ __webpack_exports__[\"a\"] = ({});\n\n/***/ }),\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// Компонент выбора платёжной системы и перехода к оплате\n// минимально необходимый вызов:\n// <payment-handler v-bind:jr=\"jr\" ref=\"paymentHandler\"></payment-handler> где jr - journeyReservation\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n\tprops: {\n\t\t// Ответ на запрос бронирования\n\t\t// TODO возможно имеет смысл не пихать в пропс весь объект, а только то что нужно\n\t\tjr: {\n\t\t\ttype: Object,\n\t\t\t'default': function _default() {\n\t\t\t\t// Props with type Object/Array must use a factory function to return the default value.\n\t\t\t\treturn {};\n\t\t\t}\n\t\t},\n\t\t// Флаг повторной попытки оплаты\n\t\t// Случается на странице возврата из банка\n\t\t// Если результат неуспешный\n\t\tretry: {\n\t\t\ttype: Boolean,\n\t\t\t'default': false\n\t\t},\n\t\t// Тип клиента (эктора)\n\t\t// бывает:\n\t\t// * desktop_2016\n\t\t// * MOBILE_USER\n\t\t// * INSPECTOR\n\t\t// * TRAINMASTER\n\t\tactor: {\n\t\t\ttype: String\n\t\t\t// 'default': 'desktop_2016'\n\t\t}\n\t},\n\tdata: function data() {\n\t\treturn {\n\t\t\tcurCode: store.local.get('paymethod') || 'BANK',\n\t\t\tbRetry: this.$props.retry,\n\t\t\tpaymentAvailable: true,\n\t\t\tLOADER: false, // изменяется в т.ч. из ridQuery\n\t\t\tHUMAN_ERROR: '' // изменяется в т.ч. из ridQuery\n\t\t};\n\t},\n\tcomputed: { // в компьютед попадают те пропсы которые могут быть изменены извне\n\t\t// Список платёжных систем.\n\t\t// Получается на этапе бронирования, сохраняется в сторедж\n\t\tlist: function list() {\n\t\t\treturn this.$props.jr.paymentSystems;\n\t\t},\n\t\t// Параметры для перехода в яндекс\n\t\t// Получается на этапе бронирования, сохраняется в сторедж\n\t\tyandexMoney: function yandexMoney() {\n\t\t\treturn this.$props.jr.yandexMoney;\n\t\t},\n\t\t// Айди заказа\n\t\t// Получается на этапе бронирования\n\t\t// на этапе возврата берётся из урла\n\t\tsaleOrderId: function saleOrderId() {\n\t\t\treturn this.$props.jr.saleOrderId || UTIL.pageData.orderid || UTIL.pageData.orderId || UTIL.pageData.saleOrderId; // vuex\n\t\t},\n\t\t//полная сумма к оплате\n\t\ttotalSum: function totalSum() {\n\t\t\treturn this.$props.jr.totalSum;\n\t\t},\n\t\t//тип платежа по своей сути за что платеж.\n\t\ttype: function type() {\n\t\t\treturn this.$props.jr.type || 'TICKET';\n\t\t},\n\n\t\t//!НЕ РАБОТАЕТ!\n\t\ttransactionId: function transactionId() {\n\t\t\treturn this.$props.jr.transactionId; // Я не знаю поечму этот параметр не передается, я передаю его в как аргумент к функции submit\n\t\t}\n\t},\n\tmethods: {\n\t\tselect: function select(ps) {\n\t\t\tif (yaCheckRequest) {\n\t\t\t\t// пользователь после яндекса сам кликает-переключается на банк\n\t\t\t\tyaCheckRequest.cancel();\n\t\t\t}\n\t\t\tthis.$data.curCode = ps.code;\n\t\t},\n\t\t// Нажатие на кнопку оплатить\n\t\t// авторизация в банке, затем goPay\n\t\tsubmit: function submit(transactionId) {\n\t\t\t// вызов из родителя: this.$refs.paymentHandler.submit();\n\t\t\tvar vm = this;\n\t\t\t// TODO дизейбл кнопки (у родителя)\n\t\t\tstore.local.set('paymethod', vm.$data.curCode);\n\t\t\t// Если НЕ яндекс\n\t\t\t// значит или BANK или вообще ВТТ либо лояльность (безденежная оплата, сумма заказа 0)\n\t\t\tif (vm.$data.curCode !== 'YANDEX') {\n\t\t\t\tvm.goPay(transactionId);\n\t\t\t} else {\n\t\t\t\t// Если яндекс, перед переходом надо спросить у него, можно ли попробовать ещё раз\n\t\t\t\tUTIL.log('Проверка возможности оплаты Яндексом');\n\t\t\t\t// TODO крутилка\n\t\t\t\tvar url = '/ticket/services/payment/possibility/check/journey/' + vm.saleOrderId + '/' + UTIL.pageData.lang + UTIL.getServiceParams();\n\t\t\t\tyaCheckRequest = UTIL.ridQuery(url).fail(function () {\n\t\t\t\t\t// вызывается когда response.error непустой\n\t\t\t\t\tUTIL.dialogMessage('Оплата Яндекс.Деньгами невозможна');\n\t\t\t\t\tvm.curCode = 'BANK'; // TODO вообще скрыть яндекс?\n\t\t\t\t}).done(function () {\n\t\t\t\t\tvm.goPay(transactionId);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t// Переход на страницу платёжной системы\n\t\t// происходит после авторизации в банке\n\t\tgoPay: function goPay(transactionId) {\n\t\t\tvar vm = this,\n\t\t\t    url;\n\t\t\t// --- идём на страницу подтверждения оплаты (если общая сумма заказа равна 0, это по всей видимости - ВТТ, лояльность)\n\t\t\tif (!vm.totalSum) {\n\t\t\t\turl = '?layer_name=e3-result&zero=1&result=OK&orderId=' + vm.saleOrderId + UTIL.getServiceParams();\n\t\t\t\twindow.location.href = url;\n\t\t\t\t// Важен параметр zero, т.к. с его помошью выбирается адрес запроса на подтверждение payment0 в orders.js\n\t\t\t} else if (vm.$data.curCode === 'YANDEX') {\n\t\t\t\t// --- идём в Яндекс\n\t\t\t\tthis.$refs.yaform.submit();\n\t\t\t} else if (vm.$data.curCode === 'BANK') {\n\t\t\t\t// --- Идём в банк\n\t\t\t\turl = window.UTIL.pageData.LayerLinks.bankAuth || '?layer_id=5734'; // правильнее брать из метаданных, т.к. в случае 'неправильного' path (например если из редизайна просить слой 152 ИФР) случается редирект и POST-параметры попадают в кверистринг\n\t\t\t\tvar params = {\n\t\t\t\t\ttype: vm.type,\n\t\t\t\t\torderId: vm.saleOrderId,\n\t\t\t\t\tactorType: vm.$props.actor\n\t\t\t\t};\n\t\t\t\tif (transactionId) {\n\t\t\t\t\tparams.transactionId = transactionId;\n\t\t\t\t}\n\t\t\t\twindow.UTIL.ridQuery(url, params, vm.$data).done(function (response) {\n\t\t\t\t\twindow.location.href = response.url;\n\t\t\t\t}).always(function () {\n\t\t\t\t\t// чтобы при ошибке у родителя скрывалась крутилка. Кривовато, но...\n\t\t\t\t\tif (vm.$parent && vm.$parent.$data.LOADING_NEXT === true) {\n\t\t\t\t\t\tvm.$parent.$data.LOADING_NEXT = false;\n\t\t\t\t\t}\n\t\t\t\t}).fail(function (error, errData) {\n\t\t\t\t\tif (vm.$parent && error === 'Оплата заказа невозможна') {\n\t\t\t\t\t\tvm.$data.paymentAvailable = false;\n\t\t\t\t\t\tvm.$parent.$data.paymentAvailable = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthrow new Error('Не найден обработчик для кода ' + curCode);\n\t\t\t}\n\t\t},\n\t\tgetImageSrc: function getImageSrc(ps) {\n\t\t\treturn '/dbmm/images/61/28054/' + ps.id;\n\t\t}\n\t},\n\tmounted: function mounted() {\n\t\twindow.UTIL.log('payment-handler mounted');\n\t\tif (window.UTIL.pageData.showErrors === true) {\n\t\t\t// сервер разработческий или в урле есть err\n\t\t\twindow.VUEI_paymentHandler = this;\n\t\t}\n\t}\n});\n\n/***/ }),\n/* 17 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n\tbind: function bind(el, binding, vnode) {\n\t\tvar opts = window.datePickerLoc({\n\t\t\tdateFormat: 'dd.mm.yy',\n\t\t\tonClose: function onClose(dateStr) {\n\t\t\t\t_setBodyClass(false);\n\t\t\t\t_parsePathAndSet(vnode.context, binding.expression, dateStr);\n\t\t\t},\n\t\t\tbeforeShow: function beforeShow() {\n\t\t\t\t_setBodyClass(true);\n\t\t\t}\n\t\t});\n\t\tvar $inp = $(el);\n\t\t$inp.datepicker(opts);\n\t\t/**\r\n  \tПример использования\r\n  \tvar obj = {prop1:{anotherProp:1}};\r\n  \tparsePathAndSet(obj, 'prop1.anotherProp', 2)\r\n  \tconsole.log(obj) // {prop1:{anotherProp:2}}\r\n  */\n\t\tfunction _parsePathAndSet(obj, key, value) {\n\t\t\tvar keyArr = key.split('.');\n\t\t\tvar lastKey = keyArr.pop();\n\t\t\tfor (var i = 0, len = keyArr.length; i < len; i++) {\n\t\t\t\tobj = obj[keyArr[i]];\n\t\t\t}\n\t\t\tobj[lastKey] = value;\n\t\t}\n\n\t\tfunction _setBodyClass(boo) {\n\t\t\t$(document.body).toggleClass('jqui-datepicker-active', boo); // для мобилки\n\t\t}\n\t},\n\tupdate: function update(el, binding, vnode) {\n\t\t$(el).datepicker('setDate', binding.value);\n\t}\n});\n\n/***/ }),\n/* 18 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__makeRoot_js__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_cabinet_special_vue__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_cabinet_special_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_cabinet_special_vue__);\n\n\n\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__makeRoot_js__[\"a\" /* default */])(__WEBPACK_IMPORTED_MODULE_1__pages_cabinet_special_vue___default.a);\n\n/***/ }),\n/* 19 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__mixins__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__directives_jqui_datepicker_js__ = __webpack_require__(17);\n // глобальные миксины\n\n\nvar REQ = window.PAGEDATA.params;\nvar ON_AVISO_cnt = 0;\nvar ON_AVISO_cnt_prev = 0;\nvar vm;\n\nvar component = {\n\tdata: function data() {\n\t\treturn {\n\t\t\tform: { // поля формы можно задать в урле\n\t\t\t\tdate0: REQ.date0 || '',\n\t\t\t\tdate1: REQ.date1 || '',\n\t\t\t\tnumber: REQ.number || '',\n\t\t\t\tname: REQ.name || '',\n\t\t\t\tmode: REQ.mode || '', // бывает archive и active\n\t\t\t\ttype: REQ.type, //параметр передаются для покупки из личного кабинета (например питание)\n\t\t\t\ttransactionId: REQ.transactionId, //параметр передаются для покупки из личного кабинета (например питание)\n\t\t\t\tsaleOrderId: REQ.saleOrderId || REQ.orderId || '', // TODO избавиться от зоопарка, это в яве\n\t\t\t\tresult: REQ.result // отладка: чтобы страница после банка не становилась кабинетом после F5\n\t\t\t},\n\t\t\tslots: [], // сюда помещаются поездки (название слотс взято тупо из апи)\n\t\t\tLOADING_ORDERS: false,\n\t\t\tHUMAN_ERROR: '', // человекопонятный текст глобальной ошибки\n\t\t\tDMSAREA: g_dmsArea,\n\t\t\tPOLICY_STATUSES: g_policyStatus,\n\t\t\trefundMsg: false,\n\t\t\tlastPage: true,\n\t\t\tDEBUG: PAGEDATA.showErrors,\n\n\t\t\t/* Страница после банка */\n\t\t\tbPageAfterBank: !!REQ.result, // считаем что если в урле есть result, то страница после банка\n\t\t\tbShowRetryPayment: false, // возврат к оплате\n\t\t\tPAYMENT_RESULT: REQ.result,\n\n\t\t\t/* Дополнительное питание */\n\t\t\tfoodDetails: {\n\t\t\t\tselectedMenuItems: false,\n\t\t\t\tLOADING_REFUND: false\n\t\t\t},\n\t\t\t/* Предоплаченное питание */\n\t\t\tfoodList: [],\n\t\t\tfoodListSelectedItem: '',\n\t\t\tbAuthFormVisible: false\n\t\t};\n\t},\n\tfilters: {},\n\tcomputed: {\n\t\t// Показ формы - для ЛК\t\n\t\tbShowForm: function bShowForm() {\n\t\t\treturn this.bPageAfterBank === false;\n\t\t},\n\t\t// Показ кнопок \"Купить новый билет\" и \"Перейти в «Мои заказы»\" - для страницы после банка\n\t\tbShowBankResultBtns: function bShowBankResultBtns() {\n\t\t\treturn this.bPageAfterBank === true;\n\t\t},\n\t\tjourneyReservation: function journeyReservation() {\n\t\t\t// Достаём из сессии резултаты бронирования \n\t\t\t// для того чтобы нарисовать кнопку возврата к платежу\n\t\t\t// ключи разные. Просто Reservation - это слепые, ResPg.result - это мобилка\n\t\t\tvar storedReservation = store.session('Reservation') || store.session('ResPg.result') || store.session('pass16_ResResponse');\n\t\t\treturn storedReservation;\n\t\t}\n\t},\n\tmixins: [__WEBPACK_IMPORTED_MODULE_0__mixins__[\"a\" /* default */]], // глобальные миксины\n\tmounted: function mounted() {\n\t\tvm = this;\n\t\tif (this.IS_DEV) {\n\t\t\twindow['VUEI_' + this.$options.name] = this; // на дев-сервере будет переменная VUEI_CabinetRedesign со ссылкой на компонент\n\t\t}\n\t\tthis.changeMode('active', true);\n\t\t// Страница после оплаты\n\t\tif (vm.$data.bPageAfterBank) {\n\t\t\tif (REQ.result === 'OK') {\n\t\t\t\tif (REQ.paymentSystem === 'YANDEX') {\n\t\t\t\t\tvm.bankResult_checkPaymentYandex();\n\t\t\t\t} else {\n\t\t\t\t\tvm.bankResult_finalizePayment();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvm.bShowRetryPayment = true; // показ кнопки \"Попытаться оплатить ещё раз\"\n\t\t\t}\n\t\t}\n\t\t// Обычный личный кабинет\n\t\telse {\n\t\t\t\tvm.getOrders();\n\t\t\t}\n\t},\n\tdirectives: {\n\t\t'jqui-datepicker': __WEBPACK_IMPORTED_MODULE_1__directives_jqui_datepicker_js__[\"a\" /* default */]\n\t},\n\tmethods: {\n\t\tgetOrders: getOrders,\n\t\t// Кнопка \"Перейти в Мои Заказы\" на странице возврата из банка\n\t\tgotoCabinet: function gotoCabinet() {\n\t\t\tthis.$data.HUMAN_ERROR = '';\n\t\t\t$('html,body').animate({\n\t\t\t\tscrollTop: 0\n\t\t\t}, 300);\n\t\t\tthis.$data.bPageAfterBank = false;\n\t\t\tthis.$data.form.saleOrderId = '';\n\t\t\tthis.$data.PAYMENT_RESULT = '';\n\t\t\tthis.getOrders();\n\t\t},\n\t\tretryPayment: function retryPayment() {\n\t\t\tthis.$refs.paymentHandler.submit();\n\t\t},\n\t\tchangeMode: function changeMode(newMode, bDontMakeRequest) {\n\t\t\tif (this.$data.form.mode !== newMode) {\n\t\t\t\tthis.$data.form.mode = newMode;\n\t\t\t\tvar bActive = newMode === 'active';\n\n\t\t\t\tvar d = new Date();\n\t\t\t\tvar formattedDate = [UTIL.leftpad(d.getDate()), UTIL.leftpad(d.getMonth() + 1), d.getFullYear()].join('.');\n\t\t\t\tthis.$data.form.date0 = bActive ? formattedDate : '';\n\t\t\t\tthis.$data.form.date1 = bActive ? '' : formattedDate;\n\n\t\t\t\tif (!bDontMakeRequest) {\n\t\t\t\t\tthis.getOrders();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// получить статусы для всего заказа (APP_SALE_ORDER)\n\t\tgetStatusesForSaleOrder: function getStatusesForSaleOrder(sord) {\n\t\t\tvar $activeDialog = $('.ui-dialog-content:visible');\n\t\t\tif ($activeDialog.length !== 0) {\n\t\t\t\t// это сделано для PIRS-13686 (ON_AVISO_LIST)\n\t\t\t\t$activeDialog.dialog('close');\n\t\t\t}\n\t\t\tif (typeof $.scrollTo === 'function') {\n\t\t\t\tvar $sord = $('#hash-sord-' + sord.id);\n\t\t\t\t$.scrollTo($sord, 200, {\n\t\t\t\t\toffset: -50 // высота верхней панели с настройками слепых, иначе она перекрывает\n\t\t\t\t});\n\t\t\t}\n\t\t\tfor (var k = 0; k < sord.lst.length; k++) {\n\t\t\t\tvar ord = sord.lst[k]; // это запись в APP_ORDER\n\t\t\t\tthis.getStatuses(ord);\n\t\t\t}\n\t\t},\n\t\t// получить статусы для поездки (APP_ORDER)\n\t\t// TODO PIRS-13714\n\t\tgetStatuses: function getStatuses(ord, callback) {\n\t\t\tord.LOADING_STATUSES = true;\n\t\t\tord.LOADER = true;\n\t\t\tord.HUMAN_ERROR = null;\n\t\t\tvar url = '?layer_id=5417';\n\t\t\tvar params = {\n\t\t\t\tORDER_ID: ord.N\n\t\t\t};\n\t\t\tvar requestRidOptions = {\n\t\t\t\tonIdle: function onIdle(res) {\n\t\t\t\t\t// запоминаем RID для загрузки PDF и PNG бланков, иначе PIRS-14446\n\t\t\t\t\tord._statusRid = res.RID;\n\t\t\t\t}\n\t\t\t};\n\t\t\tUTIL.ridQuery(url, params, ord, requestRidOptions).done(function (result) {\n\t\t\t\tUTIL.log(result);\n\t\t\t\trequestRidOptions.HUMAN_ERROR = null;\n\t\t\t\tord._statusRid_timestamp = Date.now(); // для проверки протухших rid\n\t\t\t\tvar ticDate = result.timestamp.substr(3, 2) + '/' + result.timestamp.substr(0, 2) + '/' + result.timestamp.substr(6, 4) + ' ' + result.timestamp.substr(11);\n\t\t\t\tvar dateTimeNow = new Date(Date.parse(ticDate)); // Date.parse принимает дату в формате MM.DD.YYYY, чтоб его..\n\n\t\t\t\tord.LOADER = false;\n\t\t\t\tvar hasWithER = false;\n\t\t\t\tvar hasWithoutER = false;\n\t\t\t\tvar statuses = result.lst;\n\t\t\t\tfor (var i = 0; i < statuses.length; i++) {\n\t\t\t\t\tvar stat = statuses[i];\n\t\t\t\t\tfor (var k = 0; k < ord.lst.length; k++) {\n\t\t\t\t\t\tvar tik = ord.lst[k];\n\t\t\t\t\t\t// сопоставляем айди билета в данных и в ответе по статусам, чтобы нарисовать статусы там где нужно\n\t\t\t\t\t\tvar blockRefund = tik.dateTimeDeparture - dateTimeNow < 60 * 59 * 1000 ? true : false; // блокировка сдачи билета за час до отправления\n\t\t\t\t\t\tif (tik.n === stat.n) {\n\t\t\t\t\t\t\ttik.STATUS.NAME = stat['name_' + window.PAGEDATA.lang];\n\t\t\t\t\t\t\ttik.STATUS.CODE = stat.status;\n\t\t\t\t\t\t\ttik.LOADING_STATUS = false;\n\t\t\t\t\t\t\t// update POLICY\n\t\t\t\t\t\t\tif (stat.policies && stat.policies.length && tik.POLICY && stat.policies[0].number == tik.POLICY.number) {\n\t\t\t\t\t\t\t\ttik.POLICY.statusId = stat.policies[0].statusId;\n\t\t\t\t\t\t\t\ttik.POLICY_STATUS = g_policyStatus[stat.policies[0].statusId];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttik.LOADER = false;\n\t\t\t\t\t\t// блокировать сдачу билета, если до отправления меньше 1 часа PIRS-14238\n\t\t\t\t\t\tif (blockRefund) {\n\t\t\t\t\t\t\ttik.LOADING_REFUND_TICKET = blockRefund;\n\t\t\t\t\t\t\ttik.SHOW_REFUND_FOOD = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (stat.status === 'REGISTERED') {\n\t\t\t\t\t\thasWithER = true;\n\t\t\t\t\t\t// блокировать отмену регистрации, если до отправления меньше 1 часа PIRS-14238\n\t\t\t\t\t\tif (blockRefund) {\n\t\t\t\t\t\t\ttik.LOADING_STATUS = blockRefund;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (stat.status === 'PAID') {\n\t\t\t\t\t\thasWithoutER = true;\n\t\t\t\t\t} else if (stat.status === 'REFUNDED') {\n\t\t\t\t\t\ttik.status = stat.status;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (hasWithER === true && hasWithoutER === true) {\n\t\t\t\t\tord.ELREG_IFRMSG = 'PST_ELREG_BOTH';\n\t\t\t\t} else if (hasWithER === true) {\n\t\t\t\t\tord.ELREG_IFRMSG = 'PST_ELREG_ETICKET_A4';\n\t\t\t\t} else if (hasWithoutER === true) {\n\t\t\t\t\tord.ELREG_IFRMSG = 'PST_ELREG_GET_COUPON';\n\t\t\t\t}\n\n\t\t\t\tif (typeof callback === 'function') {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}).always(function () {\n\t\t\t\tord.LOADING_STATUSES = false;\n\t\t\t});\n\t\t},\n\t\tchangeStatus: function changeStatus(tik, ord, bEnable) {\n\t\t\tif (tik.LOADING_STATUS && bEnable === false) return; // блокировка отмены пройденной регистрации за 1 час до отправления PIRS-14238\n\t\t\ttik.LOADING_STATUS = true;\n\t\t\ttik.LOADER = true;\n\t\t\tvar params = {\n\t\t\t\taction: bEnable === true ? 'REGISTER' : 'UNREGISTER',\n\t\t\t\tORDER_ID: ord.N,\n\t\t\t\tticket_id: tik.n\n\t\t\t};\n\t\t\tUTIL.ridQuery('?layer_id=5418', params, tik).done(function (result) {\n\t\t\t\tif (result.result === 'OK') {\n\t\t\t\t\tvm.getStatuses(ord);\n\t\t\t\t}\n\t\t\t}).always(function () {\n\t\t\t\ttik.LOADING_STATUS = false;\n\t\t\t});\n\t\t},\n\t\t/**\r\n  \ttik\t\t\t\t{object}\tбилет (APP_TICKET)\r\n  \tord\t\t\t\t{object}\tзаказ (APP_ORDER)\r\n  \tsord\t\t\t{object}\tпоездка (APP_SALE_ORDER)\r\n  \tbForceRefund\t{boolean}\tне запрашивать подтверждение пользователя\r\n  */\n\t\trefundTicket: function refundTicket(tik, ord, sord, bForceRefund) {\n\t\t\t//Todo создать отдельный признак для блокировки билета.\n\t\t\tif (tik.LOADING_REFUND_TICKET) return; // блокировка возврата билета за 1 час до отправления PIRS-14238\n\t\t\ttik.LOADING_REFUND_TICKET = true; // определено при запросе статуса билета.\n\t\t\tvar params = {\n\t\t\t\taction: bForceRefund === true ? 'REFUND' : 'PREVIEW',\n\t\t\t\tORDER_ID: ord.N,\n\t\t\t\tticket_id: tik.n\n\t\t\t};\n\t\t\tUTIL.ridQuery('?layer_id=5421', params, tik).done(function (result) {\n\t\t\t\ttik.HUMAN_ERROR = null;\n\t\t\t\tUTIL.log(result);\n\t\t\t\tvar msgTemplate = window.lang(['Ticket', 'The amount due for return: $summa$']);\n\t\t\t\tif ('lst' in result && 'sum' in result.lst[0]) {\n\t\t\t\t\t// то бишь action==='PREVIEW'\n\t\t\t\t\tvar rfnd = {\n\t\t\t\t\t\tbMulti: result.lst.length > 1,\n\t\t\t\t\t\tbDisabledCompanion: tik.disabledTypeId === 1,\n\t\t\t\t\t\tbYandex: sord.paymentMethod === 'YANDEX_MONEY',\n\t\t\t\t\t\tbDMS: tik.POLICY ? tik.POLICY.number && tik.POLICY.statusId == 40 : null,\n\t\t\t\t\t\tbDMS_cost: tik.POLICY ? tik.POLICY.cost : null,\n\t\t\t\t\t\tbINSUR: tik.INSUR ? tik.INSUR.bRefund == 0 : null,\n\t\t\t\t\t\tbINSUR_cost: tik.INSUR ? tik.INSUR.cost : null,\n\t\t\t\t\t\tord: ord,\n\t\t\t\t\t\tlist: []\n\t\t\t\t\t};\n\t\t\t\t\t// собираем все билеты заказа в билет для нахождения соответствия\n\t\t\t\t\t// респонса и возвращаемых билетов\n\t\t\t\t\tvar ordTicketList = [];\n\t\t\t\t\tfor (var k = 0, lenk = ord.lst.length; k < lenk; k++) {\n\t\t\t\t\t\tvar ticket = ord.lst[k];\n\t\t\t\t\t\tordTicketList[ticket.id] = ticket;\n\t\t\t\t\t}\n\t\t\t\t\tfor (var i = 0, len = result.lst.length; i < len; i++) {\n\t\t\t\t\t\tvar refundItem = result.lst[i];\n\t\t\t\t\t\tvar ticket = ordTicketList[refundItem.ticketNum];\n\t\t\t\t\t\trefundItem = $.extend(ticket, refundItem);\n\t\t\t\t\t\trefundItem.summa = refundItem.sum; // в лучших традициях нашего АПИ в словарном тексте написано $summa$ а в респонсе - sum.\n\t\t\t\t\t\trefundItem.text = UTIL.formatStr(msgTemplate, {\n\t\t\t\t\t\t\tsumma: refundItem.sum,\n\t\t\t\t\t\t\ttime: refundItem.time,\n\t\t\t\t\t\t\tdate: refundItem.date\n\t\t\t\t\t\t}, ['$', '$']);\n\t\t\t\t\t\trfnd.list.push(refundItem);\n\t\t\t\t\t}\n\t\t\t\t\tvm.$data.refundMsg = rfnd; // скармливаем данные вуЮ, он их рендерит\n\n\t\t\t\t\tvar confirmButtons = {};\n\t\t\t\t\tconfirmButtons[window.lang('Make refund')] = function (evt) {\n\t\t\t\t\t\tvm.refundTicket(tik, ord, sord, true);\n\t\t\t\t\t\t$(this).dialog('close');\n\t\t\t\t\t};\n\t\t\t\t\tconfirmButtons[window.lang('Cancel')] = function (evt) {\n\t\t\t\t\t\t$(this).dialog('close');\n\t\t\t\t\t};\n\t\t\t\t\tvm.$nextTick(function () {\n\t\t\t\t\t\tvar opts = {\n\t\t\t\t\t\t\tbuttons: confirmButtons\n\t\t\t\t\t\t};\n\t\t\t\t\t\tUTIL.dialogMessage($('.j-refund-popup'), opts);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// то бишь action==='REFUND'\n\t\t\t\t\tvm.getStatuses(ord);\n\t\t\t\t}\n\t\t\t\tif (bForceRefund && tik.INSUR) {\n\t\t\t\t\t// то бишь action==='REFUND'\n\t\t\t\t\tvm.$set(tik.INSUR, 'Refunded', 1); // ставим такой же признак как приходит с сервера PIRS-16888\n\t\t\t\t}\n\t\t\t}).always(function () {\n\t\t\t\ttik.LOADING_REFUND_TICKET = false;\n\t\t\t});\n\t\t},\n\t\trefundInsurance: function refundInsurance(tik, ord) {\n\t\t\tvar confirmButtons = {};\n\t\t\tconfirmButtons[lang('Make refund')] = function (evt) {\n\t\t\t\tvar dfInsrRef = $.ajax({\n\t\t\t\t\turl: '?layer_id=5664',\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tORDER_ID: ord.N,\n\t\t\t\t\t\tpassengerId: tik.INSUR.passId,\n\t\t\t\t\t\tticketNumber: tik.id,\n\t\t\t\t\t\tticket_id: tik.n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tdfInsrRef.success(function (insrRetundRes) {\n\t\t\t\t\tif (insrRetundRes.result === \"OK\") {\n\t\t\t\t\t\tvm.$set(tik.INSUR, 'Refunded', 1);\n\t\t\t\t\t}\n\t\t\t\t}).error(function (insrRetundRes) {\n\t\t\t\t\tUTIL.dialogMessage('В процессе возврата страховки произошла ошибка.<br/>Пожалуйста, повторите попытку позже.');\n\t\t\t\t});\n\t\t\t\t$(this).dialog('close');\n\t\t\t};\n\t\t\tconfirmButtons[lang('Cancel')] = function (evt) {\n\t\t\t\t$(this).dialog('close');\n\t\t\t};\n\t\t\tUTIL.dialogMessage('Осуществить возврат страховки?', {\n\t\t\t\tbuttons: confirmButtons\n\t\t\t});\n\t\t},\n\t\trefundDMS: function refundDMS(tik, ord) {\n\t\t\tvar confirmButtons = {},\n\t\t\t    result;\n\t\t\tconfirmButtons[lang('Make refund')] = function (evt) {\n\t\t\t\tvar params = {\n\t\t\t\t\tjourneyId: ord.journeyId,\n\t\t\t\t\tpolicyNumber: tik.POLICY.number\n\t\t\t\t};\n\t\t\t\tUTIL.ridQuery('?layer_id=5890', params, tik, {}).done(function (result) {\n\t\t\t\t\tif (result.result === \"OK\") {\n\t\t\t\t\t\ttik.policies[0].statusId = 70;\n\t\t\t\t\t\ttik.POLICY_STATUS = g_policyStatus[tik.policies[0].statusId];\n\t\t\t\t\t}\n\t\t\t\t\tif (result.statusText == 'OK') {\n\t\t\t\t\t\tresult = JSON.parse(result.responseText);\n\t\t\t\t\t\tUTIL.log('Ошибка при возврате полиса', result);\n\t\t\t\t\t\tUTIL.dialogMessage('В процессе возврата страховки произошла ошибка.<br/>Пожалуйста, обновите страницу и повторите попытку позже.');\n\t\t\t\t\t}\n\t\t\t\t}).always(function (result) {\n\t\t\t\t\ttik.LOADING_REFUND_TICKET = false;\n\t\t\t\t\tif (result.statusText == 'OK') {\n\t\t\t\t\t\tUTIL.log('Ошибка при возврате полиса.', result);\n\t\t\t\t\t\tUTIL.dialogMessage('В процессе возврата страховки произошла ошибка.<br/>Пожалуйста, обновите страницу и повторите попытку позже.');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$(this).dialog('close');\n\t\t\t};\n\t\t\tconfirmButtons[lang('Cancel')] = function (evt) {\n\t\t\t\t$(this).dialog('close');\n\t\t\t};\n\t\t\tvar msg = window.IFRMSG.POLICY_CABINET_REFUND_SUM + '&nbsp;' + tik.policies[0].cost + '&nbsp;руб.<br/>' + window.IFRMSG.REFUND_INFO_CABINET + '<br/>Осуществить возврат полиса?';\n\t\t\tUTIL.dialogMessage(msg, {\n\t\t\t\tbuttons: confirmButtons\n\t\t\t});\n\t\t},\n\t\tgetBlank_insurance: function getBlank_insurance(tik, format) {\n\t\t\tvar dlAddress = location.origin + '/blank/insurance/download/' + format + '/passenger/' + tik.INSUR.passId + '/' + window.PAGEDATA.lang;\n\t\t\tdownloadFile(dlAddress);\n\t\t},\n\t\tgetBlank_policy: function getBlank_policy(tik) {\n\t\t\tdownloadFile(tik.POLICY.link);\n\t\t},\n\t\tshowInsurances: function showInsurances(tik) {\n\t\t\tif (tik.SHOW_INSURANCES === true) {\n\t\t\t\ttik.SHOW_INSURANCES = false;\n\t\t\t} else {\n\t\t\t\ttik.SHOW_INSURANCES = true;\n\t\t\t}\n\t\t},\n\t\tshowRefundedOrder: function showRefundedOrder(ord) {\n\t\t\tif (ord.SHOW_REFUNDED_ORDER === true) {\n\t\t\t\tord.SHOW_REFUNDED_ORDER = false;\n\t\t\t} else {\n\t\t\t\tord.SHOW_REFUNDED_ORDER = true;\n\t\t\t}\n\t\t},\n\t\tgetBlank_ticket: function getBlank_ticket(format, ord, tik) {\n\t\t\t// при загрузке бланка критерий необходимости загрузки билета\n\t\t\t// отсутствие у билета статуса !tik.STATUS.CODE\n\t\t\t// значит, статус и неокончательный и притом не получен аяксом\n\t\t\tvar currentTimestamp = Date.now();\n\t\t\tvar statusCheckNeeded = false;\n\t\t\tif (!tik) {\n\t\t\t\t// билет не передан, значит скачать надо бланк заказа\n\t\t\t\t// проверяем все билеты заказа на предмет отсутствия статуса\n\t\t\t\tfor (var i = 0; i < ord.lst.length; i++) {\n\t\t\t\t\tif (!ord.lst[i].STATUS.CODE || ridTimestampInvalid(ord._statusRid_timestamp)) {\n\t\t\t\t\t\tstatusCheckNeeded = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// билет передан, значит скачать надо бланк билета\n\t\t\t\t// проверяем этот билет на предмет отсутствия статуса\n\t\t\t\tstatusCheckNeeded = !tik.STATUS.CODE || ridTimestampInvalid(ord._statusRid_timestamp);\n\t\t\t}\n\n\t\t\tif (statusCheckNeeded) {\n\t\t\t\tvm.getStatuses(ord, downloadBlankTicket);\n\t\t\t} else {\n\t\t\t\tdownloadBlankTicket();\n\t\t\t}\n\n\t\t\tfunction downloadBlankTicket() {\n\t\t\t\t// https://wiki.oooinex.ru/pages/viewpage.action?pageId=23825058\n\t\t\t\tvar urlParams = {\n\t\t\t\t\torigin: window.location.origin,\n\t\t\t\t\tformat: format,\n\t\t\t\t\torderId: ord.N,\n\t\t\t\t\tlang: window.PAGEDATA.lang,\n\t\t\t\t\trandom: Math.random() * 1e5 | 0\n\t\t\t\t};\n\t\t\t\tvar url = UTIL.formatStr('{origin}/blank/ticket/download/{format}/order/{orderId}/{lang}?_rnd={random}', urlParams);\n\t\t\t\tif (tik && tik.n) {\n\t\t\t\t\t// если билет не передан в getBlank_ticket\n\t\t\t\t\t// значит, скачиваем бланк не всего заказа, а одного билета\n\t\t\t\t\turl += '&ticketId=' + tik.n;\n\t\t\t\t}\n\t\t\t\tif (ord._statusRid) {\n\t\t\t\t\t// для показа актуального статуса у билетов с неокончательным статусом\n\t\t\t\t\t// Это свойство ord заполняется автоматом при запросе статусов\n\t\t\t\t\t// Иначе PIRS-14446 + PIRS-14447\n\t\t\t\t\turl += '&statusRid=' + ord._statusRid;\n\t\t\t\t}\n\t\t\t\tdownloadFile(url);\n\t\t\t}\n\n\t\t\t// грубое определение разницы во времени за которую протухнет statusRid\n\t\t\t// время в 5 минут взято из cabinet.js (см. function updateRid)\n\n\n\t\t\tfunction ridTimestampInvalid(ridTimestamp) {\n\t\t\t\tif (!ridTimestamp) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tvar diffMinutes = (currentTimestamp - ridTimestamp) / (1000 * 60);\n\t\t\t\treturn diffMinutes > 5;\n\t\t\t}\n\t\t},\n\n\t\t/*Дополнительное питание*/\n\t\tgetFoodDetails: function getFoodDetails(ord, tik, extendedService) {\n\t\t\tif (this.foodDetails.selectedMenuItems && this.foodDetails.ticketId === tik.n) {\n\t\t\t\t// заказ уже открыт, просто скрыть его.\n\t\t\t\treturn this.foodDetails.selectedMenuItems = false;\n\t\t\t}\n\n\t\t\t//var self = this;\n\t\t\tvar selectedMenuItems = extendedService.foodPattern.split('');\n\t\t\tvar selectedVariants = extendedService.foodType && extendedService.foodType.replace(/\\//g, '').split('');\n\t\t\tfor (var i = 0; i < selectedMenuItems.length; i++) {\n\t\t\t\tselectedMenuItems[i] = {\n\t\t\t\t\tfoodPattern: selectedMenuItems[i],\n\t\t\t\t\tfoodCode: selectedVariants[i]\n\t\t\t\t};\n\t\t\t}\n\t\t\tthis.foodDetails.ticketId = tik.n;\n\t\t\tthis.foodDetails.selectedMenuItems = extendedService.foodCount;\n\t\t},\n\t\t// Получение бланка дополнительного питания\n\t\t// причём в случае HTML возвращается ссылка\n\t\t// а в случае PDF производится загрузка\n\t\tgetFoodBlank: function getFoodBlank(tik, ord, format, extendedService) {\n\t\t\tif (format === 'pdf') {\n\t\t\t\tvar url = '/blank/extendedfood/download/pdf/order/' + ord.N + '/serviceId/' + extendedService.id + '?ticketId=' + tik.n;\n\t\t\t\t//console.log(url)\n\t\t\t\tdownloadFile(url);\n\t\t\t} else if (format === 'html') {\n\t\t\t\tvar refundParam = extendedService.statusId === 70 ? '&refund=1' : '';\n\t\t\t\treturn '?STRUCTURE_ID=735&layer_id=5962&tik_id=' + tik.id + '&ORDER_ID=' + ord.N + refundParam;\n\t\t\t}\n\t\t},\n\t\t// Сдать дополнительное питание\n\t\trefundFood: function refundFood(ord, tik, extendedService) {\n\t\t\tvar closeDialog = function closeDialog() {\n\t\t\t\t$(this).dialog('close');\n\t\t\t};\n\t\t\tvar self = this;\n\t\t\tvar refund = function refund(evt) {\n\t\t\t\tvar dialogElement = this;\n\t\t\t\t$(evt.currentTarget).hide();\n\t\t\t\tself.foodDetails.LOADING_REFUND = true;\n\t\t\t\tUTIL.ridQuery('/ticket/secure/ru?layer_id=5945&action=Return&orderId=' + ord.N + '&ticketId=' + tik.n + '&serviceId=' + extendedService.id, {}, {}).then(function () {\n\t\t\t\t\t//Успешный запрс возврата!\n\t\t\t\t\tself.foodDetails.LOADING_REFUND = false;\n\t\t\t\t\textendedService.statusId = 70;\n\t\t\t\t\t$(dialogElement).dialog('close');\n\t\t\t\t}, function (reason) {\n\t\t\t\t\tself.foodDetails.LOADING_REFUND = false;\n\t\t\t\t\t$(dialogElement).find('.jqui-dialog-message').html('При возврате дополнительного питания произошла ошибка: ' + reason);\n\t\t\t\t});\n\t\t\t};\n\t\t\tself.foodDetails.LOADING_REFUND = true;\n\t\t\tUTIL.ridQuery('/ticket/secure/ru?layer_id=5945&action=Info&orderId=' + ord.N + '&ticketId=' + tik.n + '&serviceId=' + extendedService.id, {}, {}).then(function (response) {\n\t\t\t\tself.foodDetails.LOADING_REFUND = false;\n\t\t\t\t// текущая дата сервера для проверки возврата еды\n\t\t\t\tvar ticDate = response.timestamp.substr(3, 2) + '/' + response.timestamp.substr(0, 2) + '/' + response.timestamp.substr(6, 4) + ' ' + response.timestamp.substr(11);\n\t\t\t\tvar dateTimeNow = new Date(Date.parse(ticDate)); // Date.parse принимает дату в формате MM.DD.YYYY, чтоб его..\n\n\t\t\t\tif (tik.dateTimeDeparture - dateTimeNow < 60 * 59 * 1000) {\n\t\t\t\t\t// проверка серверного времени и запрет возврата еды менее чем за час до отправления.\n\t\t\t\t\t// тут показываем сообщение о том, что время вышло\n\t\t\t\t\ttik.SHOW_REFUND_FOOD_MSG = true;\n\t\t\t\t\ttik.SHOW_REFUND_FOOD = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar cost = response.response.foodRefunds[0] && response.response.foodRefunds[0].refundAmount;\n\t\t\t\tvar params = {\n\t\t\t\t\tbuttons: {}\n\t\t\t\t};\n\t\t\t\tparams.buttons[lang('Make refund')] = refund;\n\t\t\t\tparams.buttons[lang('Cancel')] = closeDialog;\n\t\t\t\tUTIL.dialogMessage('Сумма к возврату за дополнительное питание: ' + cost + ' руб.', params);\n\t\t\t}, function (reason) {\n\t\t\t\tself.foodDetails.LOADING_REFUND = false;\n\t\t\t\tvar buttons = {};\n\t\t\t\tbuttons[lang('Ok')] = closeDialog;\n\t\t\t\tUTIL.dialogMessage('Ошибка при получении информации о возврате: ' + reason);\n\t\t\t});\n\t\t},\n\t\t// Видимость нижней плашки с кнопками типа \"Вернуть билет\" и \"Сменить ЭР\"\n\t\tisTicketActionsAvailable: function isTicketActionsAvailable(tik, ord) {\n\t\t\treturn !ord.left && !!tik.STATUS.CODE && tik.STATUS.CODE !== 'REFUNDED';\n\t\t},\n\t\t// Страховка НС приобретена и не возвращена\n\t\tisInsuranceActive: function isInsuranceActive(tik) {\n\t\t\treturn tik.INSUR && tik.INSUR.Refunded !== 1;\n\t\t},\n\t\t// Страховка ДМС приобретена и не возвращена\n\t\tisPolicyActive: function isPolicyActive(tik) {\n\t\t\treturn tik.POLICY && tik.POLICY.Refunded !== 1;\n\t\t},\n\t\t// Доступен возврат страховки ДМС\n\t\tisPolicyRefundAvailable: function isPolicyRefundAvailable(tik, ord) {\n\t\t\treturn this.isTicketActionsAvailable(tik, ord) && tik.POLICY_STATUS && tik.POLICY_STATUS.code == 'ISSUED';\n\t\t},\n\t\t// Доступен возврат страховки НС\n\t\tisInsuranceRefundAvailable: function isInsuranceRefundAvailable(tik, ord) {\n\t\t\tvar refundAllowed = window.PAGEDATA.BaseParams.is_insurance_refund === '1'; // PIRS-12830\n\t\t\treturn refundAllowed && this.isTicketActionsAvailable(tik, ord) && this.isInsuranceActive(tik) && tik.INSUR.bRefund === 1;\n\t\t},\n\t\tprepaidFood_visible: function prepaidFood_visible(tik, ord) {\n\t\t\tif (ord.left && !ord.foodId) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn tik.food;\n\t\t},\n\t\t// Видимость всего блока дополнительного питания\n\t\taddFood_visible: function addFood_visible(tik) {\n\t\t\tvar hasFood = false;\n\t\t\tif (tik.extendedServices && tik.extendedServices.length) {\n\t\t\t\tfor (var i = 0; i < tik.extendedServices.length; i++) {\n\t\t\t\t\tif (tik.extendedServices[i] && tik.extendedServices[i].typeId === 1) {\n\t\t\t\t\t\thasFood = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn tik.addFood || hasFood;\n\t\t},\n\t\taddFood_getArray: function addFood_getArray(tik) {\n\t\t\tvar i,\n\t\t\t    foodArray = [];\n\t\t\tif (tik.extendedServices && tik.extendedServices.length) {\n\t\t\t\tfor (i = 0; i < tik.extendedServices.length; i++) {\n\t\t\t\t\tif (tik.extendedServices[i] && tik.extendedServices[i].typeId === 1) {\n\t\t\t\t\t\tif (tik.extendedServices[i].statusId === 30) {\n\t\t\t\t\t\t\ttik.extendedServices[i].isPurchased = true;\n\t\t\t\t\t\t\ttik.extendedServices[i].isRefunded = false;\n\t\t\t\t\t\t} else if (tik.extendedServices[i].statusId === 70) {\n\t\t\t\t\t\t\ttik.extendedServices[i].isPurchased = false;\n\t\t\t\t\t\t\ttik.extendedServices[i].isRefunded = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttik.extendedServices[i].isLast = tik.extendedServices.length === i + 1;\n\t\t\t\t\t\tfoodArray.push(tik.extendedServices[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (foodArray.length === 0 && tik.addFood === true) {\n\t\t\t\t// TODO переделать\n\t\t\t\tfoodArray = [{\n\t\t\t\t\tisLast: true,\n\t\t\t\t\tisFake: true\n\t\t\t\t}];\n\t\t\t\t// фейковое значение чтобы отображался блок Доп.питания с кнопкой купить PIRS-17115\n\t\t\t\t// причём он должен отображаться если питание сдано И если питание не было куплено\n\t\t\t}\n\t\t\treturn foodArray;\n\t\t},\n\t\taddFood_isBuyPossible: function addFood_isBuyPossible(tik) {\n\t\t\tvar hasPurchased = false;\n\t\t\tif (tik.extendedServices && tik.extendedServices.length) {\n\t\t\t\tfor (var i = 0; i < tik.extendedServices.length; i++) {\n\t\t\t\t\tif (tik.extendedServices[i] && tik.extendedServices[i].typeId === 1 && tik.extendedServices[i].statusId === 30) {\n\t\t\t\t\t\thasPurchased = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn tik.addFood && !hasPurchased;\n\t\t},\n\t\taddFood_showMenuWindow: function addFood_showMenuWindow(url) {\n\t\t\t// см. также showMenuWindow из pass16/market-food.js\n\t\t\turl = url || '/catering/public/ru?layer_name=catering-menu';\n\t\t\twindow.open(url, 'Menu', '_blank, strWindowFeatures, height=400, width=737, scrollbars=1');\n\t\t},\n\t\t// PIRS-16873 Купить товары с маркета\n\t\tbuyAdditionals: function buyAdditionals(ordslot, ord, tik, addType) {\n\t\t\t// эмулируем структуру данных редизайна :(\n\t\t\t// можно попробовать брать данные о билете из слоя 5744, кот. используется в бланке\n\t\t\tvar _tik = $.extend({\n\t\t\t\tticketId: tik.n,\n\t\t\t\tpass: [$.extend({}, tik, { // пассажир в билете в петином коде выделяется в отдельный подобъект\n\t\t\t\t\tshortName: tik.name,\n\t\t\t\t\ttariff: tik.tariffId\n\t\t\t\t})] // лишний {} - чтобы не менять tik, иначе при нажатии на кнопку в поле тариф пишется Adult\n\t\t\t}, tik);\n\n\t\t\tvar _ord = $.extend({\n\t\t\t\torderId: ord.N,\n\t\t\t\ttickets: [_tik],\n\t\t\t\ttype: ord.carTypeRu, // additionals-store:194\n\t\t\t\tnumber2: ord.train //for additionals-store\n\t\t\t}, ord);\n\n\t\t\tvar pass16_ResResponse = {\n\t\t\t\tsaleOrderId: ordslot.id,\n\t\t\t\torders: [_ord],\n\t\t\t\tpaymentSystems: [{\n\t\t\t\t\t\"id\": 2,\n\t\t\t\t\t\"code\": \"BANK\",\n\t\t\t\t\t\"name\": \"Банковская карта\",\n\t\t\t\t\t\"tip\": \"Оплата картами банков.\" // Сейчас по факту товары нельзя купить за ЯД, вроде и не планируется\n\t\t\t\t}]\n\t\t\t};\n\n\t\t\tstore.session('pass16_ResResponse', pass16_ResResponse);\n\t\t\t//В URL добавляется параметр reduced=true он обрабатывается в js и указывает урезанный шаблон для VUE.\n\t\t\twindow.location.href = window.PAGEDATA.LayerLinks.additionals + '&reduced=true#/' + addType;\n\t\t},\n\n\t\t//Предоплаченное питание\n\t\t// PIRS-16436 food\n\t\tchangeMeal: function changeMeal(ord, tik, ordslot_index, ordslot) {\n\t\t\tvar self = this;\n\t\t\tUTIL.ridQuery('?layer_id=5713', {\n\t\t\t\tORDER_ID: tik.ORDER_ID\n\t\t\t}).then(function (responseData) {\n\t\t\t\tif (responseData.list && responseData.list.length === 0) {\n\t\t\t\t\tUTIL.dialogMessage('К сожалению, выбор типа питания для данного заказа недоступен');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tself.foodList = responseData;\n\t\t\t\tself.foodList.tikFoodName = tik.foodName;\n\t\t\t\tself.foodList.curSlotId = ordslot.id;\n\t\t\t\tself.foodList.curORDER_ID = ord.N;\n\t\t\t\tself.foodList.curTicketId = tik.n;\n\n\t\t\t\t// нексттик и вызов в коллбеке аякса потому что\n\t\t\t\t// иначе попап неверно вычисляет размер\n\t\t\t\tvm.$nextTick(function () {\n\t\t\t\t\tUTIL.dialogMessage($('#j-change-food-popup'), {\n\t\t\t\t\t\tbuttons: {\n\t\t\t\t\t\t\tOK: function OK() {\n\t\t\t\t\t\t\t\tself.setChangedFood();\n\t\t\t\t\t\t\t\t$(this).dialog('close');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}, function (reason) {\n\t\t\t\tUTIL.dialogMessage('Ошибка ' + reason);\n\t\t\t});\n\t\t},\n\t\tsetChangedFood: function setChangedFood() {\n\t\t\tvar self = this;\n\t\t\tconsole.log(this);\n\t\t\tvar val = self.foodListSelectedItem.split('_');\n\t\t\tvar foodName = val[0];\n\t\t\tvar foodId = val[1];\n\t\t\tfor (var n in self.slots) {\n\t\t\t\tif (self.slots[n].id === self.foodList.curSlotId) {\n\t\t\t\t\t// self.slots[n].lst[0].lst[0].foodName = foodName;\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\tORDER_ID: self.foodList.curORDER_ID,\n\t\t\t\t\t\tticket_id: self.foodList.curTicketId,\n\t\t\t\t\t\tfoodId: foodId\n\t\t\t\t\t};\n\t\t\t\t\tvar curN = n;\n\t\t\t\t\tUTIL.ridQuery('?layer_id=5718', params).done(function () {\n\t\t\t\t\t\tself.slots[curN].lst[0].lst[0].foodName = foodName;\n\t\t\t\t\t}).fail(function (err, res) {\n\t\t\t\t\t\tUTIL.dialogMessage('Во время сохранения данных произошла ошибка ' + res.info || err);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\r\n  \tПодготовка к превращению всего после банка в одностраничник\r\n  \tпотом вынесем в компоненты, а пока простыня\r\n  */\n\t\t// На шаге возврата из банка проверяется статус заказа в экспрессе и финализируется покупка у нас в системе\n\t\t// для яндекса перед этим действием случается дополнительная проверка статуса finalStep_checkPaymentYandex\n\t\tbankResult_finalizePayment: function bankResult_finalizePayment(bNoCostCheck) {\n\t\t\tvar vm = this;\n\t\t\t// на слое подтверждения с нулевой стоимостью помимо ВТТ и Лояльности обрабатывается также и Яндекс\n\t\t\tvar layerId = bNoCostCheck ? 5726 : 5752;\n\t\t\t// TODO сделать кнопку гашения в случае неуспеха, layerId = 5769\n\n\t\t\tvar params = {\n\t\t\t\torderId: vm.$data.form.saleOrderId\n\t\t\t};\n\n\t\t\t//Случай если оплачивались только доп услуги\n\t\t\tif (vm.$data.form.transactionId && vm.$data.form.type === 'SERVICE') {\n\t\t\t\tlayerId = 5954;\n\t\t\t\tparams.type = vm.$data.form.type;\n\t\t\t\tparams.transactionId = vm.$data.form.transactionId;\n\t\t\t}\n\n\t\t\tvar url = '?layer_id=' + layerId;\n\t\t\tvm.LOADING_ORDERS = true; // глобальная крутилка\n\t\t\tUTIL.ridQuery(url, params, vm.$data).done(function (result) {\n\t\t\t\tpaymentCheckDispatch(result);\n\t\t\t}).fail(function (result) {\n\t\t\t\tpaymentCheckDispatch(result, true);\n\t\t\t});\n\n\t\t\tfunction paymentCheckDispatch(result, bErrorMode) {\n\t\t\t\tvar allOk = REQ.result === 'OK' && result.result === 'OK' && !bErrorMode;\n\t\t\t\tif (allOk) {\n\t\t\t\t\t// window.UTIL.dialogMessage('Оплата успешно подтверждена');\n\t\t\t\t\tif (result.response && result.response[0] && result.response[0].saleOrderId) {\n\t\t\t\t\t\t// для проверямой покупки доп. услуг передан ID покупки билетов, которые нужно показать\n\t\t\t\t\t\tvm.$data.form.saleOrderId = result.response[0].saleOrderId;\n\t\t\t\t\t}\n\t\t\t\t\tvm.getOrders(); // Показ заказа\n\t\t\t\t} else {\n\t\t\t\t\t// window.UTIL.dialogMessage('Произошла ошибка при проверке платежа');\n\t\t\t\t\tvm.LOADING_ORDERS = false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// Кнопка \"Начать покупку сначала\"\n\t\tbankResult_goStart: function bankResult_goStart() {\n\t\t\tvar url;\n\t\t\tif (PAGEDATA.theme === 'SPECIAL') {\n\t\t\t\tvar steps = window.store.session('Steps');\n\t\t\t\turl = steps && steps.trains ? steps.trains + '|_PREVENT_FORM_SUBMIT_' : '/'; // TODO замена | на &\n\t\t\t} else if (PAGEDATA.theme === 'REDESIGN') {\n\t\t\t\turl = '?layer_name=e3-route';\n\t\t\t} else {\n\t\t\t\turl = '/';\n\t\t\t}\n\t\t\twindow.location.href = url;\n\t\t},\n\t\t// На шаге возврата из банка в случае Яндекса \n\t\t// первым делом проверяем статус платежа в Яндексе, см. PIRS-13679\n\t\tbankResult_checkPaymentYandex: function bankResult_checkPaymentYandex() {\n\t\t\tvar vm = this;\n\t\t\tvar url = '/ticket/services/status/journey/' + vm.$data.form.saleOrderId + '/payment/' + window.PAGEDATA.lang;\n\t\t\tvar params = {};\n\n\t\t\t//Случай если оплачивались только доп услуги\n\t\t\tif (vm.$data.form.transactionId && vm.$data.form.type === 'SERVICE') {\n\t\t\t\tparams.type = vm.$data.form.type;\n\t\t\t\tparams.transactionId = vm.$data.form.transactionId;\n\t\t\t}\n\t\t\tvm.LOADING_ORDERS = true; // глобальная крутилка\n\t\t\tUTIL.ridQuery(url, params, vm.$data).done(function (result) {\n\t\t\t\tif (result.result === 'Error') {\n\t\t\t\t\tonYaError();\n\t\t\t\t} else if (result.result === 'OK') {\n\t\t\t\t\tif (result.data === 'PAID_YANDEX') {\n\t\t\t\t\t\tvm.bankResult_finalizePayment(true);\n\t\t\t\t\t} else if (result.data === 'ISSUED') {\n\t\t\t\t\t\tvm.getOrders(); // Показ заказа\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvm.bankResult_checkPaymentYandex(); // Следующая попытка запроса статуса оплаты\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).fail(onYaError).always(function () {\n\t\t\t\tvm.LOADING_ORDERS = false;\n\t\t\t});\n\n\t\t\tfunction onYaError() {\n\t\t\t\twindow.UTIL.dialogMessage('Ошибка запроса статуса платежа Яндекс.Деньги');\n\t\t\t}\n\t\t},\n\t\t// алерт сделанный на жиквери-уи-диалоге\n\t\t// можно передать селектор (обязательно класс)\n\t\t// можно передать готовую строку\n\t\talert: window.UTIL.dialogMessage\n\t}\n};\n\nfunction getOrders(bNext) {\n\n\tvar data = this;\n\tif (bNext === true) {\n\t\tdata.form.page++;\n\t} else {\n\t\tdata.form.page = 1;\n\t\tdata.slots = [];\n\t}\n\tvar params = $.extend({}, data.form);\n\n\tif ('history' in window && 'replaceState' in window.history) {\n\t\t// Если браузер умеет менять урл без перезагрузки (ИЕ11+), делаем это\n\t\tvar params2url = $.extend(REQ, params);\n\t\tif (data.bPageAfterBank === false) {\n\t\t\tdelete params2url.xmlmsg;\n\t\t\tdelete params2url.orderId;\n\t\t\tdelete params2url.paymentSystem;\n\t\t\tdelete params2url.result;\n\t\t}\n\t\twindow.history.replaceState(null, null, '?' + $.param(params2url));\n\t}\n\n\tvm.LOADING_ORDERS = true;\n\tUTIL.ridQuery(PAGEDATA.LayerLinks.orderList, params, vm).done(function (responseData) {\n\t\tUTIL.log('Ответ на запрос списка заказов', responseData);\n\t\tvar ticDate = responseData.timestamp.substr(3, 2) + '/' + responseData.timestamp.substr(0, 2) + '/' + responseData.timestamp.substr(6, 4) + ' ' + responseData.timestamp.substr(11);\n\t\tvar dateTimeNow = new Date(Date.parse(ticDate)); // Date.parse принимает дату в формате MM.DD.YYYY, чтоб его..\n\t\tdata.HUMAN_ERROR = null; // обнуление ошибки\n\n\t\tif (responseData.slots && !responseData.slots.length && window.location.search.indexOf('tD=1') != -1 && window.sessionStorage['mobile_Test'] != undefined) {\n\t\t\tresponseData = window.sessionStorage['mobile_Test'] ? JSON.parse(window.sessionStorage['mobile_Test']) : responseData;\n\t\t\tUTIL.log('Восстановлено из Хранилища', responseData);\n\t\t}\n\n\t\tif (typeof responseData.slots === 'undefined') {\n\t\t\tvar herr = 'Произошла ошибка. Пожалуйста, попробуйте выполнить запрос позже.';\n\t\t\tif (window.PAGEDATA.showErrors === true) {\n\t\t\t\therr += '\\n' + JSON.stringify(responseData, null, 2);\n\t\t\t}\n\t\t\tdata.HUMAN_ERROR = herr;\n\t\t} else {\n\t\t\t// Перемывка данных нашего доблестного API\n\t\t\t// Свойства, которые создаются в результате перемывки, названы капсом\n\t\t\tfor (var i = 0; i < responseData.slots.length; i++) {\n\t\t\t\tvar sord = responseData.slots[i]; // это запись в APP_SALE_ORDER, в шаблонах зачем-то называется ordslot\n\t\t\t\tif (sord.jstatus === 'ON_AVISO') {\n\t\t\t\t\t// PIRS-13686. jstatus - это journey_status\n\t\t\t\t\tON_AVISO_cnt++;\n\t\t\t\t\t// заказы в статусе ON_AVISO, см. PIRS-13686\n\t\t\t\t\tUTIL.log('В ответе найдена поездка в статусе ON_AVISO', sord);\n\t\t\t\t}\n\t\t\t\t//сортировка по дате билетов в заказе\n\t\t\t\tif (sord.lst.length > 1) {\n\t\t\t\t\tsord.lst.sort(sortByDate);\n\t\t\t\t}\n\t\t\t\tif (sord.refunds && sord.refunds.length !== 0) {\n\t\t\t\t\tvar sordRefund = sord.refunds[0];\n\t\t\t\t\t// Ваш возврат по платежной транзакции {{./../../transactionId}} обработан. и т.п.\n\t\t\t\t\t// Сообщение на боевом содержит разметку для мусташа\n\t\t\t\t\tsord.REFUND_MESSAGE = window.IFRMSG._orderRefundMessage.replace('{{./../../transactionId}}', ordslot.transactionId).replace('{{transferDate}}', sordRefund.transferDate).replace('{{amount}}', sordRefund.amount);\n\t\t\t\t}\n\t\t\t\tsord.LINK_REFUND_REGISTER = '?STRUCTURE_ID=735&layer_id=5963&transaction_id=' + sord.transactionId; // PIRS-16410\n\t\t\t\tsord.defShowTime = responseData.defShowTime; // переношу сюда чтобы не срать в корень\n\t\t\t\tsord.mskTimeSuffix = responseData.mskTimeSuffix; // переношу сюда чтобы не срать в корень\n\t\t\t\tvar routeNames = [];\n\t\t\t\tfor (var k = 0; k < sord.lst.length; k++) {\n\t\t\t\t\tvar ord = sord.lst[k]; // это запись в APP_ORDER\n\t\t\t\t\tord.ELREG_IFRMSG = '';\n\t\t\t\t\t// Внимание! Здесь надо перечислять все свойства, которые отсутствуют в API, \n\t\t\t\t\t// иначе они не станут реактивными (т.е. не будут на лету обновляться в шаблоне) \n\t\t\t\t\t// TODO по уму создавать их конструктором\n\t\t\t\t\tord.LOADING_STATUSES = false; // initial\n\t\t\t\t\tord.STATUS = null;\n\t\t\t\t\tord.HIDE = false; // скрываем в списке\n\t\t\t\t\tord.LOADER = false; // initial\n\t\t\t\t\tord.LINK_BLANK = '?layer_id=5422&ORDER_ID=' + ord.N;\n\t\t\t\t\tord.LINK_PDF = '/blank/ticket/download/pdf/order/' + ord.N;\n\t\t\t\t\tord.LINK_AUTORACK = '?STRUCTURE_ID=5235&layer_id=5473&app_order_id=' + ord.N;\n\t\t\t\t\tif (window.PAGEDATA.BaseParams.UFS_HOTELS === '1' && !ord.arrived) {\n\t\t\t\t\t\tord.LINK_HOTEL = getHotelLink(sord);\n\t\t\t\t\t}\n\t\t\t\t\tord.HUMAN_ERROR = '';\n\t\t\t\t\tord.SHOW_REFUNDED_ORDER = false;\n\t\t\t\t\tord.journeyId = sord.id;\n\t\t\t\t\tif (vm.$data.DEBUG) {\n\t\t\t\t\t\tord.ORDER_LINK = window.location.href + '&saleOrderId=' + sord.id;\n\t\t\t\t\t}\n\n\t\t\t\t\trouteNames.push({\n\t\t\t\t\t\t'from': ord.parentStation0 || ord.station0,\n\t\t\t\t\t\t'to': ord.parentStation1 || ord.station1,\n\t\t\t\t\t\t'dir': ord.dir\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (var j = 0; j < ord.lst.length; j++) {\n\t\t\t\t\t\tvar tik = ord.lst[j]; // это запись в APP_TICKET\n\t\t\t\t\t\tvar ticDate = ord.date0.substr(3, 2) + '/' + ord.date0.substr(0, 2) + '/' + ord.date0.substr(6, 4);\n\t\t\t\t\t\t// Date.parse принимает дату в формате MM.DD.YYYY, чтоб его..\n\t\t\t\t\t\ttik.dateTimeDeparture = new Date(Date.parse(ticDate + ' ' + ord.time0));\n\t\t\t\t\t\t// нужно для активации/дезактивации кнопки \"Сдать билет\", за 1 час до выезда должна блокироваться\n\n\t\t\t\t\t\ttik.LINK_BLANK = '?layer_id=5422&ORDER_ID=' + ord.N + '&ticket_id=' + tik.n;\n\n\t\t\t\t\t\tif (tik.goodsTotalCost) {\n\t\t\t\t\t\t\ttik.goodsTotalCost;\n\t\t\t\t\t\t\ttik.LINK_GOODS_LIST = '?layer_id=5972&ticket_id=' + tik.n + '&order_id=' + ord.N;\n\t\t\t\t\t\t\ttik.LINK_GOODS_BLANK_PDF = '/blank/extendedService/download/pdf/serviceOrder/' + ord.N;\n\t\t\t\t\t\t\t// tik.LINK_GOODS_BLANK_PDF = '/blank/extendedService/display/pdf/serviceOrder/' + ord.N;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttik.HUMAN_ERROR = '';\n\t\t\t\t\t\ttik.STATUS = {\n\t\t\t\t\t\t\t// первоначальный статус может быть null (если он не окончательный)\n\t\t\t\t\t\t\t// а может быть и сразу нормальный (если окончательный, например REFUNDED)\n\t\t\t\t\t\t\tNAME: tik.status ? window.lang(['TicketStatus', tik.status]) : '',\n\t\t\t\t\t\t\tCODE: tik.status\n\t\t\t\t\t\t};\n\t\t\t\t\t\tord.STATUS = !tik.status ? false : true;\n\n\t\t\t\t\t\ttik.ORDER_ID = ord.N;\n\t\t\t\t\t\ttik.LOADING_STATUS = false; // initial\n\t\t\t\t\t\ttik.LOADER = false; // initial\n\t\t\t\t\t\ttik.LOADING_REFUND_TICKET = false; // initial\n\t\t\t\t\t\ttik.LOADING_REFUND_INSURANCE = false; // initial\n\t\t\t\t\t\ttik.LINK_PDF = '/blank/ticket/download/pdf/order/' + ord.N + '/' + window.PAGEDATA.lang;\n\t\t\t\t\t\ttik.LINK_PNG = '/blank/ticket/download/png/order/' + ord.N + '/' + window.PAGEDATA.lang;\n\t\t\t\t\t\ttik.SHOW_INSURANCES = false;\n\t\t\t\t\t\ttik.SHOW_REFUND_FOOD = true;\n\t\t\t\t\t\ttik.SHOW_REFUND_FOOD_MSG = false;\n\n\t\t\t\t\t\tif (tik.extendedServices && tik.extendedServices.length && tik.dateTimeDeparture - dateTimeNow < 60 * 59 * 1000) {\n\t\t\t\t\t\t\t// запрет возврата еды менее чем за час до отправления.\n\t\t\t\t\t\t\ttik.SHOW_REFUND_FOOD = false;\n\t\t\t\t\t\t\ttik.SHOW_REFUND_FOOD_MSG = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (tik.insurances[0]) {\n\t\t\t\t\t\t\ttik.INSUR = tik.insurances[0];\n\t\t\t\t\t\t\ttik.LINK_INSURANCE = '?layer_id=5666&passenger_id=' + tik.insurances[0].passId;\n\t\t\t\t\t\t\tif (tik.INSUR.passId) {\n\t\t\t\t\t\t\t\ttik.LINK_INS_PDF = '/blank/insurance/download/pdf/passenger/' + tik.INSUR.passId + '/' + window.PAGEDATA.lang;\n\t\t\t\t\t\t\t\t// UTIL.log('LINK_INS_PDF', tik.LINK_INS_PDF)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (tik.policies[0] && tik.number == tik.policies[0].ticketNumber) {\n\t\t\t\t\t\t\tif (tik.policies[0]) {\n\t\t\t\t\t\t\t\ttik.POLICY = tik.policies[0];\n\t\t\t\t\t\t\t\ttik.POLICY_DATE = tik.policies[0].startDate + ' — ' + tik.policies[0].finishDate;\n\t\t\t\t\t\t\t\ttik.POLICY_AREA = data.DMSAREA[tik.policies[0].areaId];\n\t\t\t\t\t\t\t\ttik.POLICY_STATUS = data.POLICY_STATUSES[tik.policies[0].statusId];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (tik.policies[0]) {\n\t\t\t\t\t\t\t//delete tik.policies[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar routeName = routeNames[0].from,\n\t\t\t\t    directional = routeNames[0].dir;\n\t\t\t\tif (routeNames.length > 1) {\n\t\t\t\t\tfor (var r = 1; r < routeNames.length; r++) {\n\t\t\t\t\t\tif (routeNames[r].dir != directional) {\n\t\t\t\t\t\t\trouteName += ' — ' + routeNames[r].from;\n\t\t\t\t\t\t\tdirectional = routeNames[r].dir;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\trouteName += ' — ' + routeNames[routeNames.length - 1].to;\n\t\t\t\t\t//UTIL.log(routeNames, routeName); // название сложных маршрутов\n\t\t\t\t\tsord.routeNames = routeName;\n\t\t\t\t}\n\n\t\t\t\tif (bNext === true) {\n\t\t\t\t\t// рисуем след. страницу\n\t\t\t\t\tdata.slots.push(sord);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (bNext !== true) {\n\t\t\t\t// первоначальная отрисовка\n\t\t\t\tdata.slots = responseData.slots;\n\t\t\t}\n\t\t\tif (ON_AVISO_cnt !== ON_AVISO_cnt_prev) {\n\t\t\t\tUTIL.dialogMessage($('.j-on-aviso-popup')); // PIRS-13686\n\t\t\t\tON_AVISO_cnt = ON_AVISO_cnt_prev;\n\t\t\t}\n\t\t\tdata.lastPage = responseData.lastPage;\n\n\t\t\tif (window.location.search.indexOf('tD=1') != -1 && !window.sessionStorage['mobile_Test']) {\n\t\t\t\twindow.sessionStorage['mobile_Test'] = JSON.stringify(responseData);\n\t\t\t}\n\t\t}\n\n\t\t// Формирование ссылки \"Забронировать отель\"\n\t\t// Изначально она с разметкой и закодированным хрефом\n\t\t// лежит в сообщении UFS_HOTELS_ORDERS\n\t\t// Формат хрефа - Петин, кастомные разделители \n\t\t// передаются третьим аргументом UTIL.formatStr\n\t\t// аргумент - SALE_ORDER (в нашем апи это элемент slots)\n\t\tfunction getHotelLink(sord) {\n\t\t\tvar ord = sord.lst[0];\n\t\t\tvar ordBack = sord.lst[1];\n\n\t\t\tif (ord.arrived || !window.IFRMSG.UFS_HOTELS_ORDERS) {\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tvar bdarray = [];\n\t\t\tfor (var i = 0; i < ord.lst.length; i++) {\n\t\t\t\tbdarray.push(ord.lst[i].birthday);\n\t\t\t}\n\n\t\t\tvar parametrizedMsg = UTIL.formatStr(window.IFRMSG.UFS_HOTELS_ORDERS, {\n\t\t\t\tcode1: ord.code1,\n\t\t\t\tdate1: ord.date1,\n\t\t\t\ttime1: ord.time1,\n\t\t\t\tbirthdays: bdarray.join(),\n\t\t\t\tbk_date0: ordBack ? ordBack.date0 : '',\n\t\t\t\tbk_time0: ordBack ? ordBack.time0 : ''\n\t\t\t}, ['$%', '$']).replace(/http:\\/\\/pass/gm, window.location.protocol + '//pass'); // чтобы ссылки на БДММ не вызывали варнинга\n\t\t\treturn parametrizedMsg;\n\t\t}\n\n\t\tfunction sortByDate(a, b) {\n\t\t\tvar date1 = TDate.parse(a.date0),\n\t\t\t    date2 = TDate.parse(b.date0);\n\t\t\treturn date1 - date2;\n\t\t}\n\t}).always(function () {\n\t\tdata.LOADING_ORDERS = false;\n\t});\n};\n\nfunction downloadFile(url) {\n\tdocument.querySelector('#download-iframe').setAttribute('src', url);\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (component);\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(0)();\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(0)();\n// imports\n\n\n// module\nexports.push([module.i, \".devbar[data-v-9fdb1872]{z-index:777;position:fixed;top:0;right:0;background:#fff;padding:15px 20px;border-radius:0 0 0 14px;box-shadow:-2px 2px 9px 1px #666;line-height:26px}.devbar .glyphicon[data-v-9fdb1872]{cursor:pointer}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(0)();\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(0)();\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(30)\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(11),\n  /* template */\n  null,\n  /* scopeId */\n  \"data-v-6ecc6f64\",\n  /* cssModules */\n  null\n)\n\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(31)\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(12),\n  /* template */\n  __webpack_require__(27),\n  /* scopeId */\n  \"data-v-9fdb1872\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(32)\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(13),\n  /* template */\n  __webpack_require__(28),\n  /* scopeId */\n  \"data-v-e59c5d94\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    staticClass: \"devbar\"\n  }, [_c('a', {\n    attrs: {\n      \"href\": _vm.homeUrl\n    }\n  }, [_c('i', {\n    staticClass: \"glyphicon glyphicon-home\"\n  })]), _vm._v(\"  \\n\\t\\t\"), _c('a', {\n    attrs: {\n      \"href\": _vm.realUrl\n    }\n  }, [_c('i', {\n    staticClass: \"glyphicon glyphicon-new-window\",\n    attrs: {\n      \"title\": \"Перейти на реальную (непроксированную) страницу. Не забудь сбилдить изменения\"\n    }\n  })])])])\n},staticRenderFns: []}\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [(_vm.paymentAvailable) ? [_c('h3', [_vm._v(\"Способ оплаты\")]), _vm._v(\" \"), _vm._l((_vm.list), function(ps) {\n    return _c('div', {\n      staticClass: \"pass-reserv-paymethod\",\n      class: {\n        'selected': _vm.curCode === ps.code\n      },\n      attrs: {\n        \"tabindex\": \"0\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.select(ps)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"row\"\n    }, [_vm._m(0, true), _vm._v(\" \"), _c('div', {\n      staticClass: \"col-md-22\"\n    }, [_c('label', [_c('span', {\n      staticClass: \"sr-only\"\n    }, [_c('input', {\n      attrs: {\n        \"type\": \"radio\",\n        \"name\": ps.name\n      },\n      domProps: {\n        \"value\": ps.code\n      }\n    }), _vm._v(\"  \\n\\t\\t\\t\\t\\t\\t\")]), _vm._v(\"\\n\\t\\t\\t\\t\\t\\t\" + _vm._s(ps.name) + \"\\n\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), _c('br'), _vm._v(\"\\n\\t\\t\\t\\t\\t\" + _vm._s(ps.tip) + \"\\n\\t\\t\\t\\t\")])])])\n  }), _vm._v(\" \"), (_vm.yandexMoney) ? _c('form', {\n    ref: \"yaform\",\n    attrs: {\n      \"action\": _vm.yandexMoney.url || 'https://money.yandex.ru/eshop.xml',\n      \"method\": \"post\"\n    }\n  }, _vm._l((_vm.yandexMoney), function(val, key) {\n    return (key !== 'url') ? _c('input', {\n      attrs: {\n        \"name\": key,\n        \"type\": \"hidden\"\n      },\n      domProps: {\n        \"value\": val\n      }\n    }) : _vm._e()\n  })) : _vm._e()] : _vm._e(), _vm._v(\" \"), (_vm.HUMAN_ERROR) ? _c('pre', {\n    staticClass: \"pre-message pre-message-common\"\n  }, [_vm._v(_vm._s(_vm.HUMAN_ERROR))]) : _vm._e()], 2)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"col-md-2 text-center\"\n  }, [_c('i', {\n    staticClass: \"glyphicon glyphicon-ok\"\n  })])\n}]}\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [(_vm.bShowForm) ? _c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-md-24\"\n  }, [_c('form', {\n    staticClass: \"pass-cabinet-form form-horizontal\",\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.getOrders($event)\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"row form-group\"\n  }, [_c('div', {\n    staticClass: \"col-md-4\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"id-name\"\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"Last name\"\n    }\n  })], 1), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.name),\n      expression: \"form.name\"\n    }],\n    staticClass: \"form-control input-lg\",\n    attrs: {\n      \"id\": \"id-name\",\n      \"tabindex\": \"0\"\n    },\n    domProps: {\n      \"value\": (_vm.form.name)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.form.name = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-md-4\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"id-number\"\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"Train number\"\n    }\n  })], 1), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.number),\n      expression: \"form.number\"\n    }],\n    staticClass: \"form-control input-lg\",\n    attrs: {\n      \"id\": \"id-number\",\n      \"tabindex\": \"0\"\n    },\n    domProps: {\n      \"value\": (_vm.form.number)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.form.number = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-md-6\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"id-date0\"\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"Departure Date\"\n    }\n  }), _vm._v(\" \"), _c('dict', {\n    attrs: {\n      \"name\": \"predlog/ot\"\n    }\n  })], 1), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"jqui-datepicker\",\n      rawName: \"v-jqui-datepicker\",\n      value: (_vm.form.date0),\n      expression: \"form.date0\"\n    }],\n    staticClass: \"form-control input-lg\",\n    attrs: {\n      \"data-custom-default-value\": \"true\",\n      \"id\": \"id-date0\",\n      \"tabindex\": \"0\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-md-6\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"id-date1\"\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"predlog/do\"\n    }\n  })], 1), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"jqui-datepicker\",\n      rawName: \"v-jqui-datepicker\",\n      value: (_vm.form.date1),\n      expression: \"form.date1\"\n    }],\n    staticClass: \"form-control input-lg\",\n    attrs: {\n      \"id\": \"id-date1\",\n      \"tabindex\": \"0\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-md-4 text-right\"\n  }, [_c('label', [_vm._v(\" \")]), _vm._v(\" \"), _c('button', {\n    staticClass: \"btn btn-block btn-lg\",\n    attrs: {\n      \"type\": \"submit\"\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"Find\"\n    }\n  })], 1)])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-md-24 text-center\"\n  }, [_c('div', {\n    staticClass: \"btn-group\"\n  }, [_c('a', {\n    staticClass: \"btn btn-sm\",\n    class: {\n      active: _vm.form.mode === 'active'\n    },\n    attrs: {\n      \"tabindex\": \"0\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.changeMode('active')\n      }\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"CabinetMode_active\"\n    }\n  })], 1), _vm._v(\" \"), _c('a', {\n    staticClass: \"btn btn-sm\",\n    class: {\n      active: _vm.form.mode === 'archive'\n    },\n    attrs: {\n      \"tabindex\": \"0\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.changeMode('archive')\n      }\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"CabinetMode_archive\"\n    }\n  })], 1)])])])])])]) : _vm._e(), _vm._v(\" \"), (_vm.PAYMENT_RESULT) ? _c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-md-24\"\n  }, [(_vm.PAYMENT_RESULT === 'OK') ? _c('h1', [_c('dict', {\n    attrs: {\n      \"name\": \"Ticket/headerPaymentOk\"\n    }\n  })], 1) : _c('div', {\n    staticClass: \"alert alert-danger\"\n  }, [(_vm.PAYMENT_RESULT === 'CANCEL') ? _c('ifrmsg', {\n    attrs: {\n      \"name\": \"PSTKT_BANK_CANCEL\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.PAYMENT_RESULT === 'DECLINE') ? _c('ifrmsg', {\n    attrs: {\n      \"name\": \"PSTKT_BANK_CANCEL\"\n    }\n  }) : _vm._e()], 1)])]) : _vm._e(), _vm._v(\" \"), (_vm.HUMAN_ERROR) ? _c('pre', {\n    staticClass: \"col-md-24 pre-message pre-message-common\"\n  }, [_vm._v(_vm._s(_vm.HUMAN_ERROR))]) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.slots), function(ordslot, ordslot_index) {\n    return _c('div', {\n      attrs: {\n        \"id\": 'hash-sord-' + ordslot.id\n      }\n    }, _vm._l((ordslot.lst), function(ord, index) {\n      return _c('div', [_c('div', {\n        staticClass: \"pass-orderList-order\",\n        class: {\n          'pass-orderList-order-refunded': ord.STATUS\n        }\n      }, [_c('h2', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-md-24\"\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\" + _vm._s(_vm._f(\"CAPITALIZE\")(ord.station0)) + \" — \" + _vm._s(_vm._f(\"CAPITALIZE\")(ord.station1)) + \" \\n\\t\\t\\t\\t\\t\")])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-md-17\"\n      }, [_c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-md-7\"\n      }, [_c('dict', {\n        attrs: {\n          \"name\": \"Train\"\n        }\n      }), _vm._v(\" №\\n\\t\\t\\t\\t\\t\\t\\t\")], 1), _vm._v(\" \"), _c('div', {\n        staticClass: \"col-md-17\"\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(ord.train) + \"\\n\\t\\t\\t\\t\\t\\t\\t\")])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-md-7\"\n      }, [_c('dict', {\n        attrs: {\n          \"name\": \"Departure\"\n        }\n      })], 1), _vm._v(\" \"), _c('div', {\n        staticClass: \"col-md-17\"\n      }, [_c('div', {\n        class: 'datetime-wrap datetime-wrap_first-' + ordslot.defShowTime\n      }, [(ord.localDate0) ? _c('div', {\n        staticClass: \"datetime-local\"\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(ord.localDate0) + \" \"), _c('b', {\n        staticClass: \"datetime-hhmm\"\n      }, [_vm._v(_vm._s(ord.localTime0) + \" \" + _vm._s(ord.timeDeltaString0))])]) : _vm._e(), _vm._v(\" \"), _c('div', {\n        staticClass: \"datetime-msk\"\n      }, [_vm._v(\"\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(ord.date0) + \" \"), _c('b', {\n        staticClass: \"datetime-hhmm\"\n      }, [_vm._v(_vm._s(ord.time0) + \" \"), (ord.Msk0) ? _c('span', [_vm._v(_vm._s(ordslot.mskTimeSuffix))]) : _vm._e()])])])])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-md-7\"\n      }, [_c('dict', {\n        attrs: {\n          \"name\": \"Arrival\"\n        }\n      })], 1), _vm._v(\" \"), _c('div', {\n        staticClass: \"col-md-17\"\n      }, [_c('div', {\n        class: 'datetime-wrap datetime-wrap_first-' + ordslot.defShowTime\n      }, [(ord.localDate1) ? _c('div', {\n        staticClass: \"datetime-local\"\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(ord.localDate1) + \" \"), _c('b', {\n        staticClass: \"datetime-hhmm\"\n      }, [_vm._v(_vm._s(ord.localTime1) + \" \" + _vm._s(ord.timeDeltaString1))])]) : _vm._e(), _vm._v(\" \"), _c('div', {\n        staticClass: \"datetime-msk\"\n      }, [_vm._v(\"\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(ord.date1) + \" \"), _c('b', {\n        staticClass: \"datetime-hhmm\"\n      }, [_vm._v(_vm._s(ord.time1) + \" \"), (ord.Msk1) ? _c('span', [_vm._v(_vm._s(ordslot.mskTimeSuffix))]) : _vm._e()])])])])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-md-7\"\n      }, [_c('dict', {\n        attrs: {\n          \"name\": \"Ticket/Car\"\n        }\n      })], 1), _vm._v(\" \"), _c('div', {\n        staticClass: \"col-md-17\"\n      }, [(ord.bWithoutPlaces) ? _c('ifrmsg', {\n        attrs: {\n          \"name\": \"ANY_VAGON_LASTOCHKA\"\n        }\n      }) : [_vm._v(_vm._s(ord.car) + \" (\" + _vm._s(ord.carCls) + \")\")]], 2)]), _vm._v(\" \"), _c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-md-7\"\n      }, [_c('dict', {\n        attrs: {\n          \"name\": \"Ticket/transactionId\"\n        }\n      })], 1), _vm._v(\" \"), _c('div', {\n        staticClass: \"col-md-17\"\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(ordslot.transactionId) + \"\\n\\t\\t\\t\\t\\t\\t\\t\")])])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"col-md-7 text-right\"\n      }, [_c('div', {\n        staticClass: \"btn-group\"\n      }, [_c('a', {\n        staticClass: \"btn btn-sm\",\n        attrs: {\n          \"target\": \"_blank\",\n          \"tabindex\": \"0\",\n          \"href\": ord.LINK_BLANK\n        }\n      }, [_c('dict', {\n        attrs: {\n          \"name\": \"Order form\"\n        }\n      })], 1), _vm._v(\" \"), _c('button', {\n        staticClass: \"btn btn-sm\",\n        attrs: {\n          \"tabindex\": \"0\",\n          \"disabled\": ord.LOADING_STATUSES\n        },\n        on: {\n          \"click\": function($event) {\n            _vm.getBlank_ticket('pdf', ord)\n          },\n          \"keyup\": function($event) {\n            if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n            _vm.getBlank_ticket('pdf', ord)\n          }\n        }\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\tPDF\\n\\t\\t\\t\\t\\t\\t\\t\")])]), _vm._v(\" \"), _c('br'), _c('br'), _vm._v(\" \"), (!ord.left) ? _c('button', {\n        staticClass: \"pass-order-elreg-get btn btn-md\",\n        attrs: {\n          \"tabindex\": \"0\",\n          \"disabled\": ord.LOADING_STATUSES\n        },\n        on: {\n          \"click\": function($event) {\n            _vm.getStatuses(ord)\n          }\n        }\n      }, [_c('i', {\n        staticClass: \"glyphicon glyphicon-info-sign\"\n      }), _vm._v(\" \"), _c('dict', {\n        attrs: {\n          \"name\": \"Ticket/Request for ticket status\"\n        }\n      })], 1) : _vm._e(), _vm._v(\" \"), (_vm.IS_DEV) ? [_c('a', {\n        staticClass: \"pass-order-debug-link\",\n        attrs: {\n          \"href\": ord.ORDER_LINK,\n          \"title\": \"Открыть только текущий заказ (ссылка видна только при включённом показе ошибок)\"\n        }\n      }, [_c('i', {\n        staticClass: \"glyphicon glyphicon-share-alt\"\n      })])] : _vm._e()], 2)]), _vm._v(\" \"), (ord.autoCarrier) ? [_c('div', {\n        staticClass: \"row pass-ord-group\"\n      }, [_vm._m(0, true), _vm._v(\" \"), _c('div', {\n        staticClass: \"col-md-7 text-right\"\n      }, [_c('a', {\n        staticClass: \"btn btn-sm\",\n        attrs: {\n          \"href\": ord.LINK_AUTORACK,\n          \"target\": \"_blank\"\n        }\n      }, [(ord.autoOrder) ? [_vm._v(\"Просмотр заявки на перевозку\")] : [_vm._v(\"Заявка на услугу перевозки автомобиля\")]], 2)])])] : _vm._e(), _vm._v(\" \"), (ord.HUMAN_ERROR) ? _c('div', {\n        staticClass: \"row\"\n      }, [_c('pre', {\n        staticClass: \"col-md-24 pre-message pre-message-common\"\n      }, [_vm._v(_vm._s(ord.HUMAN_ERROR))])]) : _vm._e(), _vm._v(\" \"), (!ord.left && ord.avisoTimer) ? [_c('div', {\n        staticClass: \"alert alert-info\"\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\tЗаказ подтверждается.  \" + _vm._s(ord.avisoTimer) + \" мин.\\n\\t\\t\\t\\t\\t\")])] : _vm._e(), _vm._v(\" \"), (ord.bNonRefundable) ? [_c('div', {\n        staticClass: \"alert alert-danger\"\n      }, [_c('ifrmsg', {\n        attrs: {\n          \"name\": \"REFUND_FORBIDDEN_LASTOCHKA\"\n        }\n      })], 1)] : _vm._e(), _vm._v(\" \"), _c('div', _vm._l((ord.lst), function(tik) {\n        return _c('div', {\n          staticClass: \"pass-orderList-ticket\",\n          class: {\n            'pass-orderList-ticket-refunded': tik.status === 'REFUNDED'\n          }\n        }, [_c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-md-24\"\n        }, [_c('div', {\n          staticClass: \"pass-ord-ticket-name\"\n        }, [_vm._v(_vm._s(_vm._f(\"CAPITALIZE\")(tik.name)))])]), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [_c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-md-7\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Document number\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [_vm._v(\"\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(tik.doc) + \"\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])]), _vm._v(\" \"), _c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-md-7\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Place\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [(ord.bWithoutPlaces) ? _c('ifrmsg', {\n          attrs: {\n            \"name\": \"VAGON_NO_SEATS_LASTOCHKA\"\n          }\n        }) : (tik.place) ? [_c('span', {\n          staticClass: \"text-bold\"\n        }, [_vm._v(_vm._s(tik.place))]), _vm._v(\" \" + _vm._s(tik.seatsTypeName) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")] : [_c('dict', {\n          attrs: {\n            \"name\": \"Ticket/withoutPlace\"\n          }\n        })]], 2)]), _vm._v(\" \"), _c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-md-7\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Ticket/Cost\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [_vm._v(\"\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(_vm._f(\"FORMAT_SUM\")(tik.cost)) + \" руб.\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])]), _vm._v(\" \"), _c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-md-7\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Tariff\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [_vm._v(\"\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(tik.tariff) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])]), _vm._v(\" \"), _c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-md-7\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Status\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [(tik.LOADER || ord.LOADER) ? _c('i', {\n          staticClass: \"spin\"\n        }) : _c('div', {\n          staticClass: \"pass-orderList-status\"\n        }, [(tik.STATUS.NAME) ? _c('b', [_vm._v(_vm._s(tik.STATUS.NAME))]) : _c('a', {\n          staticClass: \"link-dotted\",\n          on: {\n            \"click\": function($event) {\n              _vm.getStatuses(ord)\n            }\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Reset\"\n          }\n        })], 1)])])])]), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-7 text-right\"\n        }, [_c('div', {\n          staticClass: \"form-group btn-group\"\n        }, [_c('a', {\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"target\": \"_blank\",\n            \"tabindex\": \"0\",\n            \"href\": tik.LINK_BLANK\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Ticket blank\"\n          }\n        })], 1), _vm._v(\" \"), _c('button', {\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"tabindex\": \"0\",\n            \"disabled\": ord.LOADING_STATUSES\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.getBlank_ticket('pdf', ord, tik)\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.getBlank_ticket('pdf', ord, tik)\n            }\n          }\n        }, [_vm._v(\"PDF\")]), _vm._v(\" \"), _c('button', {\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"tabindex\": \"0\",\n            \"disabled\": ord.LOADING_STATUSES\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.getBlank_ticket('png', ord, tik)\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.getBlank_ticket('png', ord, tik)\n            }\n          }\n        }, [_vm._v(\"PNG\")])]), _vm._v(\" \"), (tik.STATUS.CODE === 'REFUNDED') ? _c('div', {\n          staticClass: \"form-group\"\n        }, [_c('a', {\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"target\": \"_blank\",\n            \"tabindex\": \"0\",\n            \"href\": ord.LINK_BLANK\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Ticket/Refund coupon\"\n          }\n        })], 1)]) : _vm._e()])]), _vm._v(\" \"), (tik.HUMAN_ERROR) ? [_c('div', {\n          staticClass: \"row\"\n        }, [_c('pre', {\n          staticClass: \"col-md-24 pre-message pre-message-common\"\n        }, [_vm._v(_vm._s(tik.HUMAN_ERROR))])])] : _vm._e(), _vm._v(\" \"), (_vm.isTicketActionsAvailable(tik, ord)) ? [_c('div', {\n          staticClass: \"pass-orderList-ticket-btnWrap row\"\n        }, [_c('div', {\n          staticClass: \"col-md-24 text-right\"\n        }, [_c('button', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (tik.STATUS.CODE === 'PAID'),\n            expression: \"tik.STATUS.CODE==='PAID'\"\n          }],\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"tabindex\": \"0\",\n            \"disabled\": tik.LOADING_STATUS\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.changeStatus(tik, ord, true)\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.changeStatus(tik, ord, true)\n            }\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Perform an electronic registration\"\n          }\n        })], 1), _vm._v(\" \"), _c('button', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (tik.STATUS.CODE === 'REGISTERED'),\n            expression: \"tik.STATUS.CODE==='REGISTERED'\"\n          }],\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"tabindex\": \"0\",\n            \"disabled\": tik.LOADING_STATUS\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.changeStatus(tik, ord, false)\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.changeStatus(tik, ord, false)\n            }\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Cancel electronic registration\"\n          }\n        })], 1), _vm._v(\" \"), (!ord.bNonRefundable) ? _c('button', {\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"tabindex\": \"0\",\n            \"disabled\": tik.LOADING_REFUND_TICKET\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.refundTicket(tik, ord, ordslot)\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.refundTicket(tik, ord, ordslot)\n            }\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Order a refund\"\n          }\n        })], 1) : _vm._e()])])] : _vm._e(), _vm._v(\" \"), (ordslot.REFUND_MESSAGE) ? [_c('div', {\n          staticClass: \"pass-orderList-refund-msg__cont\"\n        }, [_c('div', {\n          staticClass: \"refund-msg__item\",\n          domProps: {\n            \"innerHTML\": _vm._s(ordslot.REFUND_MESSAGE)\n          }\n        })])] : _vm._e(), _vm._v(\" \"), (tik.INSUR) ? [_c('div', {\n          staticClass: \"row pass-ord-group\"\n        }, [_c('div', {\n          staticClass: \"col-md-17\"\n        }, [_c('div', {\n          staticClass: \"pass-ord-group-head\"\n        }, [_c('ifrmsg', {\n          attrs: {\n            \"name\": \"INSURANCE_FORM_ENABLE_TOOLTIP\"\n          }\n        })], 1), _vm._v(\" \"), (tik.INSUR.Refunded == 1) ? [_c('ifrmsg', {\n          attrs: {\n            \"name\": \"INSURANCE_RETURN_STATUS\"\n          }\n        })] : [_c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-md-7\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Company\"\n          }\n        }), _vm._v(\":\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(tik.INSUR.shortName) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-7\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Stoimost\"\n          }\n        }), _vm._v(\":\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(_vm._f(\"FORMAT_SUM\")(tik.INSUR.cost)) + \" руб.\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])])]], 2), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-7 text-right\"\n        }, [(_vm.isInsuranceActive(tik)) ? _c('div', {\n          staticClass: \"btn-group\"\n        }, [(tik.INSUR.Refunded != 1) ? _c('a', {\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"target\": \"_blank\",\n            \"tabindex\": \"0\",\n            \"href\": tik.LINK_INSURANCE,\n            \"title\": \"Бланк страховки от несчастных случаев\"\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Insurance policy\"\n          }\n        })], 1) : _vm._e(), _vm._v(\" \"), _c('a', {\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"tabindex\": \"0\",\n            \"title\": \"Бланк страховки от несчастных случаев в формате PDF\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.getBlank_insurance(tik, 'pdf')\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.getBlank_insurance(tik, 'pdf')\n            }\n          }\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tPDF\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), (_vm.isInsuranceRefundAvailable(tik, ord)) ? _c('button', {\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"tabindex\": \"0\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.refundInsurance(tik, ord)\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.refundInsurance(tik, ord)\n            }\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Order a refund\"\n          }\n        })], 1) : _vm._e()]) : _vm._e()])])] : _vm._e(), _vm._v(\" \"), (tik.POLICY) ? [_c('div', {\n          staticClass: \"row pass-ord-group\"\n        }, [_c('div', {\n          staticClass: \"col-md-17\"\n        }, [_c('div', {\n          staticClass: \"pass-ord-group-head\"\n        }, [_c('ifrmsg', {\n          attrs: {\n            \"name\": \"POLICY_FORM_ENABLE_TOOLTIP\"\n          }\n        })], 1), _vm._v(\" \"), (tik.POLICY_STATUS.code != 'ISSUED') ? _c('div', {\n          domProps: {\n            \"innerHTML\": _vm._s(tik.POLICY_STATUS.name)\n          }\n        }) : _c('div', [_c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-md-7\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Company\"\n          }\n        }), _vm._v(\":\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [_c('ifrmsg', {\n          attrs: {\n            \"name\": \"POLICY_COMPANY\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-7\"\n        }, [_c('ifrmsg', {\n          attrs: {\n            \"name\": \"POLICY_FORM_PRICE\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(_vm._f(\"FORMAT_SUM\")(tik.POLICY.cost)) + \" руб.\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-7\"\n        }, [_c('ifrmsg', {\n          attrs: {\n            \"name\": \"POLICY_FORM_TERRITORY\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(tik.POLICY_AREA) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-7\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Policy valid till\"\n          }\n        }), _vm._v(\":\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(tik.POLICY_DATE) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])])])]), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-7 text-right\"\n        }, [_c('div', {\n          staticClass: \"btn-group\"\n        }, [(tik.POLICY_STATUS.code == 'ISSUED') ? _c('a', {\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"target\": \"_blank\",\n            \"tabindex\": \"0\",\n            \"href\": tik.POLICY.link,\n            \"title\": \"Бланк полиса ДМС в формате PDF\"\n          }\n        }, [_vm._v(\"PDF\")]) : _vm._e(), _vm._v(\" \"), (_vm.isPolicyRefundAvailable(tik, ord)) ? _c('button', {\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"tabindex\": \"0\",\n            \"disabled\": ord.LOADING_STATUSES\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.refundDMS(tik, ord)\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.refundDMS(tik, ord)\n            }\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Order a refund\"\n          }\n        })], 1) : _vm._e()])])])] : _vm._e(), _vm._v(\" \"), (_vm.prepaidFood_visible(tik, ord)) ? [_c('div', {\n          staticClass: \"row pass-ord-group\"\n        }, [_c('div', {\n          staticClass: \"col-md-17\"\n        }, [_c('div', {\n          staticClass: \"pass-ord-group-head\"\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tПредоплаченое питание\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), (tik.foodId) ? _c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-md-7\"\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tВыбранный рацион:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(tik.foodName) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])]) : _vm._e()]), _vm._v(\" \"), (!ord.left && tik.status != 'REFUNDED') ? _c('div', {\n          staticClass: \"col-md-7 text-right\"\n        }, [_c('a', {\n          staticClass: \"btn btn-sm\",\n          on: {\n            \"click\": function($event) {\n              $event.preventDefault();\n              _vm.changeMeal(ord, tik, ordslot_index, ordslot)\n            }\n          }\n        }, [(ord.foodId) ? [_vm._v(\"Сменить\")] : [_vm._v(\"Выбрать\")], _vm._v(\" тип питания\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\")], 2)]) : _vm._e()])] : _vm._e(), _vm._v(\" \"), (_vm.addFood_visible(tik)) ? _vm._l((_vm.addFood_getArray(tik)), function(foodOrder) {\n          return _c('div', {\n            staticClass: \"row pass-ord-group\"\n          }, [_c('div', {\n            staticClass: \"col-md-17\"\n          }, [_c('div', {\n            staticClass: \"pass-ord-group-head\"\n          }, [_c('ifrmsg', {\n            attrs: {\n              \"name\": \"ADD_FOOD\"\n            }\n          })], 1), _vm._v(\" \"), (foodOrder.isRefunded) ? _c('dict', {\n            attrs: {\n              \"name\": \"Refunded\"\n            }\n          }) : (foodOrder.isPurchased) ? [_c('div', [_c('a', {\n            staticClass: \"link-dotted\",\n            on: {\n              \"click\": function($event) {\n                $event.preventDefault();\n                _vm.getFoodDetails(ord, tik, foodOrder)\n              }\n            }\n          }, [_vm._l((foodOrder.foodPattern.split('')), function(selectedFoodItem, index) {\n            return [(index) ? [_vm._v(\"/\")] : _vm._e(), _vm._v(\" \"), (selectedFoodItem === 'З') ? _c('dict', {\n              attrs: {\n                \"name\": \"Breakfast\"\n              }\n            }) : _vm._e(), _vm._v(\" \"), (selectedFoodItem === 'О') ? _c('dict', {\n              attrs: {\n                \"name\": \"Lunch\"\n              }\n            }) : _vm._e(), _vm._v(\" \"), (selectedFoodItem === 'У') ? _c('dict', {\n              attrs: {\n                \"name\": \"Dinner\"\n              }\n            }) : _vm._e()]\n          })], 2), _vm._v(\". \"), _c('dict', {\n            attrs: {\n              \"name\": \"Stoimost\"\n            }\n          }), _vm._v(\": \" + _vm._s(_vm._f(\"FORMAT_SUM\")(foodOrder.cost)) + \" руб.\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")], 1), _vm._v(\" \"), (_vm.foodDetails.selectedMenuItems && _vm.foodDetails.ticketId === tik.n) ? _vm._l((_vm.foodDetails.selectedMenuItems), function(selectedFoodItem) {\n            return _c('div', {\n              staticClass: \"row\"\n            }, [_c('div', {\n              staticClass: \"col-xs-8 text-right\"\n            }, [(selectedFoodItem === 'З') ? _c('dict', {\n              attrs: {\n                \"name\": \"Breakfast\"\n              }\n            }) : _vm._e(), _vm._v(\" \"), (selectedFoodItem === 'О') ? _c('dict', {\n              attrs: {\n                \"name\": \"Lunch\"\n              }\n            }) : _vm._e(), _vm._v(\" \"), (selectedFoodItem === 'У') ? _c('dict', {\n              attrs: {\n                \"name\": \"Dinner\"\n              }\n            }) : _vm._e()], 1), _vm._v(\" \"), _c('div', {\n              staticClass: \"col-xs-8 text-center\"\n            }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(selectedFoodItem.variant) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), _c('div', {\n              staticClass: \"col-xs-8\"\n            }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(selectedFoodItem.count) + \" шт.\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])])\n          }) : _vm._e()] : _vm._e()], 2), _vm._v(\" \"), _c('div', {\n            staticClass: \"col-md-7 text-right\"\n          }, [(!foodOrder.isFake) ? _c('div', {\n            staticClass: \"btn-group\"\n          }, [_c('a', {\n            staticClass: \"btn btn-sm\",\n            attrs: {\n              \"href\": _vm.getFoodBlank(tik, ord, 'html', foodOrder),\n              \"target\": \"_blank\"\n            }\n          }, [_c('dict', {\n            attrs: {\n              \"name\": \"Receipt\"\n            }\n          })], 1), _vm._v(\" \"), _c('a', {\n            staticClass: \"btn btn-sm\",\n            on: {\n              \"click\": function($event) {\n                _vm.getFoodBlank(tik, ord, 'pdf', foodOrder)\n              }\n            }\n          }, [_vm._v(\"PDF\")])]) : _vm._e(), _vm._v(\" \"), _c('div', {\n            staticClass: \"btn-group\"\n          }, [(tik.SHOW_REFUND_FOOD && foodOrder.isPurchased) ? _c('button', {\n            staticClass: \"btn btn-sm\",\n            attrs: {\n              \"disabled\": _vm.foodDetails.LOADING_REFUND\n            },\n            on: {\n              \"click\": function($event) {\n                $event.preventDefault();\n                _vm.refundFood(ord, tik, foodOrder)\n              }\n            }\n          }, [_c('dict', {\n            attrs: {\n              \"name\": \"Return addtional food\"\n            }\n          })], 1) : _vm._e(), _vm._v(\" \"), _c('button', {\n            staticClass: \"btn btn-sm\",\n            attrs: {\n              \"href\": _vm.LINK('catering-menu-page')\n            },\n            on: {\n              \"click\": function($event) {\n                $event.preventDefault();\n                _vm.addFood_showMenuWindow()\n              }\n            }\n          }, [_vm._v(\"Посмотреть меню\")]), _vm._v(\" \"), (_vm.addFood_isBuyPossible(tik)) ? _c('button', {\n            staticClass: \"btn btn-sm\",\n            on: {\n              \"click\": function($event) {\n                $event.preventDefault();\n                _vm.buyAdditionals(ordslot, ord, tik, 'food')\n              }\n            }\n          }, [_c('dict', {\n            attrs: {\n              \"name\": \"Buy\"\n            }\n          })], 1) : _vm._e()])])])\n        }) : _vm._e(), _vm._v(\" \"), (tik.addGoods || tik.goodsTotalCost) ? [_c('div', {\n          staticClass: \"row pass-ord-group\"\n        }, [_vm._m(1, true), _vm._v(\" \"), (tik.goodsTotalCost) ? _c('div', {\n          staticClass: \"col-sm-6 text-right\"\n        }, [_c('b', [_c('span', {\n          domProps: {\n            \"innerHTML\": _vm._s(tik.goodsTotalCost)\n          }\n        }), _vm._v(\" \"), _c('dict', {\n          attrs: {\n            \"name\": \"RUB\"\n          }\n        })], 1)]) : _vm._e(), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-sm-7\"\n        }, [(tik.addGoods && tik.status != 'REFUNDED') ? _c('a', {\n          staticClass: \"link-dotted\",\n          attrs: {\n            \"href\": \"#\"\n          },\n          on: {\n            \"click\": function($event) {\n              $event.preventDefault();\n              _vm.buyAdditionals(ordslot, ord, tik, 'goods')\n            }\n          }\n        }, [_vm._v(\"Купить товары\")]) : _vm._e()]), _vm._v(\" \"), (tik.goodsTotalCost) ? _c('div', {\n          staticClass: \"col-sm-17 text-right\"\n        }, [_c('a', {\n          staticClass: \"link-dotted\",\n          attrs: {\n            \"href\": tik.LINK_GOODS_LIST\n          }\n        }, [_vm._v(\"Оформленные товары\")]), _vm._v(\" \"), _c('a', {\n          staticClass: \"link-dotted\",\n          staticStyle: {\n            \"margin-left\": \"1em\"\n          },\n          attrs: {\n            \"target\": \"_blank\",\n            \"href\": tik.LINK_GOODS_BLANK_PDF\n          }\n        }, [_vm._v(\"PDF\")])]) : _vm._e()])] : _vm._e()], 2)\n      })), _vm._v(\" \"), (ord.ELREG_IFRMSG) ? [_c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-md-18\"\n      }, [_c('ifrmsg', {\n        attrs: {\n          \"name\": ord.ELREG_IFRMSG\n        }\n      })], 1)])] : _vm._e(), _vm._v(\" \"), (ord.LINK_HOTEL) ? [_c('div', {\n        staticClass: \"cab-hotels-block\",\n        domProps: {\n          \"innerHTML\": _vm._s(ord.LINK_HOTEL)\n        }\n      })] : _vm._e()], 2)])\n    }))\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"text-center\"\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.LOADING_ORDERS === false),\n      expression: \"LOADING_ORDERS===false\"\n    }]\n  }, [_c('a', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.lastPage),\n      expression: \"!lastPage\"\n    }],\n    staticClass: \"btn\",\n    attrs: {\n      \"tabindex\": \"0\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.getOrders(true)\n      }\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"Show more\"\n    }\n  })], 1), _vm._v(\" \"), (_vm.slots.length === 0 && _vm.bShowForm === true && !_vm.HUMAN_ERROR) ? _c('div', [_c('ifrmsg', {\n    attrs: {\n      \"name\": \"PSTKT_CABINET_MSG_EMPTY_SLOTS\"\n    }\n  })], 1) : _vm._e()]), _vm._v(\" \"), _c('i', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.LOADING_ORDERS === true),\n      expression: \"LOADING_ORDERS===true\"\n    }],\n    staticClass: \"spin spin-lg\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"hdn\"\n  }, [_c('div', {\n    staticClass: \"j-on-aviso-popup\"\n  }, [_c('ifrmsg', {\n    attrs: {\n      \"name\": \"PST_WAIT_TRIP_STATUS_BLIND\"\n    }\n  }), _vm._v(\" \"), _vm._l((_vm.slots), function(ordslot, ordslot_index) {\n    return _c('div', {\n      attrs: {\n        \"id\": 'hash-sord-' + ordslot.id\n      }\n    }, [(ordslot.jstatus === 'ON_AVISO') ? _c('div', [_c('a', {\n      staticClass: \"link-dotted\",\n      on: {\n        \"click\": function($event) {\n          _vm.getStatusesForSaleOrder(ordslot)\n        }\n      }\n    }, [_c('dict', {\n      attrs: {\n        \"name\": \"Ticket/transactionId\"\n      }\n    }), _vm._v(\" \" + _vm._s(ordslot.transactionId) + \"\\n\\t\\t\\t\\t\\t\\t\")], 1)]) : _vm._e()])\n  })], 2), _vm._v(\" \"), (_vm.refundMsg) ? _c('div', {\n    staticClass: \"j-refund-popup\"\n  }, [(_vm.refundMsg.bMulti) ? _c('p', [(_vm.refundMsg.bDisabledCompanion) ? _c('ifrmsg', {\n    attrs: {\n      \"name\": \"DPEOPLE_TICKET_SIMULTANEOUS_RETURN\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (!_vm.refundMsg.bDisabledCompanion) ? _c('dict', {\n    attrs: {\n      \"name\": \"Only the simultaneous return of several tickets at once is possible!\"\n    }\n  }) : _vm._e()], 1) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.refundMsg.list), function(ritem) {\n    return _c('div', {\n      staticClass: \"form-group\"\n    }, [_c('dict', {\n      attrs: {\n        \"name\": \"Departure\"\n      }\n    }), _vm._v(\" \" + _vm._s(_vm.refundMsg.ord.date0) + \" \" + _vm._s(_vm.refundMsg.ord.time0) + \", \"), _c('dict', {\n      attrs: {\n        \"name\": \"Train\"\n      }\n    }), _vm._v(\" \\n\\t\\t\\t\\t\\t\" + _vm._s(_vm.refundMsg.ord.train) + \", \"), _c('dict', {\n      attrs: {\n        \"name\": \"Ticket/Car\"\n      }\n    }), _vm._v(\" \" + _vm._s(_vm.refundMsg.ord.car) + \", \"), _c('dict', {\n      attrs: {\n        \"name\": \"place\"\n      }\n    }), _vm._v(\" \" + _vm._s(ritem.place) + \", \" + _vm._s(ritem.name) + \"\\n\\n\\t\\t\\t\\t\\t\"), _c('div', {\n      domProps: {\n        \"innerHTML\": _vm._s(ritem.message)\n      }\n    }), _vm._v(\" \"), _c('br')], 1)\n  }), _vm._v(\" \"), (_vm.refundMsg.bINSUR) ? _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('ifrmsg', {\n    attrs: {\n      \"name\": \"INSURANCE_REFUND_SUM\"\n    }\n  }), _vm._v(\" \"), _c('span', {\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.refundMsg.bINSUR_cost)\n    }\n  }), _vm._v(\" руб.\")], 1) : _vm._e(), _vm._v(\" \"), (_vm.refundMsg.bDMS) ? _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('ifrmsg', {\n    attrs: {\n      \"name\": \"POLICY_CABINET_REFUND_SUM\"\n    }\n  }), _vm._v(\" \"), _c('span', {\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.refundMsg.bDMS_cost)\n    }\n  }), _vm._v(\" руб.\")], 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('ifrmsg', {\n    attrs: {\n      \"name\": \"REFUND_INFO_CABINET\"\n    }\n  })], 1), _vm._v(\" \"), (_vm.refundMsg.bYandex) ? _c('ifrmsg', {\n    attrs: {\n      \"name\": \"REFUND_RULES_YANDEX_MONEY\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (!_vm.refundMsg.bYandex) ? _c('ifrmsg', {\n    attrs: {\n      \"name\": \"REFUND_RULES_BANK\"\n    }\n  }) : _vm._e()], 2) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"display\": \"none\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"j-change-food-popup\"\n    }\n  }, [_c('div', {\n    staticClass: \"j-mealList food-selector\"\n  }, [_c('h1', [_c('dict', {\n    attrs: {\n      \"name\": \"Selecting the type of food\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"background\": \"#eee\",\n      \"padding\": \"1em\",\n      \"margin-bottom\": \"1em\"\n    }\n  }, [_c('div', [_c('p', [_c('b', [_c('dict', {\n    attrs: {\n      \"name\": \"Service expiration moment\"\n    }\n  }), _vm._v(\" \\n\\t\\t\\t\\t\\t\\t\\t\\t\")], 1)]), _vm._v(\" \"), _c('ifrmsg', {\n    attrs: {\n      \"name\": \"PSTKT_MSG_FOOD_PRELIM\"\n    }\n  })], 1)]), _vm._v(\" \"), _c('b', [_c('dict', {\n    attrs: {\n      \"name\": \"FoodService/Select food type\"\n    }\n  })], 1), _vm._v(\" \"), _c('br'), _vm._v(\" \"), _c('div', {\n    staticClass: \"j-list\"\n  }, _vm._l((_vm.foodList.list), function(foodItem, idx) {\n    return _c('div', {\n      staticClass: \"j-food-list-item food-selector__item\"\n    }, [_c('div', {\n      staticClass: \"j-header food-selector__item-head\"\n    }, [_c('label', {\n      staticStyle: {\n        \"display\": \"block\"\n      }\n    }, [_c('input', {\n      directives: [{\n        name: \"model\",\n        rawName: \"v-model\",\n        value: (_vm.foodListSelectedItem),\n        expression: \"foodListSelectedItem\"\n      }],\n      attrs: {\n        \"type\": \"radio\",\n        \"name\": \"food-type\",\n        \"id\": foodItem.id\n      },\n      domProps: {\n        \"value\": foodItem.name + '_' + foodItem.id,\n        \"checked\": foodItem.name == _vm.foodList.tikFoodName,\n        \"checked\": _vm._q(_vm.foodListSelectedItem, foodItem.name + '_' + foodItem.id)\n      },\n      on: {\n        \"__c\": function($event) {\n          _vm.foodListSelectedItem = foodItem.name + '_' + foodItem.id\n        }\n      }\n    }), _vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(foodItem.name) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\"), _c('div', {\n      staticClass: \"food-selector__toggler-down\",\n      staticStyle: {\n        \"float\": \"right\"\n      }\n    }, [_vm._v(\"▼\")])])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"j-descr food-selector__item-descr\"\n    }, [_c('div', {\n      staticClass: \"message-box\"\n    }, [(foodItem.shortDescr) ? _c('div', {\n      staticClass: \"food-selector__item-descr-short\"\n    }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(foodItem.shortDescr) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]) : _vm._e(), _vm._v(\" \"), _c('div', [(foodItem.hasImage) ? _c('div', {\n      staticStyle: {\n        \"float\": \"left\",\n        \"width\": \"270px\"\n      }\n    }, [_c('img', {\n      staticStyle: {\n        \"max-width\": \"250px\"\n      }\n    })]) : _vm._e(), _vm._v(\" \"), (foodItem.descr) ? _c('div', {\n      staticStyle: {\n        \"float\": \"left\",\n        \"width\": \"300px\"\n      }\n    }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(foodItem.descr) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]) : _vm._e(), _vm._v(\" \"), _c('div', {\n      staticStyle: {\n        \"clear\": \"both\"\n      }\n    })])])])])\n  }))])])]), _vm._v(\" \"), (_vm.bShowBankResultBtns) ? [(_vm.bShowRetryPayment) ? _c('payment-handler', {\n    ref: \"paymentHandler\",\n    attrs: {\n      \"jr\": _vm.journeyReservation\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('br'), _vm._v(\" \"), _c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-md-8\"\n  }, [(_vm.bShowRetryPayment) ? _c('div', [_c('a', {\n    staticClass: \"btn btn-lg\",\n    on: {\n      \"click\": _vm.retryPayment\n    }\n  }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\tПопытаться оплатить ещё раз\\n\\t\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), (_vm.LOADING_ORDERS) ? _c('i', {\n    staticClass: \"spin spin-xs\"\n  }) : _vm._e()]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-md-16 text-right\"\n  }, [_c('a', {\n    staticClass: \"btn btn-md\",\n    attrs: {\n      \"href\": _vm.LINK('route-2012')\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.bankResult_goStart($event)\n      }\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"Ticket/start ticket processing first\"\n    }\n  })], 1), _vm._v(\"  \\n\\t\\t\\t\\t\\t\"), _c('a', {\n    staticClass: \"btn btn-md\",\n    attrs: {\n      \"href\": \"LINK('cabinet-2012')\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.gotoCabinet($event)\n      }\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"Go to My orders\"\n    }\n  })], 1)])])] : _vm._e()], 2)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"col-md-17\"\n  }, [_c('div', {\n    staticClass: \"pass-ord-group-head\"\n  }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\tПеревозка транспортного средства\\n\\t\\t\\t\\t\\t\\t\\t\")]), _vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\tДля данного поезда вы можете оформить заявку на перевозку транспортного средства (автомобиля)\\n\\t\\t\\t\\t\\t\\t\")])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"col-sm-18\"\n  }, [_c('div', {\n    staticClass: \"pass-ord-group-head\"\n  }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tТовары\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])])\n}]}\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(20);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"b6ee53a6\", content, true);\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(21);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"152fd8b0\", content, true);\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(22);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"01c28b0e\", content, true);\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(23);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"90e1e3ce\", content, true);\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports) {\n\n/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nmodule.exports = function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n\n\n/***/ })\n],[18]);\n\n\n// WEBPACK FOOTER //\n// cabinet_special--bundle.js","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/css-loader/lib/css-base.js\n// module id = 0\n// module chunks = 0","module.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  scopeId,\n  cssModules\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  // inject cssModules\n  if (cssModules) {\n    var computed = options.computed || (options.computed = {})\n    Object.keys(cssModules).forEach(function (key) {\n      var module = cssModules[key]\n      computed[key] = function () { return module }\n    })\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/component-normalizer.js\n// module id = 1\n// module chunks = 0","/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\nvar listToStyles = require('./listToStyles')\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nmodule.exports = function (parentId, list, _isProduction) {\n  isProduction = _isProduction\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[data-vue-ssr-id~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-style-loader/lib/addStylesClient.js\n// module id = 2\n// module chunks = 0","/**\r\n\tГлобальные миксины\r\n\tИмена глобальных методов и функций - капсом\r\n*/\r\n\r\n//const moment = require('moment')\r\n//moment.locale('ru');\r\n\r\nexport default {\r\n\tmethods: {\r\n\t\tDICT: function(key) { // для вывода слов лучше использовать компонент <dict name=\"MY_DICT_KEY\"/>, функция нужна например для вывода в атрибуты\r\n\t\t\tif (key.indexOf('/') !== -1) {\r\n\t\t\t\tkey = key.split('/');\r\n\t\t\t}\r\n\t\t\treturn window.lang(key)\r\n\t\t},\r\n\t\tLINK: function(key) {\r\n\t\t\tif (window.PAGEDATA && window.PAGEDATA.LayerLinks && window.PAGEDATA.LayerLinks[key]) {\r\n\t\t\t\treturn window.PAGEDATA.LayerLinks;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.error('Не найдена ссылка window.PAGEDATA.LayerLinks.' + key);\r\n\t\t\t\treturn ''\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tfilters: {\r\n\t\tDF_FULL: function(val) { // DateFormat_full\r\n\t\t\tif (!val) {\r\n\t\t\t\treturn ''\r\n\t\t\t}\r\n\t\t\tvar date = new Date(val);\r\n\t\t\tif (date.toLocaleString) {\r\n\t\t\t\treturn date.toLocaleString()\r\n\t\t\t}\r\n\t\t\t//return moment(val).format('MM.DD.YYYY hh:mm');\r\n\t\t},\r\n\t\tCAPITALIZE: UTIL.capitalizeEachWord,\r\n\t\tFORMAT_SUM: UTIL.formatSum\r\n\t},\r\n\tcomponents: {\r\n\t\t'dict': {\r\n\t\t\tprops: {\r\n\t\t\t\tname: {\r\n\t\t\t\t\ttype: String\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdata: function() {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcontent: ''\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcreated: function() {\r\n\t\t\t\tvar key = this.$props.name;\r\n\t\t\t\tif (key.indexOf('/') !== -1) {\r\n\t\t\t\t\tkey = key.split('/');\r\n\t\t\t\t}\r\n\t\t\t\tvar value = window.lang(key);\r\n\t\t\t\tvar comment = this.IS_DEV ? `<!--${key}-->` : '';\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tthis.$data.content = comment + value;\r\n\t\t\t\t}\r\n\t\t\t\telse if (this.IS_DEV) {\r\n\t\t\t\t\tthis.$data.content = `Словарная запись с ключом «${key}» не найдена`;\r\n\t\t\t\t\tconsole.error(this.$data.content);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttemplate: `<span v-html=\"content\"></span>`\r\n\t\t},\r\n\t\t'ifrmsg': {\r\n\t\t\tprops: {\r\n\t\t\t\tname: {\r\n\t\t\t\t\ttype: String\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdata: function() {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcontent: ''\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcreated: function() {\r\n\t\t\t\tvar key = this.$props.name;\r\n\t\t\t\tvar value = window.IFRMSG[key];\r\n\t\t\t\tvar comment = this.IS_DEV ? `<!--${key}-->` : '';\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tthis.$data.content = comment + value;\r\n\t\t\t\t}\r\n\t\t\t\telse if (this.IS_DEV) {\r\n\t\t\t\t\tthis.$data.content = `Сообщение ИФР «${key}» не найдено в window.IFRMSG`;\r\n\t\t\t\t\tconsole.error(this.$data.content);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttemplate: `<span v-html=\"content\"></span>`\r\n\t\t}\r\n\t},\r\n\tcomputed: { // отвечает за показ стектрейсов, подробный вывод в консоль, глобальные переменные - ссылки на инстанс VUEI и всякое такое\r\n\t\tIS_DEV: function() {\r\n\t\t\treturn window.PAGEDATA && window.PAGEDATA.showErrors\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/mixins/index.js","import Vue from 'vue'\r\nimport devmenu from '@comps/devmenu.vue'\r\nimport globalMixins from '@mixins'\r\n\r\n/** Функция, создающая корневой инстанс Vue, призвана избежать дублирования кода */\r\n\r\nexport default function(pageComponent) {\r\n\r\n\tvar vm = new Vue({\r\n\t\tel: '#vue-app',\r\n\t\tmixins: [globalMixins],\r\n\t\tcomponents: {\r\n\t\t\tdevmenu,\r\n\t\t\t'page-component': pageComponent\r\n\t\t},\r\n\t\ttemplate: '<div><devmenu v-if=\"IS_DEV\"/><page-component/></div>'\r\n\t});\r\n\r\n\tif (window && window.PAGEDATA && window.PAGEDATA.showErrors) {\r\n\t\twindow.VUEI = vm;\r\n\t};\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/*\r\n\timport Vue from 'vue'\r\n\timport router from './cabinet-router.js'\r\n\timport store from '@store.js'\r\n\timport devmenu from '@comps/devmenu.vue'\r\n\timport mixins from '@mixins'\r\n\r\n\tvar vm = new Vue({\r\n\t\tel: '#vue-app',\r\n\t\trouter,\r\n\t\tstore,\t\r\n\t\tmixins: [mixins],\r\n\t\tcomponents: {devmenu},\r\n\t\ttemplate: '<div><devmenu v-if=\"IS_DEV\"/><router-view/></div>'\r\n\t\t// вместо темплейте, если компонент один, можно указать render: (h) => h(Theme),\r\n\t});\r\n\r\n\tif (window && window.PAGEDATA && window.PAGEDATA.showErrors) {\r\n\t\twindow.VUEI = vm;\r\n\t}\r\n*/\n\n\n// WEBPACK FOOTER //\n// ./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/entry-points/_makeRoot.js","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?minimize!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-f07fa446&scoped=true!less-loader!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./cabinet-special.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./cabinet-special.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-f07fa446!../../node_modules/vue-loader/lib/selector?type=template&index=0!./cabinet-special.vue\"),\n  /* scopeId */\n  \"data-v-f07fa446\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/pages/cabinet-special.vue\n// module id = 7\n// module chunks = 0","module.exports = {\r\n\t// Хосты также указаны в секции scripts в package.json, тут уж никак от дублирования не избавишься\r\n\tfake: {\r\n\t\tdomain: 'pass2.psi.oooinex.ru',\r\n\t\tport: ':8090', // :1488,\r\n\t\tprotocol: 'http://',\r\n\t\tget siteUrl() {\r\n\t\t\treturn this.protocol + this.domain + (this.port || '');\r\n\t\t}\r\n\t},\r\n\treal: {\r\n\t\tdomain: 'pass.psi.oooinex.ru',\r\n\t\tprotocol: 'https://',\r\n\t\tget siteUrl() {\r\n\t\t\treturn this.protocol + this.domain;\r\n\t\t}\r\n\t},\r\n\tpsiIp: '172.22.2.92'\r\n}\n\n\n// WEBPACK FOOTER //\n// ./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/hosts.js","<script>import componentMixin from './auth-handler.js';export default {name:'AuthHandlerSpecial', mixins: [componentMixin]}</script>\r\n<style scoped lang=\"less\">/* здесь можно писать scoped стили, либо указать src внешнего файла */</style> \r\n\r\n<div><!-- здесь пока ничего нет, функционал реализован только для мобилы --></div>\t\n\n\n// WEBPACK FOOTER //\n// auth-handler-special.vue?2bb2339e","<script>\r\n\tconst Hosts = require('@src/../hosts.js');\r\n\texport default {\r\n\t\tname: 'DevMenu',\r\n\t\tcomputed: {\r\n\t\t\thomeUrl: function(){\r\n\t\t\t\treturn Hosts.fake.siteUrl\r\n\t\t\t},\r\n\t\t\trealUrl: function(){\r\n\t\t\t\treturn window.location.href.replace(Hosts.fake.siteUrl, Hosts.real.siteUrl);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t/*function getCabinetUrlPrefix(layerId, bAccessible) { // 5901, 5975\r\n\t\tvar formatContext = bAccessible ? '/accessible' : '';\r\n\t\treturn `${Hosts.fake.siteUrl}/sale/secure/ru${formatContext}?STRUCTURE_ID=704&layer_id=${layerId}`;\r\n\t}*/\r\n</script>\r\n\r\n\r\n<template>\r\n\t<div>\r\n\t\t<div class=\"devbar\">\r\n\t\t\t<a :href=\"homeUrl\"><i class=\"glyphicon glyphicon-home\"></i></a> &nbsp;\r\n\t\t\t<a :href=\"realUrl\"><i class=\"glyphicon glyphicon-new-window\" title=\"Перейти на реальную (непроксированную) страницу. Не забудь сбилдить изменения\"></i></a>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<style scoped lang=\"less\"> /* Изолированные (scoped) стили обвязки */\r\n.devbar {\r\n\tz-index: 777;\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbackground: #fff;\t\r\n\tpadding: 15px 20px;\r\n\tborder-radius: 0 0 0 14px;\r\n\tbox-shadow: -2px 2px 9px 1px #666;\t\r\n\tline-height: 26px;\t\r\n\t.glyphicon {\r\n\t\tcursor: pointer;\r\n\t}\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// devmenu.vue?3b3de2d5","<script>import componentMixin from './payment-handler.js';export default {name:'PaymentHandlerSpecial', mixins: [componentMixin]}</script>\r\n<style scoped lang=\"less\">/* здесь можно писать scoped стили, либо указать src внешнего файла */</style> \r\n\r\n<template>\t\r\n\t<div>\r\n\t\t<template v-if=\"paymentAvailable\">\r\n\t\t\t<h3>Способ оплаты</h3>\r\n\r\n\t\t\t<div class=\"pass-reserv-paymethod\" tabindex=\"0\" v-for=\"ps in list\" v-on:click=\"select(ps)\" v-bind:class=\"{'selected': curCode === ps.code}\">\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"col-md-2 text-center\">\r\n\t\t\t\t\t\t<i class=\"glyphicon glyphicon-ok\"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col-md-22\">\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t<span class=\"sr-only\">\r\n\t\t\t\t\t\t\t\t<input type=\"radio\" v-bind:value=\"ps.code\" v-bind:name=\"ps.name\"/> &#160;\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t{{ps.name}}\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t{{ps.tip}}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<form v-if=\"yandexMoney\" v-bind:action=\"yandexMoney.url || 'https://money.yandex.ru/eshop.xml'\" method=\"post\" ref=\"yaform\">\r\n\t\t\t\t<input v-for=\"(val, key) in yandexMoney\" v-bind:name=\"key\" v-bind:value=\"val\" v-if=\"key !== 'url'\" type=\"hidden\" />\r\n\t\t\t</form>\r\n\t\t</template>\r\n\r\n\t\t<pre v-if=\"HUMAN_ERROR\" class=\"pre-message pre-message-common\">{{HUMAN_ERROR}}</pre>\r\n\r\n\t</div>\t\r\n</template>\n\n\n// WEBPACK FOOTER //\n// payment-handler-special.vue?3817d6b2","<!-- что к чему в ответе на запрос заказа: slots.id === APP_SALE_ORDER.ID, slots.lst. === APP_ORDER.ID, slots.lst.lst.n\t=== APP_TICKET.ID -->\r\n<template>\r\n\t<div>\r\n\t\t<div v-if=\"bShowForm\" class=\"row\">\r\n\t\t\t<div class=\"col-md-24\">\t\r\n\t\t\t\t<form class=\"pass-cabinet-form form-horizontal\" v-on:submit.prevent=\"getOrders\">\r\n\t\t\t\t\t<div class=\"row form-group\">\r\n\t\t\t\t\t\t<div class=\"col-md-4\">\r\n\t\t\t\t\t\t\t<label for=\"id-name\"><dict name=\"Last name\" /></label>\r\n\t\t\t\t\t\t\t<input class=\"form-control input-lg\" id=\"id-name\" v-model=\"form.name\" tabindex=\"0\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col-md-4\">\r\n\t\t\t\t\t\t\t<label for=\"id-number\"><dict name=\"Train number\" /></label>\r\n\t\t\t\t\t\t\t<input class=\"form-control input-lg\" id=\"id-number\" v-model=\"form.number\" tabindex=\"0\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\t\t\t\t\t\t\t<label for=\"id-date0\"><dict name=\"Departure Date\" />&#160;<dict name=\"predlog/ot\" /></label>\r\n\t\t\t\t\t\t\t<input class=\"form-control input-lg\" v-jqui-datepicker=\"form.date0\" data-custom-default-value=\"true\" id=\"id-date0\" tabindex=\"0\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\t\t\t\t\t\t\t<label for=\"id-date1\"><dict name=\"predlog/do\" /></label> \r\n\t\t\t\t\t\t\t<input class=\"form-control input-lg\" v-jqui-datepicker=\"form.date1\" id=\"id-date1\" tabindex=\"0\"/> \r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col-md-4 text-right\">\r\n\t\t\t\t\t\t\t<label>&#160;</label> \r\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"btn btn-block btn-lg\"><dict name=\"Find\" /></button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<div class=\"col-md-24 text-center\">\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div class=\"btn-group\">\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<a class=\"btn btn-sm\" v-on:click=\"changeMode('active')\" v-bind:class=\"{active:form.mode==='active'}\" tabindex=\"0\"><dict name=\"CabinetMode_active\"/></a><!-- Предстоящие поездки -->\r\n\t\t\t\t\t\t\t\t<a class=\"btn btn-sm\" v-on:click=\"changeMode('archive')\" v-bind:class=\"{active:form.mode==='archive'}\" tabindex=\"0\"><dict name=\"CabinetMode_archive\"/></a><!-- Архивные поездки -->\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"row\" v-if=\"PAYMENT_RESULT\">\r\n\t\t\t<div class=\"col-md-24\">\r\n\t\t\t\t<h1 v-if=\"PAYMENT_RESULT === 'OK'\"><dict name=\"Ticket/headerPaymentOk\"/></h1>\r\n\t\t\t\t<div v-else class=\"alert alert-danger\">\t\r\n\t\t\t\t\t<ifrmsg v-if=\"PAYMENT_RESULT === 'CANCEL'\" name=\"PSTKT_BANK_CANCEL\"/>\r\n\t\t\t\t\t<ifrmsg v-if=\"PAYMENT_RESULT === 'DECLINE'\" name=\"PSTKT_BANK_CANCEL\"/>\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<pre v-if=\"HUMAN_ERROR\" class=\"col-md-24 pre-message pre-message-common\">{{HUMAN_ERROR}}</pre>\t\t\r\n\t\t\r\n\t\t<div v-for=\"(ordslot, ordslot_index) in slots\" v-bind:id=\"'hash-sord-'+ordslot.id\"> \r\n\t\t\t<div v-for=\"(ord, index) in ordslot.lst\">\r\n\t\t\t\t<div class=\"pass-orderList-order\" v-bind:class=\"{'pass-orderList-order-refunded': ord.STATUS }\">\r\n\t\t\t\t\t<h2 class=\"row\">\r\n\t\t\t\t\t\t<div class=\"col-md-24\">\r\n\t\t\t\t\t\t\t{{ord.station0 | CAPITALIZE}} — {{ord.station1 | CAPITALIZE}} \r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<div class=\"col-md-17\">\r\n\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t<div class=\"col-md-7\">\r\n\t\t\t\t\t\t\t\t\t<dict name=\"Train\" /> №\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"col-md-17\">\r\n\t\t\t\t\t\t\t\t\t{{ord.train}}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t<div class=\"col-md-7\">\r\n\t\t\t\t\t\t\t\t\t<dict name=\"Departure\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"col-md-17\">\r\n\t\t\t\t\t\t\t\t\t<!-- ЕСЛИ класс datetime-wrap_first-msk ТО CSS (flex) выводит блок с местным временем после московского, ЕСЛИ класс datetime-wrap_first-local то порядок как в разметке (сначала местное) -->\r\n\t\t\t\t\t\t\t\t\t<div v-bind:class=\"'datetime-wrap datetime-wrap_first-' + ordslot.defShowTime\">\r\n\t\t\t\t\t\t\t\t\t\t<!-- время местное -->\r\n\t\t\t\t\t\t\t\t\t\t<div v-if=\"ord.localDate0\" class=\"datetime-local\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{ord.localDate0}}&#160;<b class=\"datetime-hhmm\">{{ord.localTime0}}&#160;{{ord.timeDeltaString0}}</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<!-- время московское -->\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"datetime-msk\">\t\r\n\t\t\t\t\t\t\t\t\t\t\t{{ord.date0}}&#160;<b class=\"datetime-hhmm\">{{ord.time0}}&#160;<span v-if=\"ord.Msk0\">{{ordslot.mskTimeSuffix}}</span></b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t<div class=\"col-md-7\">\r\n\t\t\t\t\t\t\t\t\t<dict name=\"Arrival\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"col-md-17\">\t\r\n\t\t\t\t\t\t\t\t\t<!-- ЕСЛИ класс datetime-wrap_first-msk ТО CSS (flex) выводит блок с местным временем после московского, ЕСЛИ класс datetime-wrap_first-local то порядок как в разметке (сначала местное) -->\r\n\t\t\t\t\t\t\t\t\t<div v-bind:class=\"'datetime-wrap datetime-wrap_first-' + ordslot.defShowTime\">\r\n\t\t\t\t\t\t\t\t\t\t<!-- время местное -->\r\n\t\t\t\t\t\t\t\t\t\t<div v-if=\"ord.localDate1\" class=\"datetime-local\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{ord.localDate1}}&#160;<b class=\"datetime-hhmm\">{{ord.localTime1}}&#160;{{ord.timeDeltaString1}}</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<!-- время московское -->\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"datetime-msk\">\t\r\n\t\t\t\t\t\t\t\t\t\t\t{{ord.date1}}&#160;<b class=\"datetime-hhmm\">{{ord.time1}}&#160;<span v-if=\"ord.Msk1\">{{ordslot.mskTimeSuffix}}</span></b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t<div class=\"col-md-7\">\r\n\t\t\t\t\t\t\t\t\t<dict name=\"Ticket/Car\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"col-md-17\">\r\n\t\t\t\t\t\t\t\t\t<ifrmsg name=\"ANY_VAGON_LASTOCHKA\" v-if=\"ord.bWithoutPlaces\"/>\r\n\t\t\t\t\t\t\t\t\t<template v-else=\"\">{{ord.car}} ({{ord.carCls}})</template>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t<div class=\"col-md-7\">\r\n\t\t\t\t\t\t\t\t\t<dict name=\"Ticket/transactionId\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"col-md-17\">\r\n\t\t\t\t\t\t\t\t\t{{ordslot.transactionId}}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div class=\"col-md-7 text-right\">\r\n\t\t\t\t\t\t\t<!-- кнопки к ЗАКАЗУ -->\r\n\t\t\t\t\t\t\t<div class=\"btn-group\">\r\n\t\t\t\t\t\t\t\t<a class=\"btn btn-sm\" target=\"_blank\" tabindex=\"0\" v-bind:href=\"ord.LINK_BLANK\">\r\n\t\t\t\t\t\t\t\t\t<dict name=\"Order form\" />\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<button class=\"btn btn-sm\" tabindex=\"0\" \r\n\t\t\t\t\t\t\t\t\tv-on:click=\"getBlank_ticket('pdf', ord)\" \r\n\t\t\t\t\t\t\t\t\tv-on:keyup.enter.space=\"getBlank_ticket('pdf', ord)\" \r\n\t\t\t\t\t\t\t\t\tv-bind:disabled=\"ord.LOADING_STATUSES\">\r\n\t\t\t\t\t\t\t\t\tPDF\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<br/><br/>\r\n\t\t\t\t\t\t\t<button class=\"pass-order-elreg-get btn btn-md\" tabindex=\"0\"\r\n\t\t\t\t\t\t\t\tv-on:click=\"getStatuses(ord)\" v-if=\"!ord.left\"\r\n\t\t\t\t\t\t\t\tv-bind:disabled=\"ord.LOADING_STATUSES\">\r\n\t\t\t\t\t\t\t\t<i class=\"glyphicon glyphicon-info-sign\"></i>\r\n\t\t\t\t\t\t\t\t<dict name=\"Ticket/Request for ticket status\" /> <!-- Запросить статус билетов -->\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<template v-if=\"IS_DEV\"><a v-bind:href=\"ord.ORDER_LINK\" class=\"pass-order-debug-link\" title=\"Открыть только текущий заказ (ссылка видна только при включённом показе ошибок)\"><i class=\"glyphicon glyphicon-share-alt\"></i></a></template>\r\n\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<!--  Сообщение о том что для данной поездки есть информация о возврате которую не удалось сопоставить ни с одним билетом (PIRS-16410). В этом сообщении есть вуёвое выражение v-bind:href=\"ordslot.LINK_REFUND_REGISTER\". ordslot.hasUnmatchedRefundTransfer -> CABINET_BANK_REFUND_INFO-->\r\n\r\n\t\t\t\t\t<template v-if=\"ord.autoCarrier\">\r\n\t\t\t\t\t\t<div class=\"row pass-ord-group\">\r\n\t\t\t\t\t\t\t<div class=\"col-md-17\">\r\n\t\t\t\t\t\t\t\t<div class=\"pass-ord-group-head\">\r\n\t\t\t\t\t\t\t\t\tПеревозка транспортного средства\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\tДля данного поезда вы можете оформить заявку на перевозку транспортного средства (автомобиля)\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"col-md-7 text-right\">\r\n\t\t\t\t\t\t\t\t<a v-bind:href=\"ord.LINK_AUTORACK\" target=\"_blank\" class=\"btn btn-sm\">\r\n\t\t\t\t\t\t\t\t\t<template v-if=\"ord.autoOrder\">Просмотр заявки на перевозку</template>\r\n\t\t\t\t\t\t\t\t\t<template v-else=\"\">Заявка на услугу перевозки автомобиля</template>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t<div class=\"row\" v-if=\"ord.HUMAN_ERROR\">\r\n\t\t\t\t\t\t<pre class=\"col-md-24 pre-message pre-message-common\">{{ord.HUMAN_ERROR}}</pre>\r\n\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t<template v-if=\"!ord.left && ord.avisoTimer\"><!-- PIRS-13686 -->\r\n\t\t\t\t\t\t<div class=\"alert alert-info\">\r\n\t\t\t\t\t\t\tЗаказ подтверждается. &#160;{{ord.avisoTimer}} мин.\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t<template v-if=\"ord.bNonRefundable\"><!-- PIRS-16411 -->\r\n\t\t\t\t\t\t<div class=\"alert alert-danger\">\r\n\t\t\t\t\t\t\t<ifrmsg name=\"REFUND_FORBIDDEN_LASTOCHKA\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</template>\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t<div><!-- обертка нужна для правильно работы last-child у класса pass-orderList-ticket -->\r\n\t\t\t\t\t\t<div v-for=\"tik in ord.lst\" \r\n\t\t\t\t\t\t\tclass=\"pass-orderList-ticket\" \r\n\t\t\t\t\t\t\tv-bind:class=\"{'pass-orderList-ticket-refunded': tik.status === 'REFUNDED'}\">\r\n\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t<div class=\"col-md-24\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"pass-ord-ticket-name\">{{tik.name | CAPITALIZE}}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"col-md-17\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-7\">\r\n\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Document number\" />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-17\">\t\r\n\t\t\t\t\t\t\t\t\t\t\t{{tik.doc}}\t\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-7\">\r\n\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Place\" />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-17\">\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<ifrmsg v-if=\"ord.bWithoutPlaces\" name=\"VAGON_NO_SEATS_LASTOCHKA\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<template v-else-if=\"tik.place\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-bold\">{{tik.place}}</span> {{tik.seatsTypeName}}\r\n\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t<template v-else=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- Без указания места -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Ticket/withoutPlace\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-7\">\r\n\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Ticket/Cost\" />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-17\">\t\r\n\t\t\t\t\t\t\t\t\t\t\t{{tik.cost | FORMAT_SUM}}&#160;руб.\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-7\">\r\n\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Tariff\" />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-17\">\t\r\n\t\t\t\t\t\t\t\t\t\t\t{{tik.tariff}}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-7\">\r\n\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Status\" />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-17\">\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<i v-if=\"tik.LOADER || ord.LOADER\" class=\"spin\"></i><!-- ord.LOADING_STATUSES || tik.LOADING_STATUS -->\r\n\t\t\t\t\t\t\t\t\t\t\t<div v-else=\"\" class=\"pass-orderList-status\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b v-if=\"tik.STATUS.NAME\">{{tik.STATUS.NAME}}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a v-else=\"\" v-on:click=\"getStatuses(ord)\" class=\"link-dotted\"><!-- Обновить --><dict name=\"Reset\"/></a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- есть ещё признак финального (окончательного) статуса - finalSt -->\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"col-md-7 text-right\"><!--кнопки к билету-->\r\n\t\t\t\t\t\t\t\t\t<div class=\"form-group btn-group\">\r\n\t\t\t\t\t\t\t\t\t\t<a class=\"btn btn-sm\" target=\"_blank\" tabindex=\"0\" v-bind:href=\"tik.LINK_BLANK\">\r\n\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Ticket blank\" />\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-sm\" tabindex=\"0\" v-on:click=\"getBlank_ticket('pdf', ord, tik)\" v-on:keyup.enter.space=\"getBlank_ticket('pdf', ord, tik)\" v-bind:disabled=\"ord.LOADING_STATUSES\">PDF</button>\r\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-sm\" tabindex=\"0\" v-on:click=\"getBlank_ticket('png', ord, tik)\" v-on:keyup.enter.space=\"getBlank_ticket('png', ord, tik)\" v-bind:disabled=\"ord.LOADING_STATUSES\">PNG</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<!--PIRS-11575-->\r\n\t\t\t\t\t\t\t\t\t<div class=\"form-group\" v-if=\"tik.STATUS.CODE==='REFUNDED'\">\r\n\t\t\t\t\t\t\t\t\t\t<a class=\"btn btn-sm\" target=\"_blank\" tabindex=\"0\" v-bind:href=\"ord.LINK_BLANK\">\r\n\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Ticket/Refund coupon\" />\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<template v-if=\"tik.HUMAN_ERROR\">\r\n\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t\t<pre class=\"col-md-24 pre-message pre-message-common\">{{tik.HUMAN_ERROR}}</pre>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t\t<template v-if=\"isTicketActionsAvailable(tik, ord)\">\r\n\t\t\t\t\t\t\t\t<div class=\"pass-orderList-ticket-btnWrap row\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-md-24 text-right\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-sm\" tabindex=\"0\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-on:click=\"changeStatus(tik, ord, true)\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-on:keyup.enter.space=\"changeStatus(tik, ord, true)\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-show=\"tik.STATUS.CODE==='PAID'\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-bind:disabled=\"tik.LOADING_STATUS\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- Пройти электронную регистрацию -->\r\n\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Perform an electronic registration\"/>\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-sm\" tabindex=\"0\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-on:click=\"changeStatus(tik, ord, false)\" \r\n\t\t\t\t\t\t\t\t\t\t\tv-on:keyup.enter.space=\"changeStatus(tik, ord, false)\" \r\n\t\t\t\t\t\t\t\t\t\t\tv-show=\"tik.STATUS.CODE==='REGISTERED'\" \r\n\t\t\t\t\t\t\t\t\t\t\tv-bind:disabled=\"tik.LOADING_STATUS\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- Отменить электронную регистрацию -->\r\n\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Cancel electronic registration\"/>\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-sm\" tabindex=\"0\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"!ord.bNonRefundable\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-on:click=\"refundTicket(tik, ord, ordslot)\" \r\n\t\t\t\t\t\t\t\t\t\t\tv-on:keyup.enter.space=\"refundTicket(tik, ord, ordslot)\" \r\n\t\t\t\t\t\t\t\t\t\t\tv-bind:disabled=\"tik.LOADING_REFUND_TICKET\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- Оформить возврат -->\r\n\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Order a refund\"/>\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t\t<!-- сообщение Ваш возврат по платежной транзакции XXXX обработан и т.п., собирается из PSTKT_CABINET_MSG_REFUND_* -->\r\n\t\t\t\t\t\t\t<template v-if=\"ordslot.REFUND_MESSAGE\">\r\n\t\t\t\t\t\t\t\t<div class=\"pass-orderList-refund-msg__cont\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"refund-msg__item\" v-html=\"ordslot.REFUND_MESSAGE\"></div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t\t<!-- Страховка НС (от несчастных случаев, т.е. обычная) -->\r\n\t\t\t\t\t\t\t<template v-if=\"tik.INSUR\">\r\n\t\t\t\t\t\t\t\t<div class=\"row pass-ord-group\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-md-17\">\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"pass-ord-group-head\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- Страхование пассажиров от несчастных случаев на время поездки -->\r\n\t\t\t\t\t\t\t\t\t\t\t<ifrmsg name=\"INSURANCE_FORM_ENABLE_TOOLTIP\" />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<template v-if=\"tik.INSUR.Refunded == 1\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- Осуществлен возврат страховой премии -->\r\n\t\t\t\t\t\t\t\t\t\t\t<ifrmsg name=\"INSURANCE_RETURN_STATUS\" />\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t<template v-else=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"row\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-7\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- Компания --><dict name=\"Company\"/>:\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-17\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{tik.INSUR.shortName}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-7\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- Стоимость --><dict name=\"Stoimost\"/>:\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-17\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{tik.INSUR.cost | FORMAT_SUM}}&#160;руб.\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-md-7 text-right\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"btn-group\" v-if=\"isInsuranceActive(tik)\">\r\n\t\t\t\t\t\t\t\t\t\t\t<a class=\"btn btn-sm\" target=\"_blank\" tabindex=\"0\" v-if=\"tik.INSUR.Refunded!=1\" v-bind:href=\"tik.LINK_INSURANCE\" title=\"Бланк страховки от несчастных случаев\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Insurance policy\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t<!--кнопки скачивания бланков страховки  -->\r\n\t\t\t\t\t\t\t\t\t\t\t<a class=\"btn btn-sm\" tabindex=\"0\" v-on:click=\"getBlank_insurance(tik, 'pdf')\" v-on:keyup.enter.space=\"getBlank_insurance(tik, 'pdf')\" title=\"Бланк страховки от несчастных случаев в формате PDF\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tPDF\r\n\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-sm\" tabindex=\"0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-on:click=\"refundInsurance(tik, ord)\" \r\n\t\t\t\t\t\t\t\t\t\t\t\tv-on:keyup.enter.space=\"refundInsurance(tik, ord)\" \r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"isInsuranceRefundAvailable(tik, ord)\"><dict name=\"Order a refund\" /></button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- Оформить возврат -->\r\n\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t\t<!-- Страховка ДМС (медицинская) -->\r\n\t\t\t\t\t\t\t<template v-if=\"tik.POLICY\">\r\n\t\t\t\t\t\t\t\t<div class=\"row pass-ord-group\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-md-17\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"pass-ord-group-head\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- Страхование медицинских расходов на время путешествия -->\r\n\t\t\t\t\t\t\t\t\t\t\t<ifrmsg name=\"POLICY_FORM_ENABLE_TOOLTIP\" />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div v-if=\"tik.POLICY_STATUS.code != 'ISSUED'\" v-html=\"tik.POLICY_STATUS.name\"></div>\r\n\t\t\t\t\t\t\t\t\t\t<div v-else=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-7\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- Компания --><dict name=\"Company\"/>:\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-17\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ifrmsg name=\"POLICY_COMPANY\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-7\"> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- стоимость -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ifrmsg name=\"POLICY_FORM_PRICE\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-17\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{tik.POLICY.cost | FORMAT_SUM}}&#160;руб.\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-7\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ifrmsg name=\"POLICY_FORM_TERRITORY\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-17\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{tik.POLICY_AREA}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-7\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- Срок действия полиса --><dict name=\"Policy valid till\"/>:\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-17\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{tik.POLICY_DATE}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-md-7 text-right\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"btn-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t<a class=\"btn btn-sm\" target=\"_blank\" tabindex=\"0\" v-if=\"tik.POLICY_STATUS.code == 'ISSUED'\" v-bind:href=\"tik.POLICY.link\" title=\"Бланк полиса ДМС в формате PDF\">PDF</a>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-sm\" tabindex=\"0\" \r\n\t\t\t\t\t\t\t\t\t\t\t\tv-on:click=\"refundDMS(tik, ord)\" \r\n\t\t\t\t\t\t\t\t\t\t\t\tv-on:keyup.enter.space=\"refundDMS(tik, ord)\" \r\n\t\t\t\t\t\t\t\t\t\t\t\tv-bind:disabled=\"ord.LOADING_STATUSES\" \r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"isPolicyRefundAvailable(tik, ord)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- Оформить возврат --><dict name=\"Order a refund\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t\t<template v-if=\"prepaidFood_visible(tik, ord)\"><!-- PIRS-16436 -->\r\n\t\t\t\t\t\t\t\t<div class=\"row pass-ord-group\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-md-17\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"pass-ord-group-head\">\r\n\t\t\t\t\t\t\t\t\t\t\tПредоплаченое питание\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"row\" v-if=\"tik.foodId\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-7\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tВыбранный рацион:\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-17\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- сюда сервер пишет \"Выберите тип питания\", если он не выбран, таким образом понять, выбран ли тип, можно только по заполненности поля foodId -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{tik.foodName}}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div v-if=\"!ord.left && tik.status != 'REFUNDED'\" class=\"col-md-7 text-right\">\r\n\t\t\t\t\t\t\t\t\t\t<a v-on:click.prevent=\"changeMeal(ord, tik, ordslot_index, ordslot)\" class=\"btn btn-sm\">\r\n\t\t\t\t\t\t\t\t\t\t\t<template v-if=\"ord.foodId\">Сменить</template>\r\n\t\t\t\t\t\t\t\t\t\t\t<template v-else=\"\">Выбрать</template> тип питания\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t\t<!-- Дополнительное питание -->\r\n\t\t\t\t\t\t\t<template v-if=\"addFood_visible(tik)\">\r\n\t\t\t\t\t\t\t\t<div  v-for=\"foodOrder in addFood_getArray(tik)\" class=\"row pass-ord-group\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-md-17\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"pass-ord-group-head\">\r\n\t\t\t\t\t\t\t\t\t\t\t<ifrmsg name=\"ADD_FOOD\" />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<!-- Питание возвёрнуто - Оформлен возврат -->\r\n\t\t\t\t\t\t\t\t\t\t<dict name=\"Refunded\" v-if=\"foodOrder.isRefunded\"/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<!-- Питание куплено -->\r\n\t\t\t\t\t\t\t\t\t\t<template v-else-if=\"foodOrder.isPurchased\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"link-dotted\" v-on:click.prevent=\"getFoodDetails(ord, tik, foodOrder)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<template\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(selectedFoodItem, index) in foodOrder.foodPattern.split('')\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<template v-if=\"index\">/</template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Breakfast\" v-if=\"selectedFoodItem === 'З'\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Lunch\" v-if=\"selectedFoodItem === 'О'\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Dinner\" v-if=\"selectedFoodItem === 'У'\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</a>. <dict name=\"Stoimost\"/>: {{foodOrder.cost | FORMAT_SUM}}&#160;руб.\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<template v-if=\"foodDetails.selectedMenuItems && foodDetails.ticketId === tik.n\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"row\" v-for=\"selectedFoodItem in foodDetails.selectedMenuItems\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-8 text-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Breakfast\" v-if=\"selectedFoodItem === 'З'\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Lunch\" v-if=\"selectedFoodItem === 'О'\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Dinner\" v-if=\"selectedFoodItem === 'У'\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-8 text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{selectedFoodItem.variant}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-8\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{selectedFoodItem.count}} шт.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-md-7 text-right\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"btn-group\" v-if=\"!foodOrder.isFake\">\r\n\t\t\t\t\t\t\t\t\t\t\t<a v-bind:href=\"getFoodBlank(tik, ord, 'html', foodOrder)\" class=\"btn btn-sm\" target=\"_blank\"><dict name=\"Receipt\"/></a>\r\n\t\t\t\t\t\t\t\t\t\t\t<a v-on:click=\"getFoodBlank(tik, ord, 'pdf', foodOrder)\" class=\"btn btn-sm\">PDF</a>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"btn-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"tik.SHOW_REFUND_FOOD && foodOrder.isPurchased\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-on:click.prevent=\"refundFood(ord, tik, foodOrder)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-bind:disabled=\"foodDetails.LOADING_REFUND\" class=\"btn btn-sm\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- Сдать питание -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Return addtional food\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<button :href=\"LINK('catering-menu-page')\" class=\"btn btn-sm\" v-on:click.prevent=\"addFood_showMenuWindow()\">Посмотреть меню</button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-sm\" v-if=\"addFood_isBuyPossible(tik)\" v-on:click.prevent=\"buyAdditionals(ordslot, ord, tik, 'food')\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Buy\" /><!-- Купить питание -->\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t\t<!-- PIRS-16873 Товары с маркета -->\r\n\t\t\t\t\t\t\t<template v-if=\"tik.addGoods || tik.goodsTotalCost\">\r\n\t\t\t\t\t\t\t\t<div class=\"row pass-ord-group\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-sm-18\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"pass-ord-group-head\">\r\n\t\t\t\t\t\t\t\t\t\t\tТовары\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-sm-6 text-right\" v-if=\"tik.goodsTotalCost\">\r\n\t\t\t\t\t\t\t\t\t\t<b>\r\n\t\t\t\t\t\t\t\t\t\t\t<span v-html=\"tik.goodsTotalCost\"></span>&#160;<dict name=\"RUB\"/>\r\n\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-sm-7\">\r\n\t\t\t\t\t\t\t\t\t\t<a href=\"#\" class=\"link-dotted\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"tik.addGoods &amp;&amp; tik.status != 'REFUNDED'\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-on:click.prevent=\"buyAdditionals(ordslot, ord, tik, 'goods')\">Купить товары</a>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-sm-17 text-right\" v-if=\"tik.goodsTotalCost\">\r\n\t\t\t\t\t\t\t\t\t\t\t<a v-bind:href=\"tik.LINK_GOODS_LIST\" class=\"link-dotted\">Оформленные товары</a>\r\n\t\t\t\t\t\t\t\t\t\t\t<a class=\"link-dotted\" style=\"margin-left: 1em;\" target=\"_blank\" v-bind:href=\"tik.LINK_GOODS_BLANK_PDF\">PDF</a>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t\t</div> <!-- pass-orderList-ticket -->\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<template v-if=\"ord.ELREG_IFRMSG\">\r\n\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t<div class=\"col-md-18\">\r\n\t\t\t\t\t\t\t\t\t<ifrmsg :name=\"ord.ELREG_IFRMSG\" /> <!-- сообщения типа \"Обратитесь в КАССУ ИЛИ ТЕРМИНАЛ для оформления Вашего билета на бланке...\" -->\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t<template v-if=\"ord.LINK_HOTEL\">\r\n\t\t\t\t\t\t\t<!-- \"Забронировать отель\", формируется из переменной UFS_HOTELS_TPL кот содерджит сообщение ИФР UFS_HOTELS_ORDERS -->\r\n\t\t\t\t\t\t\t<div class=\"cab-hotels-block\" v-html=\"ord.LINK_HOTEL\"></div>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div> <!-- ord in lst\t -->\r\n\t\t\t</div> <!-- ordslots in slots -->\r\n\r\n\t\t\t<div class=\"text-center\">\r\n\t\t\t\t<div v-show=\"LOADING_ORDERS===false\">\t\t\t\t\t\r\n\t\t\t\t\t<a class=\"btn\" tabindex=\"0\" v-show=\"!lastPage\" v-on:click.prevent=\"getOrders(true)\">\r\n\t\t\t\t\t\t<dict name=\"Show more\"/><!-- Показать ещё -->\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<div v-if=\"slots.length===0 && bShowForm === true && !HUMAN_ERROR\">\r\n\t\t\t\t\t\t<!-- Список заказов пуст. Уточните даты поиска. -->\r\n\t\t\t\t\t\t<ifrmsg name=\"PSTKT_CABINET_MSG_EMPTY_SLOTS\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<i v-show=\"LOADING_ORDERS===true\" class=\"spin spin-lg\"/>\r\n\t\t\t</div>\r\n\r\n\r\n\t\t\t<div class=\"hdn\">\r\n\r\n\t\t\t\t<div class=\"j-on-aviso-popup\">\r\n\t\t\t\t\t<ifrmsg name=\"PST_WAIT_TRIP_STATUS_BLIND\" />\r\n\t\t\t\t\t<div v-for=\"(ordslot, ordslot_index) in slots\" v-bind:id=\"'hash-sord-'+ordslot.id\">\r\n\t\t\t\t\t\t<div v-if=\"ordslot.jstatus === 'ON_AVISO'\">\r\n\t\t\t\t\t\t\t<a class=\"link-dotted\" v-on:click=\"getStatusesForSaleOrder(ordslot)\">\r\n\t\t\t\t\t\t\t\t<dict name=\"Ticket/transactionId\" /> {{ordslot.transactionId}}\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"j-refund-popup\" v-if=\"refundMsg\">\r\n\t\t\t\t\t<p v-if=\"refundMsg.bMulti\">\r\n\t\t\t\t\t\t<!-- сообщение при попытке возврата билета инвалида мол, билет сопровождающего тоже надо вернуть -->\r\n\t\t\t\t\t\t<ifrmsg name=\"DPEOPLE_TICKET_SIMULTANEOUS_RETURN\" v-if=\"refundMsg.bDisabledCompanion\"/>\r\n\t\t\t\t\t\t<dict name=\"Only the simultaneous return of several tickets at once is possible!\"  v-if=\"!refundMsg.bDisabledCompanion\"/>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div v-for=\"ritem in refundMsg.list\" class=\"form-group\">\r\n\t\t\t\t\t\t<dict name=\"Departure\" /> {{refundMsg.ord.date0}} {{refundMsg.ord.time0}}, <dict name=\"Train\" /> \r\n\t\t\t\t\t\t{{refundMsg.ord.train}}, <dict name=\"Ticket/Car\" /> {{refundMsg.ord.car}}, <dict name=\"place\" /> {{ritem.place}}, {{ritem.name}}\r\n\r\n\t\t\t\t\t\t<div v-html=\"ritem.message\"></div><!-- \"Сумма, причитающаяся к возврату...\" - берётся из словаря и шаблонизируется в cabinet.js  -->\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"form-group\" v-if=\"refundMsg.bINSUR\">\r\n\t\t\t\t\t\t<!-- сообщение при попытке возврата билета со страховкой -->\r\n\t\t\t\t\t\t<ifrmsg name=\"INSURANCE_REFUND_SUM\"/>&#160;<span v-html=\"refundMsg.bINSUR_cost\"></span>&#160;руб.</b>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"form-group\" v-if=\"refundMsg.bDMS\">\r\n\t\t\t\t\t\t<!-- сообщение при попытке возврата билета со страховкой ВТБ ДМС -->\r\n\t\t\t\t\t\t<ifrmsg name=\"POLICY_CABINET_REFUND_SUM\"/>&#160;<span v-html=\"refundMsg.bDMS_cost\"></span>&#160;руб.</b>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"form-group\"> <!-- общее сообщение -->\r\n\t\t\t\t\t\t<ifrmsg name=\"REFUND_INFO_CABINET\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ifrmsg name=\"REFUND_RULES_YANDEX_MONEY\" v-if=\"refundMsg.bYandex\" /><!-- текст для яндекс -->\r\n\t\t\t\t\t<ifrmsg name=\"REFUND_RULES_BANK\" v-if=\"!refundMsg.bYandex\" /><!-- текст для ТКБ -->\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div style=\"display: none\">\r\n\t\t\t\t<!-- PIRS-16436 -->\r\n\t\t\t\t<!-- Шаблон для вывода списка питания. Содержит контейнер для элементов .j-list и кнопку выбора .j-submit -->\r\n\t\t\t\t<div id=\"j-change-food-popup\">\r\n\t\t\t\t\t<div class=\"j-mealList food-selector\">\r\n\t\t\t\t\t\t<h1>\r\n\t\t\t\t\t\t\t<dict name=\"Selecting the type of food\" />\r\n\t\t\t\t\t\t</h1>\r\n\r\n\t\t\t\t\t\t<div style=\"background: #eee; padding: 1em; margin-bottom: 1em\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<b>\r\n\t\t\t\t\t\t\t\t\t\t<dict name=\"Service expiration moment\" />&#160;\r\n\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<!-- всю разметку храним в сообщении ифр -->\r\n\t\t\t\t\t\t\t\t<ifrmsg name=\"PSTKT_MSG_FOOD_PRELIM\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<b>\r\n\t\t\t\t\t\t\t<dict name=\"FoodService/Select food type\" />\r\n\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<div class=\"j-list\">\r\n\t\t\t\t\t\t\t<div v-for=\"(foodItem, idx) in foodList.list\" class=\"j-food-list-item food-selector__item\">\r\n\t\t\t\t\t\t\t\t<!-- Заголовок выводится всегда. Содержит radio-button и название -->\r\n\t\t\t\t\t\t\t\t<div class=\"j-header food-selector__item-head\">\r\n\t\t\t\t\t\t\t\t\t<!-- дада, я знаю что c лейблом так делать плохо -->\r\n\t\t\t\t\t\t\t\t\t<label style=\"display: block\">\r\n\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" v-bind:value=\"foodItem.name+'_'+foodItem.id\" v-model=\"foodListSelectedItem\" name=\"food-type\" v-bind:id=\"foodItem.id\" v-bind:checked=\"foodItem.name == foodList.tikFoodName\"></input>\r\n\t\t\t\t\t\t\t\t\t\t{{foodItem.name}}\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"food-selector__toggler-down\" style=\"float: right\">▼</div>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<!-- Описание скрыто для тех элементов, которые не активны -->\r\n\t\t\t\t\t\t\t\t<div class=\"j-descr food-selector__item-descr\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"message-box\">\r\n\t\t\t\t\t\t\t\t\t\t<div v-if=\"foodItem.shortDescr\" class=\"food-selector__item-descr-short\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{foodItem.shortDescr}}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div v-if=\"foodItem.hasImage\" style=\"float: left; width: 270px\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img style=\"max-width: 100%; max-width: 250px;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t</img>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div v-if=\"foodItem.descr\" style=\"float: left; width: 300px\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{foodItem.descr}}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div style=\"clear:both\"></div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<template v-if=\"bShowBankResultBtns\">\r\n\r\n\t\t\t\t<payment-handler v-if=\"bShowRetryPayment\" v-bind:jr=\"journeyReservation\" ref=\"paymentHandler\"></payment-handler>\r\n\t\t\t\t<br/>\r\n\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"col-md-8\">\r\n\t\t\t\t\t\t<div v-if=\"bShowRetryPayment\">\r\n\t\t\t\t\t\t\t<a v-on:click=\"retryPayment\" class=\"btn btn-lg\">\r\n\t\t\t\t\t\t\t\tПопытаться оплатить ещё раз\r\n\t\t\t\t\t\t\t</a>&nbsp;<i v-if=\"LOADING_ORDERS\" class=\"spin spin-xs\"></i>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col-md-16 text-right\">\r\n\t\t\t\t\t\t<a class=\"btn btn-md\"  :href=\"LINK('route-2012')\" v-on:click.prevent=\"bankResult_goStart\">\r\n\t\t\t\t\t\t\t<dict name=\"Ticket/start ticket processing first\"/>\r\n\t\t\t\t\t\t</a> &#160;\r\n\t\t\t\t\t\t<a class=\"btn btn-md\" v-on:click.prevent=\"gotoCabinet\" href=\"LINK('cabinet-2012')\">\r\n\t\t\t\t\t\t\t<dict name=\"Go to My orders\"/>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</template>\r\n\t\t</div>\r\n\t</template>\r\n\r\n<script>\r\n\timport componentMixin from './cabinet.js';\r\n\timport paymentHandler from '@comps/payment-handler/payment-handler-special.vue'\r\n\timport authHandler from '@comps/auth-handler/auth-handler-special.vue'\r\n\r\n\texport default {\r\n\t\tname:'CabinetSpecial',\t\t\r\n\t\tcomponents: {\r\n\t\t\t'payment-handler': paymentHandler,\r\n\t\t\t'auth-handler': authHandler\r\n\t\t},\r\n\t\tmixins: [componentMixin]\r\n\t}\r\n</script>\r\n<style scoped lang=\"less\">/* здесь можно писать scoped стили, либо указать src внешнего файла */</style> \n\n\n// WEBPACK FOOTER //\n// cabinet-special.vue?ffb7f4ec","/**\r\n\tЗдесь будет реализация асинхронной авторизации\r\n\tпока что она совместима только с мобилкой, потому размещена в auth-handler.mobile.vue\r\n*/\r\nexport default {}\n\n\n// WEBPACK FOOTER //\n// ./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/auth-handler/auth-handler.js","// Компонент выбора платёжной системы и перехода к оплате\r\n// минимально необходимый вызов:\r\n// <payment-handler v-bind:jr=\"jr\" ref=\"paymentHandler\"></payment-handler> где jr - journeyReservation\r\n\r\nexport default {\r\n\tprops: {\r\n\t\t// Ответ на запрос бронирования\r\n\t\t// TODO возможно имеет смысл не пихать в пропс весь объект, а только то что нужно\r\n\t\tjr: {\r\n\t\t\ttype: Object,\r\n\t\t\t'default': function() { // Props with type Object/Array must use a factory function to return the default value.\r\n\t\t\t\treturn {}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// Флаг повторной попытки оплаты\r\n\t\t// Случается на странице возврата из банка\r\n\t\t// Если результат неуспешный\r\n\t\tretry: {\r\n\t\t\ttype: Boolean,\r\n\t\t\t'default': false\r\n\t\t},\r\n\t\t// Тип клиента (эктора)\r\n\t\t// бывает:\r\n\t\t// * desktop_2016\r\n\t\t// * MOBILE_USER\r\n\t\t// * INSPECTOR\r\n\t\t// * TRAINMASTER\r\n\t\tactor: {\r\n\t\t\ttype: String\r\n\t\t\t\t// 'default': 'desktop_2016'\r\n\t\t}\r\n\t},\r\n\tdata: function() {\r\n\t\treturn {\r\n\t\t\tcurCode: store.local.get('paymethod') || 'BANK',\r\n\t\t\tbRetry: this.$props.retry,\r\n\t\t\tpaymentAvailable: true,\r\n\t\t\tLOADER: false, // изменяется в т.ч. из ridQuery\r\n\t\t\tHUMAN_ERROR: '' // изменяется в т.ч. из ridQuery\r\n\t\t}\r\n\t},\r\n\tcomputed: { // в компьютед попадают те пропсы которые могут быть изменены извне\r\n\t\t// Список платёжных систем.\r\n\t\t// Получается на этапе бронирования, сохраняется в сторедж\r\n\t\tlist: function() {\r\n\t\t\treturn this.$props.jr.paymentSystems\r\n\t\t},\r\n\t\t// Параметры для перехода в яндекс\r\n\t\t// Получается на этапе бронирования, сохраняется в сторедж\r\n\t\tyandexMoney: function() {\r\n\t\t\treturn this.$props.jr.yandexMoney\r\n\t\t},\r\n\t\t// Айди заказа\r\n\t\t// Получается на этапе бронирования\r\n\t\t// на этапе возврата берётся из урла\r\n\t\tsaleOrderId: function() {\r\n\t\t\treturn this.$props.jr.saleOrderId || UTIL.pageData.orderid || UTIL.pageData.orderId || UTIL.pageData.saleOrderId; // vuex\r\n\t\t},\r\n\t\t//полная сумма к оплате\r\n\t\ttotalSum: function() {\r\n\t\t\treturn this.$props.jr.totalSum;\r\n\t\t},\r\n\t\t//тип платежа по своей сути за что платеж.\r\n\t\ttype: function() {\r\n\t\t\treturn this.$props.jr.type || 'TICKET';\r\n\t\t},\r\n\r\n\t\t//!НЕ РАБОТАЕТ!\r\n\t\ttransactionId: function() {\r\n\t\t\treturn this.$props.jr.transactionId; // Я не знаю поечму этот параметр не передается, я передаю его в как аргумент к функции submit\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tselect: function(ps) {\r\n\t\t\tif (yaCheckRequest) {\r\n\t\t\t\t// пользователь после яндекса сам кликает-переключается на банк\r\n\t\t\t\tyaCheckRequest.cancel();\r\n\t\t\t}\r\n\t\t\tthis.$data.curCode = ps.code;\r\n\t\t},\r\n\t\t// Нажатие на кнопку оплатить\r\n\t\t// авторизация в банке, затем goPay\r\n\t\tsubmit: function(transactionId) { // вызов из родителя: this.$refs.paymentHandler.submit();\r\n\t\t\tvar vm = this;\r\n\t\t\t// TODO дизейбл кнопки (у родителя)\r\n\t\t\tstore.local.set('paymethod', vm.$data.curCode);\r\n\t\t\t// Если НЕ яндекс\r\n\t\t\t// значит или BANK или вообще ВТТ либо лояльность (безденежная оплата, сумма заказа 0)\r\n\t\t\tif (vm.$data.curCode !== 'YANDEX') {\r\n\t\t\t\tvm.goPay(transactionId);\r\n\t\t\t}\r\n\t\t\telse { // Если яндекс, перед переходом надо спросить у него, можно ли попробовать ещё раз\r\n\t\t\t\tUTIL.log('Проверка возможности оплаты Яндексом');\r\n\t\t\t\t// TODO крутилка\r\n\t\t\t\tvar url = '/ticket/services/payment/possibility/check/journey/' + vm.saleOrderId + '/' + UTIL.pageData.lang + UTIL.getServiceParams();\r\n\t\t\t\tyaCheckRequest = UTIL.ridQuery(url)\r\n\t\t\t\t\t.fail(function() { // вызывается когда response.error непустой\r\n\t\t\t\t\t\tUTIL.dialogMessage('Оплата Яндекс.Деньгами невозможна');\r\n\t\t\t\t\t\tvm.curCode = 'BANK'; // TODO вообще скрыть яндекс?\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.done(function() {\r\n\t\t\t\t\t\tvm.goPay(transactionId)\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t// Переход на страницу платёжной системы\r\n\t\t// происходит после авторизации в банке\r\n\t\tgoPay: function(transactionId) {\r\n\t\t\tvar vm = this,\r\n\t\t\t\turl;\r\n\t\t\t// --- идём на страницу подтверждения оплаты (если общая сумма заказа равна 0, это по всей видимости - ВТТ, лояльность)\r\n\t\t\tif (!vm.totalSum) {\r\n\t\t\t\turl = '?layer_name=e3-result&zero=1&result=OK&orderId=' + vm.saleOrderId + UTIL.getServiceParams();\r\n\t\t\t\twindow.location.href = url;\r\n\t\t\t\t// Важен параметр zero, т.к. с его помошью выбирается адрес запроса на подтверждение payment0 в orders.js\r\n\t\t\t}\r\n\t\t\telse if (vm.$data.curCode === 'YANDEX') { // --- идём в Яндекс\r\n\t\t\t\tthis.$refs.yaform.submit();\r\n\t\t\t}\r\n\t\t\telse if (vm.$data.curCode === 'BANK') { // --- Идём в банк\r\n\t\t\t\turl = window.UTIL.pageData.LayerLinks.bankAuth || '?layer_id=5734'; // правильнее брать из метаданных, т.к. в случае 'неправильного' path (например если из редизайна просить слой 152 ИФР) случается редирект и POST-параметры попадают в кверистринг\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\ttype: vm.type,\r\n\t\t\t\t\torderId: vm.saleOrderId,\r\n\t\t\t\t\tactorType: vm.$props.actor\r\n\t\t\t\t};\r\n\t\t\t\tif (transactionId) {\r\n\t\t\t\t\tparams.transactionId = transactionId;\r\n\t\t\t\t}\r\n\t\t\t\twindow.UTIL.ridQuery(url, params, vm.$data)\r\n\t\t\t\t\t.done(function(response) {\r\n\t\t\t\t\t\twindow.location.href = response.url;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.always(function() { // чтобы при ошибке у родителя скрывалась крутилка. Кривовато, но...\r\n\t\t\t\t\t\tif (vm.$parent && vm.$parent.$data.LOADING_NEXT === true) {\r\n\t\t\t\t\t\t\tvm.$parent.$data.LOADING_NEXT = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.fail(function(error, errData) {\r\n\t\t\t\t\t\tif (vm.$parent && error === 'Оплата заказа невозможна') {\r\n\t\t\t\t\t\t\tvm.$data.paymentAvailable = false;\r\n\t\t\t\t\t\t\tvm.$parent.$data.paymentAvailable = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthrow new Error('Не найден обработчик для кода ' + curCode);\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetImageSrc: function(ps) {\r\n\t\t\treturn '/dbmm/images/61/28054/' + ps.id;\r\n\t\t}\r\n\t},\r\n\tmounted: function() {\r\n\t\twindow.UTIL.log('payment-handler mounted');\r\n\t\tif (window.UTIL.pageData.showErrors === true) { // сервер разработческий или в урле есть err\r\n\t\t\twindow.VUEI_paymentHandler = this;\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/payment-handler/payment-handler.js","export default {\r\n\tbind: function(el, binding, vnode) {\r\n\t\tvar opts = window.datePickerLoc({\r\n\t\t\tdateFormat: 'dd.mm.yy',\r\n\t\t\tonClose: function(dateStr) {\r\n\t\t\t\t_setBodyClass(false);\r\n\t\t\t\t_parsePathAndSet(vnode.context, binding.expression, dateStr);\r\n\t\t\t},\r\n\t\t\tbeforeShow: function() {\r\n\t\t\t\t_setBodyClass(true);\r\n\t\t\t}\r\n\t\t})\r\n\t\tvar $inp = $(el);\r\n\t\t$inp.datepicker(opts);\r\n\t\t/**\r\n\t\t\tПример использования\r\n\t\t\tvar obj = {prop1:{anotherProp:1}};\r\n\t\t\tparsePathAndSet(obj, 'prop1.anotherProp', 2)\r\n\t\t\tconsole.log(obj) // {prop1:{anotherProp:2}}\r\n\t\t*/\r\n\t\tfunction _parsePathAndSet(obj, key, value) {\r\n\t\t\tvar keyArr = key.split('.');\r\n\t\t\tvar lastKey = keyArr.pop();\r\n\t\t\tfor (var i = 0, len = keyArr.length; i < len; i++) {\r\n\t\t\t\tobj = obj[keyArr[i]];\r\n\t\t\t}\r\n\t\t\tobj[lastKey] = value;\r\n\t\t}\r\n\r\n\t\tfunction _setBodyClass(boo) {\r\n\t\t\t$(document.body).toggleClass('jqui-datepicker-active', boo); // для мобилки\r\n\t\t}\r\n\t},\r\n\tupdate: function(el, binding, vnode) {\r\n\t\t$(el).datepicker('setDate', binding.value);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/directives/jqui-datepicker.js","import makeApp from './_makeRoot.js'\r\nimport pageMixin from '@pages/cabinet-special.vue'\r\n\r\nmakeApp(pageMixin);\n\n\n// WEBPACK FOOTER //\n// ./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/entry-points/cabinet-special.js","import mixins from '@mixins' // глобальные миксины\r\nimport jquiDatepicker from '@directives/jqui-datepicker.js'\r\n\r\nvar REQ = window.PAGEDATA.params;\r\nvar ON_AVISO_cnt = 0;\r\nvar ON_AVISO_cnt_prev = 0;\r\nvar vm;\r\n\r\nvar component = {\r\n\tdata: function() {\r\n\t\treturn {\r\n\t\t\tform: { // поля формы можно задать в урле\r\n\t\t\t\tdate0: REQ.date0 || '',\r\n\t\t\t\tdate1: REQ.date1 || '',\r\n\t\t\t\tnumber: REQ.number || '',\r\n\t\t\t\tname: REQ.name || '',\r\n\t\t\t\tmode: REQ.mode || '', // бывает archive и active\r\n\t\t\t\ttype: REQ.type, //параметр передаются для покупки из личного кабинета (например питание)\r\n\t\t\t\ttransactionId: REQ.transactionId, //параметр передаются для покупки из личного кабинета (например питание)\r\n\t\t\t\tsaleOrderId: REQ.saleOrderId || REQ.orderId || '', // TODO избавиться от зоопарка, это в яве\r\n\t\t\t\tresult: REQ.result // отладка: чтобы страница после банка не становилась кабинетом после F5\r\n\t\t\t},\r\n\t\t\tslots: [], // сюда помещаются поездки (название слотс взято тупо из апи)\r\n\t\t\tLOADING_ORDERS: false,\r\n\t\t\tHUMAN_ERROR: '', // человекопонятный текст глобальной ошибки\r\n\t\t\tDMSAREA: g_dmsArea,\r\n\t\t\tPOLICY_STATUSES: g_policyStatus,\r\n\t\t\trefundMsg: false,\r\n\t\t\tlastPage: true,\r\n\t\t\tDEBUG: PAGEDATA.showErrors,\r\n\r\n\t\t\t/* Страница после банка */\r\n\t\t\tbPageAfterBank: !!REQ.result, // считаем что если в урле есть result, то страница после банка\r\n\t\t\tbShowRetryPayment: false, // возврат к оплате\r\n\t\t\tPAYMENT_RESULT: REQ.result,\r\n\r\n\t\t\t/* Дополнительное питание */\r\n\t\t\tfoodDetails: {\r\n\t\t\t\tselectedMenuItems: false,\r\n\t\t\t\tLOADING_REFUND: false\r\n\t\t\t},\r\n\t\t\t/* Предоплаченное питание */\r\n\t\t\tfoodList: [],\r\n\t\t\tfoodListSelectedItem: '',\r\n\t\t\tbAuthFormVisible: false\r\n\t\t}\r\n\t},\r\n\tfilters: {},\r\n\tcomputed: {\r\n\t\t// Показ формы - для ЛК\t\r\n\t\tbShowForm: function() {\r\n\t\t\treturn this.bPageAfterBank === false;\r\n\t\t},\r\n\t\t// Показ кнопок \"Купить новый билет\" и \"Перейти в «Мои заказы»\" - для страницы после банка\r\n\t\tbShowBankResultBtns: function() {\r\n\t\t\treturn this.bPageAfterBank === true;\r\n\t\t},\r\n\t\tjourneyReservation: function() {\r\n\t\t\t// Достаём из сессии резултаты бронирования \r\n\t\t\t// для того чтобы нарисовать кнопку возврата к платежу\r\n\t\t\t// ключи разные. Просто Reservation - это слепые, ResPg.result - это мобилка\r\n\t\t\tvar storedReservation = store.session('Reservation') || store.session('ResPg.result') || store.session('pass16_ResResponse');\r\n\t\t\treturn storedReservation;\r\n\t\t}\r\n\t},\r\n\tmixins: [mixins], // глобальные миксины\r\n\tmounted: function() {\r\n\t\tvm = this;\r\n\t\tif (this.IS_DEV) {\r\n\t\t\twindow['VUEI_' + this.$options.name] = this; // на дев-сервере будет переменная VUEI_CabinetRedesign со ссылкой на компонент\r\n\t\t}\r\n\t\tthis.changeMode('active', true);\r\n\t\t// Страница после оплаты\r\n\t\tif (vm.$data.bPageAfterBank) {\r\n\t\t\tif (REQ.result === 'OK') {\r\n\t\t\t\tif (REQ.paymentSystem === 'YANDEX') {\r\n\t\t\t\t\tvm.bankResult_checkPaymentYandex();\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvm.bankResult_finalizePayment();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvm.bShowRetryPayment = true; // показ кнопки \"Попытаться оплатить ещё раз\"\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Обычный личный кабинет\r\n\t\telse {\r\n\t\t\tvm.getOrders();\r\n\t\t}\r\n\t},\r\n\tdirectives: {\r\n\t\t'jqui-datepicker': jquiDatepicker\r\n\t},\r\n\tmethods: {\r\n\t\tgetOrders: getOrders,\r\n\t\t// Кнопка \"Перейти в Мои Заказы\" на странице возврата из банка\r\n\t\tgotoCabinet: function() {\r\n\t\t\tthis.$data.HUMAN_ERROR = '';\r\n\t\t\t$('html,body').animate({\r\n\t\t\t\tscrollTop: 0\r\n\t\t\t}, 300);\r\n\t\t\tthis.$data.bPageAfterBank = false;\r\n\t\t\tthis.$data.form.saleOrderId = '';\r\n\t\t\tthis.$data.PAYMENT_RESULT = '';\r\n\t\t\tthis.getOrders();\r\n\t\t},\r\n\t\tretryPayment: function() {\r\n\t\t\tthis.$refs.paymentHandler.submit();\r\n\t\t},\r\n\t\tchangeMode: function(newMode, bDontMakeRequest) {\r\n\t\t\tif (this.$data.form.mode !== newMode) {\r\n\t\t\t\tthis.$data.form.mode = newMode;\r\n\t\t\t\tvar bActive = newMode === 'active';\r\n\r\n\t\t\t\tvar d = new Date();\r\n\t\t\t\tvar formattedDate = [UTIL.leftpad(d.getDate()), UTIL.leftpad(d.getMonth() + 1), d.getFullYear()].join('.');\r\n\t\t\t\tthis.$data.form.date0 = bActive ? formattedDate : '';\r\n\t\t\t\tthis.$data.form.date1 = bActive ? '' : formattedDate;\r\n\r\n\t\t\t\tif (!bDontMakeRequest) {\r\n\t\t\t\t\tthis.getOrders();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// получить статусы для всего заказа (APP_SALE_ORDER)\r\n\t\tgetStatusesForSaleOrder: function(sord) {\r\n\t\t\tvar $activeDialog = $('.ui-dialog-content:visible');\r\n\t\t\tif ($activeDialog.length !== 0) { // это сделано для PIRS-13686 (ON_AVISO_LIST)\r\n\t\t\t\t$activeDialog.dialog('close');\r\n\t\t\t}\r\n\t\t\tif (typeof $.scrollTo === 'function') {\r\n\t\t\t\tvar $sord = $('#hash-sord-' + sord.id);\r\n\t\t\t\t$.scrollTo($sord, 200, {\r\n\t\t\t\t\toffset: -50 // высота верхней панели с настройками слепых, иначе она перекрывает\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tfor (var k = 0; k < sord.lst.length; k++) {\r\n\t\t\t\tvar ord = sord.lst[k]; // это запись в APP_ORDER\r\n\t\t\t\tthis.getStatuses(ord);\r\n\t\t\t}\r\n\t\t},\r\n\t\t// получить статусы для поездки (APP_ORDER)\r\n\t\t// TODO PIRS-13714\r\n\t\tgetStatuses: function(ord, callback) {\r\n\t\t\tord.LOADING_STATUSES = true;\r\n\t\t\tord.LOADER = true;\r\n\t\t\tord.HUMAN_ERROR = null;\r\n\t\t\tvar url = '?layer_id=5417';\r\n\t\t\tvar params = {\r\n\t\t\t\tORDER_ID: ord.N\r\n\t\t\t}\r\n\t\t\tvar requestRidOptions = {\r\n\t\t\t\tonIdle: function(res) {\r\n\t\t\t\t\t// запоминаем RID для загрузки PDF и PNG бланков, иначе PIRS-14446\r\n\t\t\t\t\tord._statusRid = res.RID;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tUTIL.ridQuery(url, params, ord, requestRidOptions)\r\n\t\t\t\t.done(function(result) {\r\n\t\t\t\t\tUTIL.log(result);\r\n\t\t\t\t\trequestRidOptions.HUMAN_ERROR = null;\r\n\t\t\t\t\tord._statusRid_timestamp = Date.now(); // для проверки протухших rid\r\n\t\t\t\t\tvar ticDate = result.timestamp.substr(3, 2) + '/' + result.timestamp.substr(0, 2) + '/' + result.timestamp.substr(6, 4) + ' ' + result.timestamp.substr(11);\r\n\t\t\t\t\tvar dateTimeNow = new Date(Date.parse(ticDate)); // Date.parse принимает дату в формате MM.DD.YYYY, чтоб его..\r\n\r\n\t\t\t\t\tord.LOADER = false;\r\n\t\t\t\t\tvar hasWithER = false;\r\n\t\t\t\t\tvar hasWithoutER = false;\r\n\t\t\t\t\tvar statuses = result.lst;\r\n\t\t\t\t\tfor (var i = 0; i < statuses.length; i++) {\r\n\t\t\t\t\t\tvar stat = statuses[i];\r\n\t\t\t\t\t\tfor (var k = 0; k < ord.lst.length; k++) {\r\n\t\t\t\t\t\t\tvar tik = ord.lst[k];\r\n\t\t\t\t\t\t\t// сопоставляем айди билета в данных и в ответе по статусам, чтобы нарисовать статусы там где нужно\r\n\t\t\t\t\t\t\tvar blockRefund = (tik.dateTimeDeparture - dateTimeNow < 60 * 59 * 1000) ? true : false; // блокировка сдачи билета за час до отправления\r\n\t\t\t\t\t\t\tif (tik.n === stat.n) {\r\n\t\t\t\t\t\t\t\ttik.STATUS.NAME = stat['name_' + window.PAGEDATA.lang];\r\n\t\t\t\t\t\t\t\ttik.STATUS.CODE = stat.status;\r\n\t\t\t\t\t\t\t\ttik.LOADING_STATUS = false;\r\n\t\t\t\t\t\t\t\t// update POLICY\r\n\t\t\t\t\t\t\t\tif (stat.policies && stat.policies.length && tik.POLICY && stat.policies[0].number == tik.POLICY.number) {\r\n\t\t\t\t\t\t\t\t\ttik.POLICY.statusId = stat.policies[0].statusId;\r\n\t\t\t\t\t\t\t\t\ttik.POLICY_STATUS = g_policyStatus[stat.policies[0].statusId];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttik.LOADER = false;\r\n\t\t\t\t\t\t\t// блокировать сдачу билета, если до отправления меньше 1 часа PIRS-14238\r\n\t\t\t\t\t\t\tif (blockRefund) {\r\n\t\t\t\t\t\t\t\ttik.LOADING_REFUND_TICKET = blockRefund;\r\n\t\t\t\t\t\t\t\ttik.SHOW_REFUND_FOOD = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (stat.status === 'REGISTERED') {\r\n\t\t\t\t\t\t\thasWithER = true;\r\n\t\t\t\t\t\t\t// блокировать отмену регистрации, если до отправления меньше 1 часа PIRS-14238\r\n\t\t\t\t\t\t\tif (blockRefund) {\r\n\t\t\t\t\t\t\t\ttik.LOADING_STATUS = blockRefund;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (stat.status === 'PAID') {\r\n\t\t\t\t\t\t\thasWithoutER = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (stat.status === 'REFUNDED') {\r\n\t\t\t\t\t\t\ttik.status = stat.status;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (hasWithER === true && hasWithoutER === true) {\r\n\t\t\t\t\t\tord.ELREG_IFRMSG = 'PST_ELREG_BOTH';\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (hasWithER === true) {\r\n\t\t\t\t\t\tord.ELREG_IFRMSG = 'PST_ELREG_ETICKET_A4';\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (hasWithoutER === true) {\r\n\t\t\t\t\t\tord.ELREG_IFRMSG = 'PST_ELREG_GET_COUPON';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.always(function() {\r\n\t\t\t\t\tord.LOADING_STATUSES = false;\r\n\t\t\t\t})\r\n\r\n\t\t},\r\n\t\tchangeStatus: function(tik, ord, bEnable) {\r\n\t\t\tif (tik.LOADING_STATUS && bEnable === false) return; // блокировка отмены пройденной регистрации за 1 час до отправления PIRS-14238\r\n\t\t\ttik.LOADING_STATUS = true;\r\n\t\t\ttik.LOADER = true;\r\n\t\t\tvar params = {\r\n\t\t\t\taction: bEnable === true ? 'REGISTER' : 'UNREGISTER',\r\n\t\t\t\tORDER_ID: ord.N,\r\n\t\t\t\tticket_id: tik.n\r\n\t\t\t}\r\n\t\t\tUTIL.ridQuery('?layer_id=5418', params, tik)\r\n\t\t\t\t.done(function(result) {\r\n\t\t\t\t\tif (result.result === 'OK') {\r\n\t\t\t\t\t\tvm.getStatuses(ord);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.always(function() {\r\n\t\t\t\t\ttik.LOADING_STATUS = false;\r\n\t\t\t\t})\r\n\t\t},\r\n\t\t/**\r\n\t\t\ttik\t\t\t\t{object}\tбилет (APP_TICKET)\r\n\t\t\tord\t\t\t\t{object}\tзаказ (APP_ORDER)\r\n\t\t\tsord\t\t\t{object}\tпоездка (APP_SALE_ORDER)\r\n\t\t\tbForceRefund\t{boolean}\tне запрашивать подтверждение пользователя\r\n\t\t*/\r\n\t\trefundTicket: function(tik, ord, sord, bForceRefund) {\r\n\t\t\t//Todo создать отдельный признак для блокировки билета.\r\n\t\t\tif (tik.LOADING_REFUND_TICKET) return; // блокировка возврата билета за 1 час до отправления PIRS-14238\r\n\t\t\ttik.LOADING_REFUND_TICKET = true; // определено при запросе статуса билета.\r\n\t\t\tvar params = {\r\n\t\t\t\taction: bForceRefund === true ? 'REFUND' : 'PREVIEW',\r\n\t\t\t\tORDER_ID: ord.N,\r\n\t\t\t\tticket_id: tik.n\r\n\t\t\t}\r\n\t\t\tUTIL.ridQuery('?layer_id=5421', params, tik)\r\n\t\t\t\t.done(function(result) {\r\n\t\t\t\t\ttik.HUMAN_ERROR = null;\r\n\t\t\t\t\tUTIL.log(result);\r\n\t\t\t\t\tvar msgTemplate = window.lang(['Ticket', 'The amount due for return: $summa$']);\r\n\t\t\t\t\tif ('lst' in result && 'sum' in result.lst[0]) { // то бишь action==='PREVIEW'\r\n\t\t\t\t\t\tvar rfnd = {\r\n\t\t\t\t\t\t\tbMulti: result.lst.length > 1,\r\n\t\t\t\t\t\t\tbDisabledCompanion: tik.disabledTypeId === 1,\r\n\t\t\t\t\t\t\tbYandex: sord.paymentMethod === 'YANDEX_MONEY',\r\n\t\t\t\t\t\t\tbDMS: tik.POLICY ? tik.POLICY.number && tik.POLICY.statusId == 40 : null,\r\n\t\t\t\t\t\t\tbDMS_cost: tik.POLICY ? tik.POLICY.cost : null,\r\n\t\t\t\t\t\t\tbINSUR: tik.INSUR ? tik.INSUR.bRefund == 0 : null,\r\n\t\t\t\t\t\t\tbINSUR_cost: tik.INSUR ? tik.INSUR.cost : null,\r\n\t\t\t\t\t\t\tord: ord,\r\n\t\t\t\t\t\t\tlist: []\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\t// собираем все билеты заказа в билет для нахождения соответствия\r\n\t\t\t\t\t\t// респонса и возвращаемых билетов\r\n\t\t\t\t\t\tvar ordTicketList = [];\r\n\t\t\t\t\t\tfor (var k = 0, lenk = ord.lst.length; k < lenk; k++) {\r\n\t\t\t\t\t\t\tvar ticket = ord.lst[k];\r\n\t\t\t\t\t\t\tordTicketList[ticket.id] = ticket;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (var i = 0, len = result.lst.length; i < len; i++) {\r\n\t\t\t\t\t\t\tvar refundItem = result.lst[i];\r\n\t\t\t\t\t\t\tvar ticket = ordTicketList[refundItem.ticketNum];\r\n\t\t\t\t\t\t\trefundItem = $.extend(ticket, refundItem)\r\n\t\t\t\t\t\t\trefundItem.summa = refundItem.sum; // в лучших традициях нашего АПИ в словарном тексте написано $summa$ а в респонсе - sum.\r\n\t\t\t\t\t\t\trefundItem.text = UTIL.formatStr(msgTemplate, {\r\n\t\t\t\t\t\t\t\tsumma: refundItem.sum,\r\n\t\t\t\t\t\t\t\ttime: refundItem.time,\r\n\t\t\t\t\t\t\t\tdate: refundItem.date\r\n\t\t\t\t\t\t\t}, ['$', '$']);\r\n\t\t\t\t\t\t\trfnd.list.push(refundItem)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvm.$data.refundMsg = rfnd; // скармливаем данные вуЮ, он их рендерит\r\n\r\n\t\t\t\t\t\tvar confirmButtons = {};\r\n\t\t\t\t\t\tconfirmButtons[window.lang('Make refund')] = function(evt) {\r\n\t\t\t\t\t\t\tvm.refundTicket(tik, ord, sord, true);\r\n\t\t\t\t\t\t\t$(this).dialog('close');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconfirmButtons[window.lang('Cancel')] = function(evt) {\r\n\t\t\t\t\t\t\t$(this).dialog('close');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvm.$nextTick(function() {\r\n\t\t\t\t\t\t\tvar opts = {\r\n\t\t\t\t\t\t\t\tbuttons: confirmButtons\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tUTIL.dialogMessage($('.j-refund-popup'), opts)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse { // то бишь action==='REFUND'\r\n\t\t\t\t\t\tvm.getStatuses(ord);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (bForceRefund && tik.INSUR) { // то бишь action==='REFUND'\r\n\t\t\t\t\t\tvm.$set(tik.INSUR, 'Refunded', 1); // ставим такой же признак как приходит с сервера PIRS-16888\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.always(function() {\r\n\t\t\t\t\ttik.LOADING_REFUND_TICKET = false;\r\n\t\t\t\t})\r\n\t\t},\r\n\t\trefundInsurance: function(tik, ord) {\r\n\t\t\tvar confirmButtons = {};\r\n\t\t\tconfirmButtons[lang('Make refund')] = function(evt) {\r\n\t\t\t\tvar dfInsrRef = $.ajax({\r\n\t\t\t\t\turl: '?layer_id=5664',\r\n\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tORDER_ID: ord.N,\r\n\t\t\t\t\t\tpassengerId: tik.INSUR.passId,\r\n\t\t\t\t\t\tticketNumber: tik.id,\r\n\t\t\t\t\t\tticket_id: tik.n\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tdfInsrRef\r\n\t\t\t\t\t.success(function(insrRetundRes) {\r\n\t\t\t\t\t\tif (insrRetundRes.result === \"OK\") {\r\n\t\t\t\t\t\t\tvm.$set(tik.INSUR, 'Refunded', 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(insrRetundRes) {\r\n\t\t\t\t\t\tUTIL.dialogMessage('В процессе возврата страховки произошла ошибка.<br/>Пожалуйста, повторите попытку позже.');\r\n\t\t\t\t\t});\r\n\t\t\t\t$(this).dialog('close');\r\n\t\t\t}\r\n\t\t\tconfirmButtons[lang('Cancel')] = function(evt) {\r\n\t\t\t\t$(this).dialog('close');\r\n\t\t\t}\r\n\t\t\tUTIL.dialogMessage('Осуществить возврат страховки?', {\r\n\t\t\t\tbuttons: confirmButtons\r\n\t\t\t})\r\n\t\t},\r\n\t\trefundDMS: function(tik, ord) {\r\n\t\t\tvar confirmButtons = {},\r\n\t\t\t\tresult;\r\n\t\t\tconfirmButtons[lang('Make refund')] = function(evt) {\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\tjourneyId: ord.journeyId,\r\n\t\t\t\t\tpolicyNumber: tik.POLICY.number\r\n\t\t\t\t};\r\n\t\t\t\tUTIL.ridQuery('?layer_id=5890', params, tik, {})\r\n\t\t\t\t\t.done(function(result) {\r\n\t\t\t\t\t\tif (result.result === \"OK\") {\r\n\t\t\t\t\t\t\ttik.policies[0].statusId = 70;\r\n\t\t\t\t\t\t\ttik.POLICY_STATUS = g_policyStatus[tik.policies[0].statusId];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (result.statusText == 'OK') {\r\n\t\t\t\t\t\t\tresult = JSON.parse(result.responseText);\r\n\t\t\t\t\t\t\tUTIL.log('Ошибка при возврате полиса', result);\r\n\t\t\t\t\t\t\tUTIL.dialogMessage('В процессе возврата страховки произошла ошибка.<br/>Пожалуйста, обновите страницу и повторите попытку позже.');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.always(function(result) {\r\n\t\t\t\t\t\ttik.LOADING_REFUND_TICKET = false;\r\n\t\t\t\t\t\tif (result.statusText == 'OK') {\r\n\t\t\t\t\t\t\tUTIL.log('Ошибка при возврате полиса.', result);\r\n\t\t\t\t\t\t\tUTIL.dialogMessage('В процессе возврата страховки произошла ошибка.<br/>Пожалуйста, обновите страницу и повторите попытку позже.');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t$(this).dialog('close');\r\n\t\t\t}\r\n\t\t\tconfirmButtons[lang('Cancel')] = function(evt) {\r\n\t\t\t\t$(this).dialog('close');\r\n\t\t\t}\r\n\t\t\tvar msg = window.IFRMSG.POLICY_CABINET_REFUND_SUM + '&nbsp;' + tik.policies[0].cost + '&nbsp;руб.<br/>' + window.IFRMSG.REFUND_INFO_CABINET + '<br/>Осуществить возврат полиса?';\r\n\t\t\tUTIL.dialogMessage(msg, {\r\n\t\t\t\tbuttons: confirmButtons\r\n\t\t\t})\r\n\t\t},\r\n\t\tgetBlank_insurance: function(tik, format) {\r\n\t\t\tvar dlAddress = location.origin + '/blank/insurance/download/' + format + '/passenger/' + tik.INSUR.passId + '/' + window.PAGEDATA.lang;\r\n\t\t\tdownloadFile(dlAddress);\r\n\t\t},\r\n\t\tgetBlank_policy: function(tik) {\r\n\t\t\tdownloadFile(tik.POLICY.link)\r\n\t\t},\r\n\t\tshowInsurances: function(tik) {\r\n\t\t\tif (tik.SHOW_INSURANCES === true) {\r\n\t\t\t\ttik.SHOW_INSURANCES = false;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\ttik.SHOW_INSURANCES = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tshowRefundedOrder: function(ord) {\r\n\t\t\tif (ord.SHOW_REFUNDED_ORDER === true) {\r\n\t\t\t\tord.SHOW_REFUNDED_ORDER = false;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tord.SHOW_REFUNDED_ORDER = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetBlank_ticket: function(format, ord, tik) {\r\n\t\t\t// при загрузке бланка критерий необходимости загрузки билета\r\n\t\t\t// отсутствие у билета статуса !tik.STATUS.CODE\r\n\t\t\t// значит, статус и неокончательный и притом не получен аяксом\r\n\t\t\tvar currentTimestamp = Date.now();\r\n\t\t\tvar statusCheckNeeded = false;\r\n\t\t\tif (!tik) {\r\n\t\t\t\t// билет не передан, значит скачать надо бланк заказа\r\n\t\t\t\t// проверяем все билеты заказа на предмет отсутствия статуса\r\n\t\t\t\tfor (var i = 0; i < ord.lst.length; i++) {\r\n\t\t\t\t\tif (!ord.lst[i].STATUS.CODE || ridTimestampInvalid(ord._statusRid_timestamp)) {\r\n\t\t\t\t\t\tstatusCheckNeeded = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// билет передан, значит скачать надо бланк билета\r\n\t\t\t\t// проверяем этот билет на предмет отсутствия статуса\r\n\t\t\t\tstatusCheckNeeded = !tik.STATUS.CODE || ridTimestampInvalid(ord._statusRid_timestamp);\r\n\t\t\t}\r\n\r\n\t\t\tif (statusCheckNeeded) {\r\n\t\t\t\tvm.getStatuses(ord, downloadBlankTicket);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tdownloadBlankTicket()\r\n\t\t\t}\r\n\r\n\t\t\tfunction downloadBlankTicket() {\r\n\t\t\t\t// https://wiki.oooinex.ru/pages/viewpage.action?pageId=23825058\r\n\t\t\t\tvar urlParams = {\r\n\t\t\t\t\torigin: window.location.origin,\r\n\t\t\t\t\tformat: format,\r\n\t\t\t\t\torderId: ord.N,\r\n\t\t\t\t\tlang: window.PAGEDATA.lang,\r\n\t\t\t\t\trandom: Math.random() * 1e5 | 0\r\n\t\t\t\t}\r\n\t\t\t\tvar url = UTIL.formatStr('{origin}/blank/ticket/download/{format}/order/{orderId}/{lang}?_rnd={random}', urlParams);\r\n\t\t\t\tif (tik && tik.n) {\r\n\t\t\t\t\t// если билет не передан в getBlank_ticket\r\n\t\t\t\t\t// значит, скачиваем бланк не всего заказа, а одного билета\r\n\t\t\t\t\turl += '&ticketId=' + tik.n;\r\n\t\t\t\t}\r\n\t\t\t\tif (ord._statusRid) {\r\n\t\t\t\t\t// для показа актуального статуса у билетов с неокончательным статусом\r\n\t\t\t\t\t// Это свойство ord заполняется автоматом при запросе статусов\r\n\t\t\t\t\t// Иначе PIRS-14446 + PIRS-14447\r\n\t\t\t\t\turl += '&statusRid=' + ord._statusRid;\r\n\t\t\t\t}\r\n\t\t\t\tdownloadFile(url);\r\n\t\t\t}\r\n\r\n\t\t\t// грубое определение разницы во времени за которую протухнет statusRid\r\n\t\t\t// время в 5 минут взято из cabinet.js (см. function updateRid)\r\n\r\n\r\n\t\t\tfunction ridTimestampInvalid(ridTimestamp) {\r\n\t\t\t\tif (!ridTimestamp) {\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\t\t\t\tvar diffMinutes = (currentTimestamp - ridTimestamp) / (1000 * 60);\r\n\t\t\t\treturn diffMinutes > 5;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/*Дополнительное питание*/\r\n\t\tgetFoodDetails: function(ord, tik, extendedService) {\r\n\t\t\tif (this.foodDetails.selectedMenuItems && this.foodDetails.ticketId === tik.n) { // заказ уже открыт, просто скрыть его.\r\n\t\t\t\treturn this.foodDetails.selectedMenuItems = false;\r\n\t\t\t}\r\n\r\n\t\t\t//var self = this;\r\n\t\t\tvar selectedMenuItems = extendedService.foodPattern.split('');\r\n\t\t\tvar selectedVariants = extendedService.foodType && extendedService.foodType.replace(/\\//g, '').split('');\r\n\t\t\tfor (var i = 0; i < selectedMenuItems.length; i++) {\r\n\t\t\t\tselectedMenuItems[i] = {\r\n\t\t\t\t\tfoodPattern: selectedMenuItems[i],\r\n\t\t\t\t\tfoodCode: selectedVariants[i]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.foodDetails.ticketId = tik.n;\r\n\t\t\tthis.foodDetails.selectedMenuItems = extendedService.foodCount;\r\n\r\n\t\t},\r\n\t\t// Получение бланка дополнительного питания\r\n\t\t// причём в случае HTML возвращается ссылка\r\n\t\t// а в случае PDF производится загрузка\r\n\t\tgetFoodBlank: function(tik, ord, format, extendedService) {\r\n\t\t\tif (format === 'pdf') {\r\n\t\t\t\tvar url = '/blank/extendedfood/download/pdf/order/' + ord.N + '/serviceId/' + extendedService.id + '?ticketId=' + tik.n;\r\n\t\t\t\t//console.log(url)\r\n\t\t\t\tdownloadFile(url);\r\n\t\t\t}\r\n\t\t\telse if (format === 'html') {\r\n\t\t\t\tvar refundParam = extendedService.statusId === 70 ? '&refund=1' : '';\r\n\t\t\t\treturn '?STRUCTURE_ID=735&layer_id=5962&tik_id=' + tik.id + '&ORDER_ID=' + ord.N + refundParam;\r\n\t\t\t}\r\n\t\t},\r\n\t\t// Сдать дополнительное питание\r\n\t\trefundFood: function(ord, tik, extendedService) {\r\n\t\t\tvar closeDialog = function() {\r\n\t\t\t\t$(this).dialog('close');\r\n\t\t\t};\r\n\t\t\tvar self = this;\r\n\t\t\tvar refund = function(evt) {\r\n\t\t\t\tvar dialogElement = this;\r\n\t\t\t\t$(evt.currentTarget).hide();\r\n\t\t\t\tself.foodDetails.LOADING_REFUND = true;\r\n\t\t\t\tUTIL.ridQuery(\r\n\t\t\t\t\t\t'/ticket/secure/ru?layer_id=5945&action=Return&orderId=' + ord.N + '&ticketId=' + tik.n + '&serviceId=' + extendedService.id, {}, {})\r\n\t\t\t\t\t.then(\r\n\t\t\t\t\t\tfunction() {\r\n\t\t\t\t\t\t\t//Успешный запрс возврата!\r\n\t\t\t\t\t\t\tself.foodDetails.LOADING_REFUND = false;\r\n\t\t\t\t\t\t\textendedService.statusId = 70;\r\n\t\t\t\t\t\t\t$(dialogElement).dialog('close');\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfunction(reason) {\r\n\t\t\t\t\t\t\tself.foodDetails.LOADING_REFUND = false;\r\n\t\t\t\t\t\t\t$(dialogElement).find('.jqui-dialog-message').html(\r\n\t\t\t\t\t\t\t\t'При возврате дополнительного питания произошла ошибка: ' + reason);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\r\n\t\t\t};\r\n\t\t\tself.foodDetails.LOADING_REFUND = true;\r\n\t\t\tUTIL.ridQuery(\r\n\t\t\t\t\t'/ticket/secure/ru?layer_id=5945&action=Info&orderId=' + ord.N + '&ticketId=' + tik.n + '&serviceId=' + extendedService.id, {}, {})\r\n\t\t\t\t.then(\r\n\t\t\t\t\tfunction(response) {\r\n\t\t\t\t\t\tself.foodDetails.LOADING_REFUND = false;\r\n\t\t\t\t\t\t// текущая дата сервера для проверки возврата еды\r\n\t\t\t\t\t\tvar ticDate = response.timestamp.substr(3, 2) + '/' + response.timestamp.substr(0, 2) + '/' + response.timestamp.substr(6, 4) + ' ' + response.timestamp.substr(11);\r\n\t\t\t\t\t\tvar dateTimeNow = new Date(Date.parse(ticDate)); // Date.parse принимает дату в формате MM.DD.YYYY, чтоб его..\r\n\r\n\t\t\t\t\t\tif ((tik.dateTimeDeparture - dateTimeNow < 60 * 59 * 1000)) {\r\n\t\t\t\t\t\t\t// проверка серверного времени и запрет возврата еды менее чем за час до отправления.\r\n\t\t\t\t\t\t\t// тут показываем сообщение о том, что время вышло\r\n\t\t\t\t\t\t\ttik.SHOW_REFUND_FOOD_MSG = true;\r\n\t\t\t\t\t\t\ttik.SHOW_REFUND_FOOD = false;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar cost = response.response.foodRefunds[0] && response.response.foodRefunds[0].refundAmount;\r\n\t\t\t\t\t\tvar params = {\r\n\t\t\t\t\t\t\tbuttons: {}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tparams.buttons[lang('Make refund')] = refund;\r\n\t\t\t\t\t\tparams.buttons[lang('Cancel')] = closeDialog;\r\n\t\t\t\t\t\tUTIL.dialogMessage('Сумма к возврату за дополнительное питание: ' + cost + ' руб.', params);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction(reason) {\r\n\t\t\t\t\t\tself.foodDetails.LOADING_REFUND = false;\r\n\t\t\t\t\t\tvar buttons = {};\r\n\t\t\t\t\t\tbuttons[lang('Ok')] = closeDialog;\r\n\t\t\t\t\t\tUTIL.dialogMessage('Ошибка при получении информации о возврате: ' + reason);\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t},\r\n\t\t// Видимость нижней плашки с кнопками типа \"Вернуть билет\" и \"Сменить ЭР\"\r\n\t\tisTicketActionsAvailable: function(tik, ord) {\r\n\t\t\treturn !ord.left && !!tik.STATUS.CODE && tik.STATUS.CODE !== 'REFUNDED';\r\n\t\t},\r\n\t\t// Страховка НС приобретена и не возвращена\r\n\t\tisInsuranceActive: function(tik) {\r\n\t\t\treturn tik.INSUR && tik.INSUR.Refunded !== 1\r\n\t\t},\r\n\t\t// Страховка ДМС приобретена и не возвращена\r\n\t\tisPolicyActive: function(tik) {\r\n\t\t\treturn tik.POLICY && tik.POLICY.Refunded !== 1;\r\n\t\t},\r\n\t\t// Доступен возврат страховки ДМС\r\n\t\tisPolicyRefundAvailable: function(tik, ord) {\r\n\t\t\treturn this.isTicketActionsAvailable(tik, ord) && tik.POLICY_STATUS && tik.POLICY_STATUS.code == 'ISSUED';\r\n\t\t},\r\n\t\t// Доступен возврат страховки НС\r\n\t\tisInsuranceRefundAvailable: function(tik, ord) {\r\n\t\t\tvar refundAllowed = window.PAGEDATA.BaseParams.is_insurance_refund === '1'; // PIRS-12830\r\n\t\t\treturn refundAllowed && this.isTicketActionsAvailable(tik, ord) && this.isInsuranceActive(tik) && tik.INSUR.bRefund === 1;\r\n\t\t},\r\n\t\tprepaidFood_visible: function(tik, ord) {\r\n\t\t\tif (ord.left && !ord.foodId) {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\treturn tik.food;\r\n\t\t},\r\n\t\t// Видимость всего блока дополнительного питания\r\n\t\taddFood_visible: function(tik) {\r\n\t\t\tvar hasFood = false;\r\n\t\t\tif (tik.extendedServices && tik.extendedServices.length) {\r\n\t\t\t\tfor (var i = 0; i < tik.extendedServices.length; i++) {\r\n\t\t\t\t\tif (tik.extendedServices[i] && tik.extendedServices[i].typeId === 1) {\r\n\t\t\t\t\t\thasFood = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn tik.addFood || hasFood;\r\n\t\t},\r\n\t\taddFood_getArray: function(tik) {\r\n\t\t\tvar i, foodArray = [];\r\n\t\t\tif (tik.extendedServices && tik.extendedServices.length) {\r\n\t\t\t\tfor (i = 0; i < tik.extendedServices.length; i++) {\r\n\t\t\t\t\tif (tik.extendedServices[i] && tik.extendedServices[i].typeId === 1) {\r\n\t\t\t\t\t\tif (tik.extendedServices[i].statusId === 30) {\r\n\t\t\t\t\t\t\ttik.extendedServices[i].isPurchased = true;\r\n\t\t\t\t\t\t\ttik.extendedServices[i].isRefunded = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (tik.extendedServices[i].statusId === 70) {\r\n\t\t\t\t\t\t\ttik.extendedServices[i].isPurchased = false;\r\n\t\t\t\t\t\t\ttik.extendedServices[i].isRefunded = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttik.extendedServices[i].isLast = tik.extendedServices.length === i + 1;\r\n\t\t\t\t\t\tfoodArray.push(tik.extendedServices[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (foodArray.length === 0 && tik.addFood === true) {\r\n\t\t\t\t// TODO переделать\r\n\t\t\t\tfoodArray = [{\r\n\t\t\t\t\tisLast: true,\r\n\t\t\t\t\tisFake: true\r\n\t\t\t\t}];\r\n\t\t\t\t// фейковое значение чтобы отображался блок Доп.питания с кнопкой купить PIRS-17115\r\n\t\t\t\t// причём он должен отображаться если питание сдано И если питание не было куплено\r\n\t\t\t}\r\n\t\t\treturn foodArray;\r\n\t\t},\r\n\t\taddFood_isBuyPossible: function(tik) {\r\n\t\t\tvar hasPurchased = false;\r\n\t\t\tif (tik.extendedServices && tik.extendedServices.length) {\r\n\t\t\t\tfor (var i = 0; i < tik.extendedServices.length; i++) {\r\n\t\t\t\t\tif (tik.extendedServices[i] && tik.extendedServices[i].typeId === 1 && tik.extendedServices[i].statusId === 30) {\r\n\t\t\t\t\t\thasPurchased = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn tik.addFood && (!hasPurchased);\r\n\t\t},\r\n\t\taddFood_showMenuWindow: function(url) {\r\n\t\t\t// см. также showMenuWindow из pass16/market-food.js\r\n\t\t\turl = url || '/catering/public/ru?layer_name=catering-menu';\r\n\t\t\twindow.open(url, 'Menu', '_blank, strWindowFeatures, height=400, width=737, scrollbars=1');\r\n\t\t},\r\n\t\t// PIRS-16873 Купить товары с маркета\r\n\t\tbuyAdditionals: function(ordslot, ord, tik, addType) {\r\n\t\t\t// эмулируем структуру данных редизайна :(\r\n\t\t\t// можно попробовать брать данные о билете из слоя 5744, кот. используется в бланке\r\n\t\t\tvar _tik = $.extend({\r\n\t\t\t\tticketId: tik.n,\r\n\t\t\t\tpass: [$.extend({}, tik, { // пассажир в билете в петином коде выделяется в отдельный подобъект\r\n\t\t\t\t\t\tshortName: tik.name,\r\n\t\t\t\t\t\ttariff: tik.tariffId\r\n\t\t\t\t\t})] // лишний {} - чтобы не менять tik, иначе при нажатии на кнопку в поле тариф пишется Adult\r\n\t\t\t}, tik);\r\n\r\n\t\t\tvar _ord = $.extend({\r\n\t\t\t\torderId: ord.N,\r\n\t\t\t\ttickets: [_tik],\r\n\t\t\t\ttype: ord.carTypeRu, // additionals-store:194\r\n\t\t\t\tnumber2: ord.train //for additionals-store\r\n\t\t\t}, ord);\r\n\r\n\t\t\tvar pass16_ResResponse = {\r\n\t\t\t\tsaleOrderId: ordslot.id,\r\n\t\t\t\torders: [_ord],\r\n\t\t\t\tpaymentSystems: [{\r\n\t\t\t\t\t\"id\": 2,\r\n\t\t\t\t\t\"code\": \"BANK\",\r\n\t\t\t\t\t\"name\": \"Банковская карта\",\r\n\t\t\t\t\t\"tip\": \"Оплата картами банков.\" // Сейчас по факту товары нельзя купить за ЯД, вроде и не планируется\r\n\t\t\t\t}]\r\n\t\t\t};\r\n\r\n\t\t\tstore.session('pass16_ResResponse', pass16_ResResponse);\r\n\t\t\t//В URL добавляется параметр reduced=true он обрабатывается в js и указывает урезанный шаблон для VUE.\r\n\t\t\twindow.location.href = window.PAGEDATA.LayerLinks.additionals + '&reduced=true#/' + addType;\r\n\t\t},\r\n\r\n\t\t//Предоплаченное питание\r\n\t\t// PIRS-16436 food\r\n\t\tchangeMeal: function(ord, tik, ordslot_index, ordslot) {\r\n\t\t\tvar self = this;\r\n\t\t\tUTIL.ridQuery('?layer_id=5713', {\r\n\t\t\t\t\tORDER_ID: tik.ORDER_ID\r\n\t\t\t\t})\r\n\t\t\t\t.then(function(responseData) {\r\n\t\t\t\t\tif (responseData.list && responseData.list.length === 0) {\r\n\t\t\t\t\t\tUTIL.dialogMessage('К сожалению, выбор типа питания для данного заказа недоступен')\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself.foodList = responseData;\r\n\t\t\t\t\tself.foodList.tikFoodName = tik.foodName;\r\n\t\t\t\t\tself.foodList.curSlotId = ordslot.id;\r\n\t\t\t\t\tself.foodList.curORDER_ID = ord.N;\r\n\t\t\t\t\tself.foodList.curTicketId = tik.n;\r\n\r\n\t\t\t\t\t// нексттик и вызов в коллбеке аякса потому что\r\n\t\t\t\t\t// иначе попап неверно вычисляет размер\r\n\t\t\t\t\tvm.$nextTick(function() {\r\n\t\t\t\t\t\tUTIL.dialogMessage($('#j-change-food-popup'), {\r\n\t\t\t\t\t\t\tbuttons: {\r\n\t\t\t\t\t\t\t\tOK: function() {\r\n\t\t\t\t\t\t\t\t\tself.setChangedFood();\r\n\t\t\t\t\t\t\t\t\t$(this).dialog('close');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t}, function(reason) {\r\n\t\t\t\t\tUTIL.dialogMessage('Ошибка ' + reason);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tsetChangedFood: function() {\r\n\t\t\tvar self = this;\r\n\t\t\tconsole.log(this);\r\n\t\t\tvar val = self.foodListSelectedItem.split('_');\r\n\t\t\tvar foodName = val[0];\r\n\t\t\tvar foodId = val[1];\r\n\t\t\tfor (var n in self.slots) {\r\n\t\t\t\tif (self.slots[n].id === self.foodList.curSlotId) {\r\n\t\t\t\t\t// self.slots[n].lst[0].lst[0].foodName = foodName;\r\n\t\t\t\t\tvar params = {\r\n\t\t\t\t\t\tORDER_ID: self.foodList.curORDER_ID,\r\n\t\t\t\t\t\tticket_id: self.foodList.curTicketId,\r\n\t\t\t\t\t\tfoodId: foodId\r\n\t\t\t\t\t};\r\n\t\t\t\t\tvar curN = n;\r\n\t\t\t\t\tUTIL.ridQuery('?layer_id=5718', params)\r\n\t\t\t\t\t\t.done(function() {\r\n\t\t\t\t\t\t\tself.slots[curN].lst[0].lst[0].foodName = foodName;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.fail(function(err, res) {\r\n\t\t\t\t\t\t\tUTIL.dialogMessage('Во время сохранения данных произошла ошибка ' + res.info || err);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t\tПодготовка к превращению всего после банка в одностраничник\r\n\t\t\tпотом вынесем в компоненты, а пока простыня\r\n\t\t*/\r\n\t\t// На шаге возврата из банка проверяется статус заказа в экспрессе и финализируется покупка у нас в системе\r\n\t\t// для яндекса перед этим действием случается дополнительная проверка статуса finalStep_checkPaymentYandex\r\n\t\tbankResult_finalizePayment: function(bNoCostCheck) {\r\n\t\t\tvar vm = this;\r\n\t\t\t// на слое подтверждения с нулевой стоимостью помимо ВТТ и Лояльности обрабатывается также и Яндекс\r\n\t\t\tvar layerId = bNoCostCheck ? 5726 : 5752;\r\n\t\t\t// TODO сделать кнопку гашения в случае неуспеха, layerId = 5769\r\n\r\n\t\t\tvar params = {\r\n\t\t\t\torderId: vm.$data.form.saleOrderId\r\n\t\t\t};\r\n\r\n\t\t\t//Случай если оплачивались только доп услуги\r\n\t\t\tif (vm.$data.form.transactionId && vm.$data.form.type === 'SERVICE') {\r\n\t\t\t\tlayerId = 5954;\r\n\t\t\t\tparams.type = vm.$data.form.type;\r\n\t\t\t\tparams.transactionId = vm.$data.form.transactionId\r\n\t\t\t}\r\n\r\n\t\t\tvar url = '?layer_id=' + layerId;\r\n\t\t\tvm.LOADING_ORDERS = true; // глобальная крутилка\r\n\t\t\tUTIL.ridQuery(url, params, vm.$data)\r\n\t\t\t\t.done(function(result) {\r\n\t\t\t\t\tpaymentCheckDispatch(result);\r\n\t\t\t\t})\r\n\t\t\t\t.fail(function(result) {\r\n\t\t\t\t\tpaymentCheckDispatch(result, true);\r\n\t\t\t\t})\r\n\r\n\t\t\tfunction paymentCheckDispatch(result, bErrorMode) {\r\n\t\t\t\tvar allOk = REQ.result === 'OK' && result.result === 'OK' && !bErrorMode;\r\n\t\t\t\tif (allOk) {\r\n\t\t\t\t\t// window.UTIL.dialogMessage('Оплата успешно подтверждена');\r\n\t\t\t\t\tif (result.response && result.response[0] && result.response[0].saleOrderId) { // для проверямой покупки доп. услуг передан ID покупки билетов, которые нужно показать\r\n\t\t\t\t\t\tvm.$data.form.saleOrderId = result.response[0].saleOrderId\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvm.getOrders(); // Показ заказа\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// window.UTIL.dialogMessage('Произошла ошибка при проверке платежа');\r\n\t\t\t\t\tvm.LOADING_ORDERS = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// Кнопка \"Начать покупку сначала\"\r\n\t\tbankResult_goStart: function() {\r\n\t\t\tvar url;\r\n\t\t\tif (PAGEDATA.theme === 'SPECIAL') {\r\n\t\t\t\tvar steps = window.store.session('Steps');\r\n\t\t\t\turl = steps && steps.trains ? steps.trains + '|_PREVENT_FORM_SUBMIT_' : '/'; // TODO замена | на &\r\n\t\t\t}\r\n\t\t\telse if (PAGEDATA.theme === 'REDESIGN') {\r\n\t\t\t\turl = '?layer_name=e3-route';\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\turl = '/';\r\n\t\t\t}\r\n\t\t\twindow.location.href = url;\r\n\t\t},\r\n\t\t// На шаге возврата из банка в случае Яндекса \r\n\t\t// первым делом проверяем статус платежа в Яндексе, см. PIRS-13679\r\n\t\tbankResult_checkPaymentYandex: function() {\r\n\t\t\tvar vm = this;\r\n\t\t\tvar url = '/ticket/services/status/journey/' + vm.$data.form.saleOrderId + '/payment/' + window.PAGEDATA.lang;\r\n\t\t\tvar params = {};\r\n\r\n\t\t\t//Случай если оплачивались только доп услуги\r\n\t\t\tif (vm.$data.form.transactionId && vm.$data.form.type === 'SERVICE') {\r\n\t\t\t\tparams.type = vm.$data.form.type;\r\n\t\t\t\tparams.transactionId = vm.$data.form.transactionId\r\n\t\t\t}\r\n\t\t\tvm.LOADING_ORDERS = true; // глобальная крутилка\r\n\t\t\tUTIL.ridQuery(url, params, vm.$data)\r\n\t\t\t\t.done(function(result) {\r\n\t\t\t\t\tif (result.result === 'Error') {\r\n\t\t\t\t\t\tonYaError();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (result.result === 'OK') {\r\n\t\t\t\t\t\tif (result.data === 'PAID_YANDEX') {\r\n\t\t\t\t\t\t\tvm.bankResult_finalizePayment(true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (result.data === 'ISSUED') {\r\n\t\t\t\t\t\t\tvm.getOrders(); // Показ заказа\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tvm.bankResult_checkPaymentYandex(); // Следующая попытка запроса статуса оплаты\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.fail(onYaError)\r\n\t\t\t\t.always(function() {\r\n\t\t\t\t\tvm.LOADING_ORDERS = false;\r\n\t\t\t\t});\r\n\r\n\t\t\tfunction onYaError() {\r\n\t\t\t\twindow.UTIL.dialogMessage('Ошибка запроса статуса платежа Яндекс.Деньги')\r\n\t\t\t}\r\n\t\t},\r\n\t\t// алерт сделанный на жиквери-уи-диалоге\r\n\t\t// можно передать селектор (обязательно класс)\r\n\t\t// можно передать готовую строку\r\n\t\talert: window.UTIL.dialogMessage\r\n\t}\r\n};\r\n\r\nfunction getOrders(bNext) {\r\n\r\n\tvar data = this;\r\n\tif (bNext === true) {\r\n\t\tdata.form.page++;\r\n\t}\r\n\telse {\r\n\t\tdata.form.page = 1;\r\n\t\tdata.slots = [];\r\n\t}\r\n\tvar params = $.extend({}, data.form);\r\n\r\n\tif ('history' in window && 'replaceState' in window.history) {\r\n\t\t// Если браузер умеет менять урл без перезагрузки (ИЕ11+), делаем это\r\n\t\tvar params2url = $.extend(REQ, params);\r\n\t\tif (data.bPageAfterBank === false) {\r\n\t\t\tdelete params2url.xmlmsg;\r\n\t\t\tdelete params2url.orderId;\r\n\t\t\tdelete params2url.paymentSystem;\r\n\t\t\tdelete params2url.result;\r\n\t\t}\r\n\t\twindow.history.replaceState(null, null, '?' + $.param(params2url));\r\n\t}\r\n\r\n\tvm.LOADING_ORDERS = true;\r\n\tUTIL.ridQuery(PAGEDATA.LayerLinks.orderList, params, vm)\r\n\t\t.done(function(responseData) {\r\n\t\t\tUTIL.log('Ответ на запрос списка заказов', responseData);\r\n\t\t\tvar ticDate = responseData.timestamp.substr(3, 2) + '/' + responseData.timestamp.substr(0, 2) + '/' + responseData.timestamp.substr(6, 4) + ' ' + responseData.timestamp.substr(11);\r\n\t\t\tvar dateTimeNow = new Date(Date.parse(ticDate)); // Date.parse принимает дату в формате MM.DD.YYYY, чтоб его..\r\n\t\t\tdata.HUMAN_ERROR = null; // обнуление ошибки\r\n\r\n\t\t\tif (responseData.slots && !responseData.slots.length && window.location.search.indexOf('tD=1') != -1 && window.sessionStorage['mobile_Test'] != undefined) {\r\n\t\t\t\tresponseData = window.sessionStorage['mobile_Test'] ? JSON.parse(window.sessionStorage['mobile_Test']) : responseData;\r\n\t\t\t\tUTIL.log('Восстановлено из Хранилища', responseData);\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof responseData.slots === 'undefined') {\r\n\t\t\t\tvar herr = 'Произошла ошибка. Пожалуйста, попробуйте выполнить запрос позже.';\r\n\t\t\t\tif (window.PAGEDATA.showErrors === true) {\r\n\t\t\t\t\therr += '\\n' + JSON.stringify(responseData, null, 2);\r\n\t\t\t\t}\r\n\t\t\t\tdata.HUMAN_ERROR = herr;\r\n\t\t\t}\r\n\t\t\telse {\t\t\t\t\r\n\t\t\t\t// Перемывка данных нашего доблестного API\r\n\t\t\t\t// Свойства, которые создаются в результате перемывки, названы капсом\r\n\t\t\t\tfor (var i = 0; i < responseData.slots.length; i++) {\r\n\t\t\t\t\tvar sord = responseData.slots[i]; // это запись в APP_SALE_ORDER, в шаблонах зачем-то называется ordslot\r\n\t\t\t\t\tif (sord.jstatus === 'ON_AVISO') { // PIRS-13686. jstatus - это journey_status\r\n\t\t\t\t\t\tON_AVISO_cnt++;\r\n\t\t\t\t\t\t// заказы в статусе ON_AVISO, см. PIRS-13686\r\n\t\t\t\t\t\tUTIL.log('В ответе найдена поездка в статусе ON_AVISO', sord)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//сортировка по дате билетов в заказе\r\n\t\t\t\t\tif (sord.lst.length > 1) {\r\n\t\t\t\t\t\tsord.lst.sort(sortByDate);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (sord.refunds && sord.refunds.length !== 0) {\r\n\t\t\t\t\t\tvar sordRefund = sord.refunds[0];\r\n\t\t\t\t\t\t// Ваш возврат по платежной транзакции {{./../../transactionId}} обработан. и т.п.\r\n\t\t\t\t\t\t// Сообщение на боевом содержит разметку для мусташа\r\n\t\t\t\t\t\tsord.REFUND_MESSAGE = window.IFRMSG._orderRefundMessage\r\n\t\t\t\t\t\t\t.replace('{{./../../transactionId}}', ordslot.transactionId)\r\n\t\t\t\t\t\t\t.replace('{{transferDate}}', sordRefund.transferDate)\r\n\t\t\t\t\t\t\t.replace('{{amount}}', sordRefund.amount);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsord.LINK_REFUND_REGISTER = '?STRUCTURE_ID=735&layer_id=5963&transaction_id=' + sord.transactionId; // PIRS-16410\r\n\t\t\t\t\tsord.defShowTime = responseData.defShowTime; // переношу сюда чтобы не срать в корень\r\n\t\t\t\t\tsord.mskTimeSuffix = responseData.mskTimeSuffix; // переношу сюда чтобы не срать в корень\r\n\t\t\t\t\tvar routeNames = [];\r\n\t\t\t\t\tfor (var k = 0; k < sord.lst.length; k++) {\r\n\t\t\t\t\t\tvar ord = sord.lst[k]; // это запись в APP_ORDER\r\n\t\t\t\t\t\tord.ELREG_IFRMSG = '';\r\n\t\t\t\t\t\t// Внимание! Здесь надо перечислять все свойства, которые отсутствуют в API, \r\n\t\t\t\t\t\t// иначе они не станут реактивными (т.е. не будут на лету обновляться в шаблоне) \r\n\t\t\t\t\t\t// TODO по уму создавать их конструктором\r\n\t\t\t\t\t\tord.LOADING_STATUSES = false; // initial\r\n\t\t\t\t\t\tord.STATUS = null;\r\n\t\t\t\t\t\tord.HIDE = false; // скрываем в списке\r\n\t\t\t\t\t\tord.LOADER = false; // initial\r\n\t\t\t\t\t\tord.LINK_BLANK = '?layer_id=5422&ORDER_ID=' + ord.N;\r\n\t\t\t\t\t\tord.LINK_PDF = '/blank/ticket/download/pdf/order/' + ord.N;\r\n\t\t\t\t\t\tord.LINK_AUTORACK = '?STRUCTURE_ID=5235&layer_id=5473&app_order_id=' + ord.N;\r\n\t\t\t\t\t\tif (window.PAGEDATA.BaseParams.UFS_HOTELS === '1' && !ord.arrived) {\r\n\t\t\t\t\t\t\tord.LINK_HOTEL = getHotelLink(sord);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tord.HUMAN_ERROR = '';\r\n\t\t\t\t\t\tord.SHOW_REFUNDED_ORDER = false;\r\n\t\t\t\t\t\tord.journeyId = sord.id;\r\n\t\t\t\t\t\tif (vm.$data.DEBUG) {\r\n\t\t\t\t\t\t\tord.ORDER_LINK = window.location.href + '&saleOrderId=' + sord.id;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\trouteNames.push({\r\n\t\t\t\t\t\t\t'from': ord.parentStation0 || ord.station0,\r\n\t\t\t\t\t\t\t'to': ord.parentStation1 || ord.station1,\r\n\t\t\t\t\t\t\t'dir': ord.dir\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tfor (var j = 0; j < ord.lst.length; j++) {\r\n\t\t\t\t\t\t\tvar tik = ord.lst[j]; // это запись в APP_TICKET\r\n\t\t\t\t\t\t\tvar ticDate = ord.date0.substr(3, 2) + '/' + ord.date0.substr(0, 2) + '/' + ord.date0.substr(6, 4);\r\n\t\t\t\t\t\t\t// Date.parse принимает дату в формате MM.DD.YYYY, чтоб его..\r\n\t\t\t\t\t\t\ttik.dateTimeDeparture = new Date(Date.parse(ticDate + ' ' + ord.time0));\r\n\t\t\t\t\t\t\t// нужно для активации/дезактивации кнопки \"Сдать билет\", за 1 час до выезда должна блокироваться\r\n\r\n\t\t\t\t\t\t\ttik.LINK_BLANK = '?layer_id=5422&ORDER_ID=' + ord.N + '&ticket_id=' + tik.n;\r\n\r\n\t\t\t\t\t\t\tif (tik.goodsTotalCost) {\r\n\t\t\t\t\t\t\t\ttik.goodsTotalCost;\r\n\t\t\t\t\t\t\t\ttik.LINK_GOODS_LIST = '?layer_id=5972&ticket_id=' + tik.n + '&order_id=' + ord.N;\r\n\t\t\t\t\t\t\t\ttik.LINK_GOODS_BLANK_PDF = '/blank/extendedService/download/pdf/serviceOrder/' + ord.N;\r\n\t\t\t\t\t\t\t\t// tik.LINK_GOODS_BLANK_PDF = '/blank/extendedService/display/pdf/serviceOrder/' + ord.N;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\ttik.HUMAN_ERROR = '';\r\n\t\t\t\t\t\t\ttik.STATUS = {\r\n\t\t\t\t\t\t\t\t// первоначальный статус может быть null (если он не окончательный)\r\n\t\t\t\t\t\t\t\t// а может быть и сразу нормальный (если окончательный, например REFUNDED)\r\n\t\t\t\t\t\t\t\tNAME: (tik.status ? window.lang(['TicketStatus', tik.status]) : ''),\r\n\t\t\t\t\t\t\t\tCODE: tik.status\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tord.STATUS = !tik.status ? false : true;\r\n\r\n\t\t\t\t\t\t\ttik.ORDER_ID = ord.N;\r\n\t\t\t\t\t\t\ttik.LOADING_STATUS = false; // initial\r\n\t\t\t\t\t\t\ttik.LOADER = false; // initial\r\n\t\t\t\t\t\t\ttik.LOADING_REFUND_TICKET = false; // initial\r\n\t\t\t\t\t\t\ttik.LOADING_REFUND_INSURANCE = false; // initial\r\n\t\t\t\t\t\t\ttik.LINK_PDF = '/blank/ticket/download/pdf/order/' + ord.N + '/' + window.PAGEDATA.lang;\r\n\t\t\t\t\t\t\ttik.LINK_PNG = '/blank/ticket/download/png/order/' + ord.N + '/' + window.PAGEDATA.lang;\r\n\t\t\t\t\t\t\ttik.SHOW_INSURANCES = false;\r\n\t\t\t\t\t\t\ttik.SHOW_REFUND_FOOD = true;\r\n\t\t\t\t\t\t\ttik.SHOW_REFUND_FOOD_MSG = false;\r\n\r\n\t\t\t\t\t\t\tif (tik.extendedServices && tik.extendedServices.length && (tik.dateTimeDeparture - dateTimeNow < 60 * 59 * 1000)) {\r\n\t\t\t\t\t\t\t\t// запрет возврата еды менее чем за час до отправления.\r\n\t\t\t\t\t\t\t\ttik.SHOW_REFUND_FOOD = false;\r\n\t\t\t\t\t\t\t\ttik.SHOW_REFUND_FOOD_MSG = true;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (tik.insurances[0]) {\r\n\t\t\t\t\t\t\t\ttik.INSUR = tik.insurances[0];\r\n\t\t\t\t\t\t\t\ttik.LINK_INSURANCE = '?layer_id=5666&passenger_id=' + tik.insurances[0].passId;\r\n\t\t\t\t\t\t\t\tif (tik.INSUR.passId) {\r\n\t\t\t\t\t\t\t\t\ttik.LINK_INS_PDF = '/blank/insurance/download/pdf/passenger/' + tik.INSUR.passId + '/' + window.PAGEDATA.lang;\r\n\t\t\t\t\t\t\t\t\t// UTIL.log('LINK_INS_PDF', tik.LINK_INS_PDF)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (tik.policies[0] && tik.number == tik.policies[0].ticketNumber) {\r\n\t\t\t\t\t\t\t\tif (tik.policies[0]) {\r\n\t\t\t\t\t\t\t\t\ttik.POLICY = tik.policies[0];\r\n\t\t\t\t\t\t\t\t\ttik.POLICY_DATE = tik.policies[0].startDate + ' — ' + tik.policies[0].finishDate;\r\n\t\t\t\t\t\t\t\t\ttik.POLICY_AREA = data.DMSAREA[tik.policies[0].areaId];\r\n\t\t\t\t\t\t\t\t\ttik.POLICY_STATUS = data.POLICY_STATUSES[tik.policies[0].statusId];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (tik.policies[0]) {\r\n\t\t\t\t\t\t\t\t//delete tik.policies[0];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar routeName = routeNames[0].from,\r\n\t\t\t\t\t\tdirectional = routeNames[0].dir;\r\n\t\t\t\t\tif (routeNames.length > 1) {\r\n\t\t\t\t\t\tfor (var r = 1; r < routeNames.length; r++) {\r\n\t\t\t\t\t\t\tif (routeNames[r].dir != directional) {\r\n\t\t\t\t\t\t\t\trouteName += ' — ' + routeNames[r].from;\r\n\t\t\t\t\t\t\t\tdirectional = routeNames[r].dir;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\trouteName += ' — ' + routeNames[routeNames.length - 1].to;\r\n\t\t\t\t\t\t//UTIL.log(routeNames, routeName); // название сложных маршрутов\r\n\t\t\t\t\t\tsord.routeNames = routeName;\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tif (bNext === true) { // рисуем след. страницу\r\n\t\t\t\t\t\tdata.slots.push(sord)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (bNext !== true) { // первоначальная отрисовка\r\n\t\t\t\t\tdata.slots = responseData.slots;\r\n\t\t\t\t}\r\n\t\t\t\tif (ON_AVISO_cnt !== ON_AVISO_cnt_prev) {\r\n\t\t\t\t\tUTIL.dialogMessage($('.j-on-aviso-popup')) // PIRS-13686\r\n\t\t\t\t\tON_AVISO_cnt = ON_AVISO_cnt_prev;\r\n\t\t\t\t}\r\n\t\t\t\tdata.lastPage = responseData.lastPage;\r\n\r\n\t\t\t\tif (window.location.search.indexOf('tD=1') != -1 && !window.sessionStorage['mobile_Test']) {\r\n\t\t\t\t\twindow.sessionStorage['mobile_Test'] = JSON.stringify(responseData);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Формирование ссылки \"Забронировать отель\"\r\n\t\t\t// Изначально она с разметкой и закодированным хрефом\r\n\t\t\t// лежит в сообщении UFS_HOTELS_ORDERS\r\n\t\t\t// Формат хрефа - Петин, кастомные разделители \r\n\t\t\t// передаются третьим аргументом UTIL.formatStr\r\n\t\t\t// аргумент - SALE_ORDER (в нашем апи это элемент slots)\r\n\t\t\tfunction getHotelLink(sord) {\r\n\t\t\t\tvar ord = sord.lst[0];\r\n\t\t\t\tvar ordBack = sord.lst[1];\r\n\r\n\t\t\t\tif (ord.arrived || !window.IFRMSG.UFS_HOTELS_ORDERS) {\r\n\t\t\t\t\treturn ''\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar bdarray = [];\r\n\t\t\t\tfor (var i = 0; i < ord.lst.length; i++) {\r\n\t\t\t\t\tbdarray.push(ord.lst[i].birthday)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar parametrizedMsg = UTIL.formatStr(window.IFRMSG.UFS_HOTELS_ORDERS, {\r\n\t\t\t\t\tcode1: ord.code1,\r\n\t\t\t\t\tdate1: ord.date1,\r\n\t\t\t\t\ttime1: ord.time1,\r\n\t\t\t\t\tbirthdays: bdarray.join(),\r\n\t\t\t\t\tbk_date0: ordBack ? ordBack.date0 : '',\r\n\t\t\t\t\tbk_time0: ordBack ? ordBack.time0 : ''\r\n\t\t\t\t}, ['$%', '$']).replace(/http:\\/\\/pass/gm, window.location.protocol + '//pass'); // чтобы ссылки на БДММ не вызывали варнинга\r\n\t\t\t\treturn parametrizedMsg;\r\n\t\t\t}\r\n\r\n\t\t\tfunction sortByDate(a, b) {\r\n\t\t\t\tvar date1 = TDate.parse(a.date0),\r\n\t\t\t\t\tdate2 = TDate.parse(b.date0);\r\n\t\t\t\treturn date1 - date2;\r\n\t\t\t}\r\n\t\t})\r\n\t\t.always(function() {\r\n\t\t\tdata.LOADING_ORDERS = false;\r\n\t\t})\r\n};\r\n\r\nfunction downloadFile(url) {\r\n\tdocument.querySelector('#download-iframe').setAttribute('src', url);\r\n};\r\n\r\nexport default component;\n\n\n// WEBPACK FOOTER //\n// ./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/pages/cabinet.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/css-loader?minimize!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/style-rewriter.js?id=data-v-6ecc6f64&scoped=true!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/less-loader/lib/loader.js!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=styles&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/auth-handler/auth-handler-special.vue\n// module id = 20\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".devbar[data-v-9fdb1872]{z-index:777;position:fixed;top:0;right:0;background:#fff;padding:15px 20px;border-radius:0 0 0 14px;box-shadow:-2px 2px 9px 1px #666;line-height:26px}.devbar .glyphicon[data-v-9fdb1872]{cursor:pointer}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/css-loader?minimize!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/style-rewriter.js?id=data-v-9fdb1872&scoped=true!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/less-loader/lib/loader.js!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=styles&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/devmenu.vue\n// module id = 21\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/css-loader?minimize!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/style-rewriter.js?id=data-v-e59c5d94&scoped=true!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/less-loader/lib/loader.js!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=styles&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/payment-handler/payment-handler-special.vue\n// module id = 22\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/css-loader?minimize!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/style-rewriter.js?id=data-v-f07fa446&scoped=true!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/less-loader/lib/loader.js!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=styles&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/pages/cabinet-special.vue\n// module id = 23\n// module chunks = 0","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?minimize!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-6ecc6f64&scoped=true!less-loader!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./auth-handler-special.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./auth-handler-special.vue\"),\n  /* template */\n  null,\n  /* scopeId */\n  \"data-v-6ecc6f64\",\n  /* cssModules */\n  null\n)\n\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/auth-handler/auth-handler-special.vue\n// module id = 24\n// module chunks = 0","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?minimize!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-9fdb1872&scoped=true!less-loader!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./devmenu.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./devmenu.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-9fdb1872!../../node_modules/vue-loader/lib/selector?type=template&index=0!./devmenu.vue\"),\n  /* scopeId */\n  \"data-v-9fdb1872\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/devmenu.vue\n// module id = 25\n// module chunks = 0","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?minimize!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-e59c5d94&scoped=true!less-loader!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./payment-handler-special.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./payment-handler-special.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-e59c5d94!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./payment-handler-special.vue\"),\n  /* scopeId */\n  \"data-v-e59c5d94\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/payment-handler/payment-handler-special.vue\n// module id = 26\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    staticClass: \"devbar\"\n  }, [_c('a', {\n    attrs: {\n      \"href\": _vm.homeUrl\n    }\n  }, [_c('i', {\n    staticClass: \"glyphicon glyphicon-home\"\n  })]), _vm._v(\"  \\n\\t\\t\"), _c('a', {\n    attrs: {\n      \"href\": _vm.realUrl\n    }\n  }, [_c('i', {\n    staticClass: \"glyphicon glyphicon-new-window\",\n    attrs: {\n      \"title\": \"Перейти на реальную (непроксированную) страницу. Не забудь сбилдить изменения\"\n    }\n  })])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/template-compiler.js?id=data-v-9fdb1872!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=template&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/devmenu.vue\n// module id = 27\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [(_vm.paymentAvailable) ? [_c('h3', [_vm._v(\"Способ оплаты\")]), _vm._v(\" \"), _vm._l((_vm.list), function(ps) {\n    return _c('div', {\n      staticClass: \"pass-reserv-paymethod\",\n      class: {\n        'selected': _vm.curCode === ps.code\n      },\n      attrs: {\n        \"tabindex\": \"0\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.select(ps)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"row\"\n    }, [_vm._m(0, true), _vm._v(\" \"), _c('div', {\n      staticClass: \"col-md-22\"\n    }, [_c('label', [_c('span', {\n      staticClass: \"sr-only\"\n    }, [_c('input', {\n      attrs: {\n        \"type\": \"radio\",\n        \"name\": ps.name\n      },\n      domProps: {\n        \"value\": ps.code\n      }\n    }), _vm._v(\"  \\n\\t\\t\\t\\t\\t\\t\")]), _vm._v(\"\\n\\t\\t\\t\\t\\t\\t\" + _vm._s(ps.name) + \"\\n\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), _c('br'), _vm._v(\"\\n\\t\\t\\t\\t\\t\" + _vm._s(ps.tip) + \"\\n\\t\\t\\t\\t\")])])])\n  }), _vm._v(\" \"), (_vm.yandexMoney) ? _c('form', {\n    ref: \"yaform\",\n    attrs: {\n      \"action\": _vm.yandexMoney.url || 'https://money.yandex.ru/eshop.xml',\n      \"method\": \"post\"\n    }\n  }, _vm._l((_vm.yandexMoney), function(val, key) {\n    return (key !== 'url') ? _c('input', {\n      attrs: {\n        \"name\": key,\n        \"type\": \"hidden\"\n      },\n      domProps: {\n        \"value\": val\n      }\n    }) : _vm._e()\n  })) : _vm._e()] : _vm._e(), _vm._v(\" \"), (_vm.HUMAN_ERROR) ? _c('pre', {\n    staticClass: \"pre-message pre-message-common\"\n  }, [_vm._v(_vm._s(_vm.HUMAN_ERROR))]) : _vm._e()], 2)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"col-md-2 text-center\"\n  }, [_c('i', {\n    staticClass: \"glyphicon glyphicon-ok\"\n  })])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/template-compiler.js?id=data-v-e59c5d94!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=template&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/payment-handler/payment-handler-special.vue\n// module id = 28\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [(_vm.bShowForm) ? _c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-md-24\"\n  }, [_c('form', {\n    staticClass: \"pass-cabinet-form form-horizontal\",\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.getOrders($event)\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"row form-group\"\n  }, [_c('div', {\n    staticClass: \"col-md-4\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"id-name\"\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"Last name\"\n    }\n  })], 1), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.name),\n      expression: \"form.name\"\n    }],\n    staticClass: \"form-control input-lg\",\n    attrs: {\n      \"id\": \"id-name\",\n      \"tabindex\": \"0\"\n    },\n    domProps: {\n      \"value\": (_vm.form.name)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.form.name = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-md-4\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"id-number\"\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"Train number\"\n    }\n  })], 1), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.number),\n      expression: \"form.number\"\n    }],\n    staticClass: \"form-control input-lg\",\n    attrs: {\n      \"id\": \"id-number\",\n      \"tabindex\": \"0\"\n    },\n    domProps: {\n      \"value\": (_vm.form.number)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.form.number = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-md-6\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"id-date0\"\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"Departure Date\"\n    }\n  }), _vm._v(\" \"), _c('dict', {\n    attrs: {\n      \"name\": \"predlog/ot\"\n    }\n  })], 1), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"jqui-datepicker\",\n      rawName: \"v-jqui-datepicker\",\n      value: (_vm.form.date0),\n      expression: \"form.date0\"\n    }],\n    staticClass: \"form-control input-lg\",\n    attrs: {\n      \"data-custom-default-value\": \"true\",\n      \"id\": \"id-date0\",\n      \"tabindex\": \"0\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-md-6\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"id-date1\"\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"predlog/do\"\n    }\n  })], 1), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"jqui-datepicker\",\n      rawName: \"v-jqui-datepicker\",\n      value: (_vm.form.date1),\n      expression: \"form.date1\"\n    }],\n    staticClass: \"form-control input-lg\",\n    attrs: {\n      \"id\": \"id-date1\",\n      \"tabindex\": \"0\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-md-4 text-right\"\n  }, [_c('label', [_vm._v(\" \")]), _vm._v(\" \"), _c('button', {\n    staticClass: \"btn btn-block btn-lg\",\n    attrs: {\n      \"type\": \"submit\"\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"Find\"\n    }\n  })], 1)])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-md-24 text-center\"\n  }, [_c('div', {\n    staticClass: \"btn-group\"\n  }, [_c('a', {\n    staticClass: \"btn btn-sm\",\n    class: {\n      active: _vm.form.mode === 'active'\n    },\n    attrs: {\n      \"tabindex\": \"0\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.changeMode('active')\n      }\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"CabinetMode_active\"\n    }\n  })], 1), _vm._v(\" \"), _c('a', {\n    staticClass: \"btn btn-sm\",\n    class: {\n      active: _vm.form.mode === 'archive'\n    },\n    attrs: {\n      \"tabindex\": \"0\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.changeMode('archive')\n      }\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"CabinetMode_archive\"\n    }\n  })], 1)])])])])])]) : _vm._e(), _vm._v(\" \"), (_vm.PAYMENT_RESULT) ? _c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-md-24\"\n  }, [(_vm.PAYMENT_RESULT === 'OK') ? _c('h1', [_c('dict', {\n    attrs: {\n      \"name\": \"Ticket/headerPaymentOk\"\n    }\n  })], 1) : _c('div', {\n    staticClass: \"alert alert-danger\"\n  }, [(_vm.PAYMENT_RESULT === 'CANCEL') ? _c('ifrmsg', {\n    attrs: {\n      \"name\": \"PSTKT_BANK_CANCEL\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.PAYMENT_RESULT === 'DECLINE') ? _c('ifrmsg', {\n    attrs: {\n      \"name\": \"PSTKT_BANK_CANCEL\"\n    }\n  }) : _vm._e()], 1)])]) : _vm._e(), _vm._v(\" \"), (_vm.HUMAN_ERROR) ? _c('pre', {\n    staticClass: \"col-md-24 pre-message pre-message-common\"\n  }, [_vm._v(_vm._s(_vm.HUMAN_ERROR))]) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.slots), function(ordslot, ordslot_index) {\n    return _c('div', {\n      attrs: {\n        \"id\": 'hash-sord-' + ordslot.id\n      }\n    }, _vm._l((ordslot.lst), function(ord, index) {\n      return _c('div', [_c('div', {\n        staticClass: \"pass-orderList-order\",\n        class: {\n          'pass-orderList-order-refunded': ord.STATUS\n        }\n      }, [_c('h2', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-md-24\"\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\" + _vm._s(_vm._f(\"CAPITALIZE\")(ord.station0)) + \" — \" + _vm._s(_vm._f(\"CAPITALIZE\")(ord.station1)) + \" \\n\\t\\t\\t\\t\\t\")])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-md-17\"\n      }, [_c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-md-7\"\n      }, [_c('dict', {\n        attrs: {\n          \"name\": \"Train\"\n        }\n      }), _vm._v(\" №\\n\\t\\t\\t\\t\\t\\t\\t\")], 1), _vm._v(\" \"), _c('div', {\n        staticClass: \"col-md-17\"\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(ord.train) + \"\\n\\t\\t\\t\\t\\t\\t\\t\")])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-md-7\"\n      }, [_c('dict', {\n        attrs: {\n          \"name\": \"Departure\"\n        }\n      })], 1), _vm._v(\" \"), _c('div', {\n        staticClass: \"col-md-17\"\n      }, [_c('div', {\n        class: 'datetime-wrap datetime-wrap_first-' + ordslot.defShowTime\n      }, [(ord.localDate0) ? _c('div', {\n        staticClass: \"datetime-local\"\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(ord.localDate0) + \" \"), _c('b', {\n        staticClass: \"datetime-hhmm\"\n      }, [_vm._v(_vm._s(ord.localTime0) + \" \" + _vm._s(ord.timeDeltaString0))])]) : _vm._e(), _vm._v(\" \"), _c('div', {\n        staticClass: \"datetime-msk\"\n      }, [_vm._v(\"\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(ord.date0) + \" \"), _c('b', {\n        staticClass: \"datetime-hhmm\"\n      }, [_vm._v(_vm._s(ord.time0) + \" \"), (ord.Msk0) ? _c('span', [_vm._v(_vm._s(ordslot.mskTimeSuffix))]) : _vm._e()])])])])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-md-7\"\n      }, [_c('dict', {\n        attrs: {\n          \"name\": \"Arrival\"\n        }\n      })], 1), _vm._v(\" \"), _c('div', {\n        staticClass: \"col-md-17\"\n      }, [_c('div', {\n        class: 'datetime-wrap datetime-wrap_first-' + ordslot.defShowTime\n      }, [(ord.localDate1) ? _c('div', {\n        staticClass: \"datetime-local\"\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(ord.localDate1) + \" \"), _c('b', {\n        staticClass: \"datetime-hhmm\"\n      }, [_vm._v(_vm._s(ord.localTime1) + \" \" + _vm._s(ord.timeDeltaString1))])]) : _vm._e(), _vm._v(\" \"), _c('div', {\n        staticClass: \"datetime-msk\"\n      }, [_vm._v(\"\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(ord.date1) + \" \"), _c('b', {\n        staticClass: \"datetime-hhmm\"\n      }, [_vm._v(_vm._s(ord.time1) + \" \"), (ord.Msk1) ? _c('span', [_vm._v(_vm._s(ordslot.mskTimeSuffix))]) : _vm._e()])])])])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-md-7\"\n      }, [_c('dict', {\n        attrs: {\n          \"name\": \"Ticket/Car\"\n        }\n      })], 1), _vm._v(\" \"), _c('div', {\n        staticClass: \"col-md-17\"\n      }, [(ord.bWithoutPlaces) ? _c('ifrmsg', {\n        attrs: {\n          \"name\": \"ANY_VAGON_LASTOCHKA\"\n        }\n      }) : [_vm._v(_vm._s(ord.car) + \" (\" + _vm._s(ord.carCls) + \")\")]], 2)]), _vm._v(\" \"), _c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-md-7\"\n      }, [_c('dict', {\n        attrs: {\n          \"name\": \"Ticket/transactionId\"\n        }\n      })], 1), _vm._v(\" \"), _c('div', {\n        staticClass: \"col-md-17\"\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(ordslot.transactionId) + \"\\n\\t\\t\\t\\t\\t\\t\\t\")])])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"col-md-7 text-right\"\n      }, [_c('div', {\n        staticClass: \"btn-group\"\n      }, [_c('a', {\n        staticClass: \"btn btn-sm\",\n        attrs: {\n          \"target\": \"_blank\",\n          \"tabindex\": \"0\",\n          \"href\": ord.LINK_BLANK\n        }\n      }, [_c('dict', {\n        attrs: {\n          \"name\": \"Order form\"\n        }\n      })], 1), _vm._v(\" \"), _c('button', {\n        staticClass: \"btn btn-sm\",\n        attrs: {\n          \"tabindex\": \"0\",\n          \"disabled\": ord.LOADING_STATUSES\n        },\n        on: {\n          \"click\": function($event) {\n            _vm.getBlank_ticket('pdf', ord)\n          },\n          \"keyup\": function($event) {\n            if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n            _vm.getBlank_ticket('pdf', ord)\n          }\n        }\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\tPDF\\n\\t\\t\\t\\t\\t\\t\\t\")])]), _vm._v(\" \"), _c('br'), _c('br'), _vm._v(\" \"), (!ord.left) ? _c('button', {\n        staticClass: \"pass-order-elreg-get btn btn-md\",\n        attrs: {\n          \"tabindex\": \"0\",\n          \"disabled\": ord.LOADING_STATUSES\n        },\n        on: {\n          \"click\": function($event) {\n            _vm.getStatuses(ord)\n          }\n        }\n      }, [_c('i', {\n        staticClass: \"glyphicon glyphicon-info-sign\"\n      }), _vm._v(\" \"), _c('dict', {\n        attrs: {\n          \"name\": \"Ticket/Request for ticket status\"\n        }\n      })], 1) : _vm._e(), _vm._v(\" \"), (_vm.IS_DEV) ? [_c('a', {\n        staticClass: \"pass-order-debug-link\",\n        attrs: {\n          \"href\": ord.ORDER_LINK,\n          \"title\": \"Открыть только текущий заказ (ссылка видна только при включённом показе ошибок)\"\n        }\n      }, [_c('i', {\n        staticClass: \"glyphicon glyphicon-share-alt\"\n      })])] : _vm._e()], 2)]), _vm._v(\" \"), (ord.autoCarrier) ? [_c('div', {\n        staticClass: \"row pass-ord-group\"\n      }, [_vm._m(0, true), _vm._v(\" \"), _c('div', {\n        staticClass: \"col-md-7 text-right\"\n      }, [_c('a', {\n        staticClass: \"btn btn-sm\",\n        attrs: {\n          \"href\": ord.LINK_AUTORACK,\n          \"target\": \"_blank\"\n        }\n      }, [(ord.autoOrder) ? [_vm._v(\"Просмотр заявки на перевозку\")] : [_vm._v(\"Заявка на услугу перевозки автомобиля\")]], 2)])])] : _vm._e(), _vm._v(\" \"), (ord.HUMAN_ERROR) ? _c('div', {\n        staticClass: \"row\"\n      }, [_c('pre', {\n        staticClass: \"col-md-24 pre-message pre-message-common\"\n      }, [_vm._v(_vm._s(ord.HUMAN_ERROR))])]) : _vm._e(), _vm._v(\" \"), (!ord.left && ord.avisoTimer) ? [_c('div', {\n        staticClass: \"alert alert-info\"\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\tЗаказ подтверждается.  \" + _vm._s(ord.avisoTimer) + \" мин.\\n\\t\\t\\t\\t\\t\")])] : _vm._e(), _vm._v(\" \"), (ord.bNonRefundable) ? [_c('div', {\n        staticClass: \"alert alert-danger\"\n      }, [_c('ifrmsg', {\n        attrs: {\n          \"name\": \"REFUND_FORBIDDEN_LASTOCHKA\"\n        }\n      })], 1)] : _vm._e(), _vm._v(\" \"), _c('div', _vm._l((ord.lst), function(tik) {\n        return _c('div', {\n          staticClass: \"pass-orderList-ticket\",\n          class: {\n            'pass-orderList-ticket-refunded': tik.status === 'REFUNDED'\n          }\n        }, [_c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-md-24\"\n        }, [_c('div', {\n          staticClass: \"pass-ord-ticket-name\"\n        }, [_vm._v(_vm._s(_vm._f(\"CAPITALIZE\")(tik.name)))])]), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [_c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-md-7\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Document number\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [_vm._v(\"\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(tik.doc) + \"\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])]), _vm._v(\" \"), _c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-md-7\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Place\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [(ord.bWithoutPlaces) ? _c('ifrmsg', {\n          attrs: {\n            \"name\": \"VAGON_NO_SEATS_LASTOCHKA\"\n          }\n        }) : (tik.place) ? [_c('span', {\n          staticClass: \"text-bold\"\n        }, [_vm._v(_vm._s(tik.place))]), _vm._v(\" \" + _vm._s(tik.seatsTypeName) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")] : [_c('dict', {\n          attrs: {\n            \"name\": \"Ticket/withoutPlace\"\n          }\n        })]], 2)]), _vm._v(\" \"), _c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-md-7\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Ticket/Cost\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [_vm._v(\"\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(_vm._f(\"FORMAT_SUM\")(tik.cost)) + \" руб.\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])]), _vm._v(\" \"), _c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-md-7\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Tariff\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [_vm._v(\"\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(tik.tariff) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])]), _vm._v(\" \"), _c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-md-7\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Status\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [(tik.LOADER || ord.LOADER) ? _c('i', {\n          staticClass: \"spin\"\n        }) : _c('div', {\n          staticClass: \"pass-orderList-status\"\n        }, [(tik.STATUS.NAME) ? _c('b', [_vm._v(_vm._s(tik.STATUS.NAME))]) : _c('a', {\n          staticClass: \"link-dotted\",\n          on: {\n            \"click\": function($event) {\n              _vm.getStatuses(ord)\n            }\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Reset\"\n          }\n        })], 1)])])])]), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-7 text-right\"\n        }, [_c('div', {\n          staticClass: \"form-group btn-group\"\n        }, [_c('a', {\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"target\": \"_blank\",\n            \"tabindex\": \"0\",\n            \"href\": tik.LINK_BLANK\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Ticket blank\"\n          }\n        })], 1), _vm._v(\" \"), _c('button', {\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"tabindex\": \"0\",\n            \"disabled\": ord.LOADING_STATUSES\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.getBlank_ticket('pdf', ord, tik)\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.getBlank_ticket('pdf', ord, tik)\n            }\n          }\n        }, [_vm._v(\"PDF\")]), _vm._v(\" \"), _c('button', {\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"tabindex\": \"0\",\n            \"disabled\": ord.LOADING_STATUSES\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.getBlank_ticket('png', ord, tik)\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.getBlank_ticket('png', ord, tik)\n            }\n          }\n        }, [_vm._v(\"PNG\")])]), _vm._v(\" \"), (tik.STATUS.CODE === 'REFUNDED') ? _c('div', {\n          staticClass: \"form-group\"\n        }, [_c('a', {\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"target\": \"_blank\",\n            \"tabindex\": \"0\",\n            \"href\": ord.LINK_BLANK\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Ticket/Refund coupon\"\n          }\n        })], 1)]) : _vm._e()])]), _vm._v(\" \"), (tik.HUMAN_ERROR) ? [_c('div', {\n          staticClass: \"row\"\n        }, [_c('pre', {\n          staticClass: \"col-md-24 pre-message pre-message-common\"\n        }, [_vm._v(_vm._s(tik.HUMAN_ERROR))])])] : _vm._e(), _vm._v(\" \"), (_vm.isTicketActionsAvailable(tik, ord)) ? [_c('div', {\n          staticClass: \"pass-orderList-ticket-btnWrap row\"\n        }, [_c('div', {\n          staticClass: \"col-md-24 text-right\"\n        }, [_c('button', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (tik.STATUS.CODE === 'PAID'),\n            expression: \"tik.STATUS.CODE==='PAID'\"\n          }],\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"tabindex\": \"0\",\n            \"disabled\": tik.LOADING_STATUS\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.changeStatus(tik, ord, true)\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.changeStatus(tik, ord, true)\n            }\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Perform an electronic registration\"\n          }\n        })], 1), _vm._v(\" \"), _c('button', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (tik.STATUS.CODE === 'REGISTERED'),\n            expression: \"tik.STATUS.CODE==='REGISTERED'\"\n          }],\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"tabindex\": \"0\",\n            \"disabled\": tik.LOADING_STATUS\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.changeStatus(tik, ord, false)\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.changeStatus(tik, ord, false)\n            }\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Cancel electronic registration\"\n          }\n        })], 1), _vm._v(\" \"), (!ord.bNonRefundable) ? _c('button', {\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"tabindex\": \"0\",\n            \"disabled\": tik.LOADING_REFUND_TICKET\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.refundTicket(tik, ord, ordslot)\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.refundTicket(tik, ord, ordslot)\n            }\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Order a refund\"\n          }\n        })], 1) : _vm._e()])])] : _vm._e(), _vm._v(\" \"), (ordslot.REFUND_MESSAGE) ? [_c('div', {\n          staticClass: \"pass-orderList-refund-msg__cont\"\n        }, [_c('div', {\n          staticClass: \"refund-msg__item\",\n          domProps: {\n            \"innerHTML\": _vm._s(ordslot.REFUND_MESSAGE)\n          }\n        })])] : _vm._e(), _vm._v(\" \"), (tik.INSUR) ? [_c('div', {\n          staticClass: \"row pass-ord-group\"\n        }, [_c('div', {\n          staticClass: \"col-md-17\"\n        }, [_c('div', {\n          staticClass: \"pass-ord-group-head\"\n        }, [_c('ifrmsg', {\n          attrs: {\n            \"name\": \"INSURANCE_FORM_ENABLE_TOOLTIP\"\n          }\n        })], 1), _vm._v(\" \"), (tik.INSUR.Refunded == 1) ? [_c('ifrmsg', {\n          attrs: {\n            \"name\": \"INSURANCE_RETURN_STATUS\"\n          }\n        })] : [_c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-md-7\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Company\"\n          }\n        }), _vm._v(\":\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(tik.INSUR.shortName) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-7\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Stoimost\"\n          }\n        }), _vm._v(\":\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(_vm._f(\"FORMAT_SUM\")(tik.INSUR.cost)) + \" руб.\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])])]], 2), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-7 text-right\"\n        }, [(_vm.isInsuranceActive(tik)) ? _c('div', {\n          staticClass: \"btn-group\"\n        }, [(tik.INSUR.Refunded != 1) ? _c('a', {\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"target\": \"_blank\",\n            \"tabindex\": \"0\",\n            \"href\": tik.LINK_INSURANCE,\n            \"title\": \"Бланк страховки от несчастных случаев\"\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Insurance policy\"\n          }\n        })], 1) : _vm._e(), _vm._v(\" \"), _c('a', {\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"tabindex\": \"0\",\n            \"title\": \"Бланк страховки от несчастных случаев в формате PDF\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.getBlank_insurance(tik, 'pdf')\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.getBlank_insurance(tik, 'pdf')\n            }\n          }\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tPDF\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), (_vm.isInsuranceRefundAvailable(tik, ord)) ? _c('button', {\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"tabindex\": \"0\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.refundInsurance(tik, ord)\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.refundInsurance(tik, ord)\n            }\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Order a refund\"\n          }\n        })], 1) : _vm._e()]) : _vm._e()])])] : _vm._e(), _vm._v(\" \"), (tik.POLICY) ? [_c('div', {\n          staticClass: \"row pass-ord-group\"\n        }, [_c('div', {\n          staticClass: \"col-md-17\"\n        }, [_c('div', {\n          staticClass: \"pass-ord-group-head\"\n        }, [_c('ifrmsg', {\n          attrs: {\n            \"name\": \"POLICY_FORM_ENABLE_TOOLTIP\"\n          }\n        })], 1), _vm._v(\" \"), (tik.POLICY_STATUS.code != 'ISSUED') ? _c('div', {\n          domProps: {\n            \"innerHTML\": _vm._s(tik.POLICY_STATUS.name)\n          }\n        }) : _c('div', [_c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-md-7\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Company\"\n          }\n        }), _vm._v(\":\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [_c('ifrmsg', {\n          attrs: {\n            \"name\": \"POLICY_COMPANY\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-7\"\n        }, [_c('ifrmsg', {\n          attrs: {\n            \"name\": \"POLICY_FORM_PRICE\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(_vm._f(\"FORMAT_SUM\")(tik.POLICY.cost)) + \" руб.\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-7\"\n        }, [_c('ifrmsg', {\n          attrs: {\n            \"name\": \"POLICY_FORM_TERRITORY\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(tik.POLICY_AREA) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-7\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Policy valid till\"\n          }\n        }), _vm._v(\":\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(tik.POLICY_DATE) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])])])]), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-7 text-right\"\n        }, [_c('div', {\n          staticClass: \"btn-group\"\n        }, [(tik.POLICY_STATUS.code == 'ISSUED') ? _c('a', {\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"target\": \"_blank\",\n            \"tabindex\": \"0\",\n            \"href\": tik.POLICY.link,\n            \"title\": \"Бланк полиса ДМС в формате PDF\"\n          }\n        }, [_vm._v(\"PDF\")]) : _vm._e(), _vm._v(\" \"), (_vm.isPolicyRefundAvailable(tik, ord)) ? _c('button', {\n          staticClass: \"btn btn-sm\",\n          attrs: {\n            \"tabindex\": \"0\",\n            \"disabled\": ord.LOADING_STATUSES\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.refundDMS(tik, ord)\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.refundDMS(tik, ord)\n            }\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Order a refund\"\n          }\n        })], 1) : _vm._e()])])])] : _vm._e(), _vm._v(\" \"), (_vm.prepaidFood_visible(tik, ord)) ? [_c('div', {\n          staticClass: \"row pass-ord-group\"\n        }, [_c('div', {\n          staticClass: \"col-md-17\"\n        }, [_c('div', {\n          staticClass: \"pass-ord-group-head\"\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tПредоплаченое питание\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), (tik.foodId) ? _c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-md-7\"\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tВыбранный рацион:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-md-17\"\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(tik.foodName) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])]) : _vm._e()]), _vm._v(\" \"), (!ord.left && tik.status != 'REFUNDED') ? _c('div', {\n          staticClass: \"col-md-7 text-right\"\n        }, [_c('a', {\n          staticClass: \"btn btn-sm\",\n          on: {\n            \"click\": function($event) {\n              $event.preventDefault();\n              _vm.changeMeal(ord, tik, ordslot_index, ordslot)\n            }\n          }\n        }, [(ord.foodId) ? [_vm._v(\"Сменить\")] : [_vm._v(\"Выбрать\")], _vm._v(\" тип питания\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\")], 2)]) : _vm._e()])] : _vm._e(), _vm._v(\" \"), (_vm.addFood_visible(tik)) ? _vm._l((_vm.addFood_getArray(tik)), function(foodOrder) {\n          return _c('div', {\n            staticClass: \"row pass-ord-group\"\n          }, [_c('div', {\n            staticClass: \"col-md-17\"\n          }, [_c('div', {\n            staticClass: \"pass-ord-group-head\"\n          }, [_c('ifrmsg', {\n            attrs: {\n              \"name\": \"ADD_FOOD\"\n            }\n          })], 1), _vm._v(\" \"), (foodOrder.isRefunded) ? _c('dict', {\n            attrs: {\n              \"name\": \"Refunded\"\n            }\n          }) : (foodOrder.isPurchased) ? [_c('div', [_c('a', {\n            staticClass: \"link-dotted\",\n            on: {\n              \"click\": function($event) {\n                $event.preventDefault();\n                _vm.getFoodDetails(ord, tik, foodOrder)\n              }\n            }\n          }, [_vm._l((foodOrder.foodPattern.split('')), function(selectedFoodItem, index) {\n            return [(index) ? [_vm._v(\"/\")] : _vm._e(), _vm._v(\" \"), (selectedFoodItem === 'З') ? _c('dict', {\n              attrs: {\n                \"name\": \"Breakfast\"\n              }\n            }) : _vm._e(), _vm._v(\" \"), (selectedFoodItem === 'О') ? _c('dict', {\n              attrs: {\n                \"name\": \"Lunch\"\n              }\n            }) : _vm._e(), _vm._v(\" \"), (selectedFoodItem === 'У') ? _c('dict', {\n              attrs: {\n                \"name\": \"Dinner\"\n              }\n            }) : _vm._e()]\n          })], 2), _vm._v(\". \"), _c('dict', {\n            attrs: {\n              \"name\": \"Stoimost\"\n            }\n          }), _vm._v(\": \" + _vm._s(_vm._f(\"FORMAT_SUM\")(foodOrder.cost)) + \" руб.\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")], 1), _vm._v(\" \"), (_vm.foodDetails.selectedMenuItems && _vm.foodDetails.ticketId === tik.n) ? _vm._l((_vm.foodDetails.selectedMenuItems), function(selectedFoodItem) {\n            return _c('div', {\n              staticClass: \"row\"\n            }, [_c('div', {\n              staticClass: \"col-xs-8 text-right\"\n            }, [(selectedFoodItem === 'З') ? _c('dict', {\n              attrs: {\n                \"name\": \"Breakfast\"\n              }\n            }) : _vm._e(), _vm._v(\" \"), (selectedFoodItem === 'О') ? _c('dict', {\n              attrs: {\n                \"name\": \"Lunch\"\n              }\n            }) : _vm._e(), _vm._v(\" \"), (selectedFoodItem === 'У') ? _c('dict', {\n              attrs: {\n                \"name\": \"Dinner\"\n              }\n            }) : _vm._e()], 1), _vm._v(\" \"), _c('div', {\n              staticClass: \"col-xs-8 text-center\"\n            }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(selectedFoodItem.variant) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), _c('div', {\n              staticClass: \"col-xs-8\"\n            }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(selectedFoodItem.count) + \" шт.\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])])\n          }) : _vm._e()] : _vm._e()], 2), _vm._v(\" \"), _c('div', {\n            staticClass: \"col-md-7 text-right\"\n          }, [(!foodOrder.isFake) ? _c('div', {\n            staticClass: \"btn-group\"\n          }, [_c('a', {\n            staticClass: \"btn btn-sm\",\n            attrs: {\n              \"href\": _vm.getFoodBlank(tik, ord, 'html', foodOrder),\n              \"target\": \"_blank\"\n            }\n          }, [_c('dict', {\n            attrs: {\n              \"name\": \"Receipt\"\n            }\n          })], 1), _vm._v(\" \"), _c('a', {\n            staticClass: \"btn btn-sm\",\n            on: {\n              \"click\": function($event) {\n                _vm.getFoodBlank(tik, ord, 'pdf', foodOrder)\n              }\n            }\n          }, [_vm._v(\"PDF\")])]) : _vm._e(), _vm._v(\" \"), _c('div', {\n            staticClass: \"btn-group\"\n          }, [(tik.SHOW_REFUND_FOOD && foodOrder.isPurchased) ? _c('button', {\n            staticClass: \"btn btn-sm\",\n            attrs: {\n              \"disabled\": _vm.foodDetails.LOADING_REFUND\n            },\n            on: {\n              \"click\": function($event) {\n                $event.preventDefault();\n                _vm.refundFood(ord, tik, foodOrder)\n              }\n            }\n          }, [_c('dict', {\n            attrs: {\n              \"name\": \"Return addtional food\"\n            }\n          })], 1) : _vm._e(), _vm._v(\" \"), _c('button', {\n            staticClass: \"btn btn-sm\",\n            attrs: {\n              \"href\": _vm.LINK('catering-menu-page')\n            },\n            on: {\n              \"click\": function($event) {\n                $event.preventDefault();\n                _vm.addFood_showMenuWindow()\n              }\n            }\n          }, [_vm._v(\"Посмотреть меню\")]), _vm._v(\" \"), (_vm.addFood_isBuyPossible(tik)) ? _c('button', {\n            staticClass: \"btn btn-sm\",\n            on: {\n              \"click\": function($event) {\n                $event.preventDefault();\n                _vm.buyAdditionals(ordslot, ord, tik, 'food')\n              }\n            }\n          }, [_c('dict', {\n            attrs: {\n              \"name\": \"Buy\"\n            }\n          })], 1) : _vm._e()])])])\n        }) : _vm._e(), _vm._v(\" \"), (tik.addGoods || tik.goodsTotalCost) ? [_c('div', {\n          staticClass: \"row pass-ord-group\"\n        }, [_vm._m(1, true), _vm._v(\" \"), (tik.goodsTotalCost) ? _c('div', {\n          staticClass: \"col-sm-6 text-right\"\n        }, [_c('b', [_c('span', {\n          domProps: {\n            \"innerHTML\": _vm._s(tik.goodsTotalCost)\n          }\n        }), _vm._v(\" \"), _c('dict', {\n          attrs: {\n            \"name\": \"RUB\"\n          }\n        })], 1)]) : _vm._e(), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-sm-7\"\n        }, [(tik.addGoods && tik.status != 'REFUNDED') ? _c('a', {\n          staticClass: \"link-dotted\",\n          attrs: {\n            \"href\": \"#\"\n          },\n          on: {\n            \"click\": function($event) {\n              $event.preventDefault();\n              _vm.buyAdditionals(ordslot, ord, tik, 'goods')\n            }\n          }\n        }, [_vm._v(\"Купить товары\")]) : _vm._e()]), _vm._v(\" \"), (tik.goodsTotalCost) ? _c('div', {\n          staticClass: \"col-sm-17 text-right\"\n        }, [_c('a', {\n          staticClass: \"link-dotted\",\n          attrs: {\n            \"href\": tik.LINK_GOODS_LIST\n          }\n        }, [_vm._v(\"Оформленные товары\")]), _vm._v(\" \"), _c('a', {\n          staticClass: \"link-dotted\",\n          staticStyle: {\n            \"margin-left\": \"1em\"\n          },\n          attrs: {\n            \"target\": \"_blank\",\n            \"href\": tik.LINK_GOODS_BLANK_PDF\n          }\n        }, [_vm._v(\"PDF\")])]) : _vm._e()])] : _vm._e()], 2)\n      })), _vm._v(\" \"), (ord.ELREG_IFRMSG) ? [_c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-md-18\"\n      }, [_c('ifrmsg', {\n        attrs: {\n          \"name\": ord.ELREG_IFRMSG\n        }\n      })], 1)])] : _vm._e(), _vm._v(\" \"), (ord.LINK_HOTEL) ? [_c('div', {\n        staticClass: \"cab-hotels-block\",\n        domProps: {\n          \"innerHTML\": _vm._s(ord.LINK_HOTEL)\n        }\n      })] : _vm._e()], 2)])\n    }))\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"text-center\"\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.LOADING_ORDERS === false),\n      expression: \"LOADING_ORDERS===false\"\n    }]\n  }, [_c('a', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.lastPage),\n      expression: \"!lastPage\"\n    }],\n    staticClass: \"btn\",\n    attrs: {\n      \"tabindex\": \"0\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.getOrders(true)\n      }\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"Show more\"\n    }\n  })], 1), _vm._v(\" \"), (_vm.slots.length === 0 && _vm.bShowForm === true && !_vm.HUMAN_ERROR) ? _c('div', [_c('ifrmsg', {\n    attrs: {\n      \"name\": \"PSTKT_CABINET_MSG_EMPTY_SLOTS\"\n    }\n  })], 1) : _vm._e()]), _vm._v(\" \"), _c('i', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.LOADING_ORDERS === true),\n      expression: \"LOADING_ORDERS===true\"\n    }],\n    staticClass: \"spin spin-lg\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"hdn\"\n  }, [_c('div', {\n    staticClass: \"j-on-aviso-popup\"\n  }, [_c('ifrmsg', {\n    attrs: {\n      \"name\": \"PST_WAIT_TRIP_STATUS_BLIND\"\n    }\n  }), _vm._v(\" \"), _vm._l((_vm.slots), function(ordslot, ordslot_index) {\n    return _c('div', {\n      attrs: {\n        \"id\": 'hash-sord-' + ordslot.id\n      }\n    }, [(ordslot.jstatus === 'ON_AVISO') ? _c('div', [_c('a', {\n      staticClass: \"link-dotted\",\n      on: {\n        \"click\": function($event) {\n          _vm.getStatusesForSaleOrder(ordslot)\n        }\n      }\n    }, [_c('dict', {\n      attrs: {\n        \"name\": \"Ticket/transactionId\"\n      }\n    }), _vm._v(\" \" + _vm._s(ordslot.transactionId) + \"\\n\\t\\t\\t\\t\\t\\t\")], 1)]) : _vm._e()])\n  })], 2), _vm._v(\" \"), (_vm.refundMsg) ? _c('div', {\n    staticClass: \"j-refund-popup\"\n  }, [(_vm.refundMsg.bMulti) ? _c('p', [(_vm.refundMsg.bDisabledCompanion) ? _c('ifrmsg', {\n    attrs: {\n      \"name\": \"DPEOPLE_TICKET_SIMULTANEOUS_RETURN\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (!_vm.refundMsg.bDisabledCompanion) ? _c('dict', {\n    attrs: {\n      \"name\": \"Only the simultaneous return of several tickets at once is possible!\"\n    }\n  }) : _vm._e()], 1) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.refundMsg.list), function(ritem) {\n    return _c('div', {\n      staticClass: \"form-group\"\n    }, [_c('dict', {\n      attrs: {\n        \"name\": \"Departure\"\n      }\n    }), _vm._v(\" \" + _vm._s(_vm.refundMsg.ord.date0) + \" \" + _vm._s(_vm.refundMsg.ord.time0) + \", \"), _c('dict', {\n      attrs: {\n        \"name\": \"Train\"\n      }\n    }), _vm._v(\" \\n\\t\\t\\t\\t\\t\" + _vm._s(_vm.refundMsg.ord.train) + \", \"), _c('dict', {\n      attrs: {\n        \"name\": \"Ticket/Car\"\n      }\n    }), _vm._v(\" \" + _vm._s(_vm.refundMsg.ord.car) + \", \"), _c('dict', {\n      attrs: {\n        \"name\": \"place\"\n      }\n    }), _vm._v(\" \" + _vm._s(ritem.place) + \", \" + _vm._s(ritem.name) + \"\\n\\n\\t\\t\\t\\t\\t\"), _c('div', {\n      domProps: {\n        \"innerHTML\": _vm._s(ritem.message)\n      }\n    }), _vm._v(\" \"), _c('br')], 1)\n  }), _vm._v(\" \"), (_vm.refundMsg.bINSUR) ? _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('ifrmsg', {\n    attrs: {\n      \"name\": \"INSURANCE_REFUND_SUM\"\n    }\n  }), _vm._v(\" \"), _c('span', {\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.refundMsg.bINSUR_cost)\n    }\n  }), _vm._v(\" руб.\")], 1) : _vm._e(), _vm._v(\" \"), (_vm.refundMsg.bDMS) ? _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('ifrmsg', {\n    attrs: {\n      \"name\": \"POLICY_CABINET_REFUND_SUM\"\n    }\n  }), _vm._v(\" \"), _c('span', {\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.refundMsg.bDMS_cost)\n    }\n  }), _vm._v(\" руб.\")], 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('ifrmsg', {\n    attrs: {\n      \"name\": \"REFUND_INFO_CABINET\"\n    }\n  })], 1), _vm._v(\" \"), (_vm.refundMsg.bYandex) ? _c('ifrmsg', {\n    attrs: {\n      \"name\": \"REFUND_RULES_YANDEX_MONEY\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (!_vm.refundMsg.bYandex) ? _c('ifrmsg', {\n    attrs: {\n      \"name\": \"REFUND_RULES_BANK\"\n    }\n  }) : _vm._e()], 2) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"display\": \"none\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"j-change-food-popup\"\n    }\n  }, [_c('div', {\n    staticClass: \"j-mealList food-selector\"\n  }, [_c('h1', [_c('dict', {\n    attrs: {\n      \"name\": \"Selecting the type of food\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"background\": \"#eee\",\n      \"padding\": \"1em\",\n      \"margin-bottom\": \"1em\"\n    }\n  }, [_c('div', [_c('p', [_c('b', [_c('dict', {\n    attrs: {\n      \"name\": \"Service expiration moment\"\n    }\n  }), _vm._v(\" \\n\\t\\t\\t\\t\\t\\t\\t\\t\")], 1)]), _vm._v(\" \"), _c('ifrmsg', {\n    attrs: {\n      \"name\": \"PSTKT_MSG_FOOD_PRELIM\"\n    }\n  })], 1)]), _vm._v(\" \"), _c('b', [_c('dict', {\n    attrs: {\n      \"name\": \"FoodService/Select food type\"\n    }\n  })], 1), _vm._v(\" \"), _c('br'), _vm._v(\" \"), _c('div', {\n    staticClass: \"j-list\"\n  }, _vm._l((_vm.foodList.list), function(foodItem, idx) {\n    return _c('div', {\n      staticClass: \"j-food-list-item food-selector__item\"\n    }, [_c('div', {\n      staticClass: \"j-header food-selector__item-head\"\n    }, [_c('label', {\n      staticStyle: {\n        \"display\": \"block\"\n      }\n    }, [_c('input', {\n      directives: [{\n        name: \"model\",\n        rawName: \"v-model\",\n        value: (_vm.foodListSelectedItem),\n        expression: \"foodListSelectedItem\"\n      }],\n      attrs: {\n        \"type\": \"radio\",\n        \"name\": \"food-type\",\n        \"id\": foodItem.id\n      },\n      domProps: {\n        \"value\": foodItem.name + '_' + foodItem.id,\n        \"checked\": foodItem.name == _vm.foodList.tikFoodName,\n        \"checked\": _vm._q(_vm.foodListSelectedItem, foodItem.name + '_' + foodItem.id)\n      },\n      on: {\n        \"__c\": function($event) {\n          _vm.foodListSelectedItem = foodItem.name + '_' + foodItem.id\n        }\n      }\n    }), _vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(foodItem.name) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\"), _c('div', {\n      staticClass: \"food-selector__toggler-down\",\n      staticStyle: {\n        \"float\": \"right\"\n      }\n    }, [_vm._v(\"▼\")])])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"j-descr food-selector__item-descr\"\n    }, [_c('div', {\n      staticClass: \"message-box\"\n    }, [(foodItem.shortDescr) ? _c('div', {\n      staticClass: \"food-selector__item-descr-short\"\n    }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(foodItem.shortDescr) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]) : _vm._e(), _vm._v(\" \"), _c('div', [(foodItem.hasImage) ? _c('div', {\n      staticStyle: {\n        \"float\": \"left\",\n        \"width\": \"270px\"\n      }\n    }, [_c('img', {\n      staticStyle: {\n        \"max-width\": \"250px\"\n      }\n    })]) : _vm._e(), _vm._v(\" \"), (foodItem.descr) ? _c('div', {\n      staticStyle: {\n        \"float\": \"left\",\n        \"width\": \"300px\"\n      }\n    }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(foodItem.descr) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]) : _vm._e(), _vm._v(\" \"), _c('div', {\n      staticStyle: {\n        \"clear\": \"both\"\n      }\n    })])])])])\n  }))])])]), _vm._v(\" \"), (_vm.bShowBankResultBtns) ? [(_vm.bShowRetryPayment) ? _c('payment-handler', {\n    ref: \"paymentHandler\",\n    attrs: {\n      \"jr\": _vm.journeyReservation\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('br'), _vm._v(\" \"), _c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-md-8\"\n  }, [(_vm.bShowRetryPayment) ? _c('div', [_c('a', {\n    staticClass: \"btn btn-lg\",\n    on: {\n      \"click\": _vm.retryPayment\n    }\n  }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\tПопытаться оплатить ещё раз\\n\\t\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), (_vm.LOADING_ORDERS) ? _c('i', {\n    staticClass: \"spin spin-xs\"\n  }) : _vm._e()]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-md-16 text-right\"\n  }, [_c('a', {\n    staticClass: \"btn btn-md\",\n    attrs: {\n      \"href\": _vm.LINK('route-2012')\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.bankResult_goStart($event)\n      }\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"Ticket/start ticket processing first\"\n    }\n  })], 1), _vm._v(\"  \\n\\t\\t\\t\\t\\t\"), _c('a', {\n    staticClass: \"btn btn-md\",\n    attrs: {\n      \"href\": \"LINK('cabinet-2012')\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.gotoCabinet($event)\n      }\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"Go to My orders\"\n    }\n  })], 1)])])] : _vm._e()], 2)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"col-md-17\"\n  }, [_c('div', {\n    staticClass: \"pass-ord-group-head\"\n  }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\tПеревозка транспортного средства\\n\\t\\t\\t\\t\\t\\t\\t\")]), _vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\tДля данного поезда вы можете оформить заявку на перевозку транспортного средства (автомобиля)\\n\\t\\t\\t\\t\\t\\t\")])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"col-sm-18\"\n  }, [_c('div', {\n    staticClass: \"pass-ord-group-head\"\n  }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tТовары\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/template-compiler.js?id=data-v-f07fa446!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=template&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/pages/cabinet-special.vue\n// module id = 29\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-6ecc6f64&scoped=true!../../../node_modules/less-loader/lib/loader.js!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./auth-handler-special.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"b6ee53a6\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-style-loader!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/css-loader?minimize!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/style-rewriter.js?id=data-v-6ecc6f64&scoped=true!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/less-loader/lib/loader.js!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=styles&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/auth-handler/auth-handler-special.vue\n// module id = 30\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?minimize!../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-9fdb1872&scoped=true!../../node_modules/less-loader/lib/loader.js!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./devmenu.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"152fd8b0\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-style-loader!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/css-loader?minimize!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/style-rewriter.js?id=data-v-9fdb1872&scoped=true!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/less-loader/lib/loader.js!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=styles&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/devmenu.vue\n// module id = 31\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-e59c5d94&scoped=true!../../../node_modules/less-loader/lib/loader.js!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./payment-handler-special.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"01c28b0e\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-style-loader!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/css-loader?minimize!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/style-rewriter.js?id=data-v-e59c5d94&scoped=true!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/less-loader/lib/loader.js!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=styles&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/payment-handler/payment-handler-special.vue\n// module id = 32\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?minimize!../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-f07fa446&scoped=true!../../node_modules/less-loader/lib/loader.js!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./cabinet-special.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"90e1e3ce\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-style-loader!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/css-loader?minimize!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/style-rewriter.js?id=data-v-f07fa446&scoped=true!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/less-loader/lib/loader.js!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=styles&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/pages/cabinet-special.vue\n// module id = 33\n// module chunks = 0","/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nmodule.exports = function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-style-loader/lib/listToStyles.js\n// module id = 34\n// module chunks = 0"],"sourceRoot":""}