webpackJsonp([0],[function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var s=this[e];s[2]?t.push("@media "+s[2]+"{"+s[1]+"}"):t.push(s[1])}return t.join("")},t.i=function(e,s){"string"==typeof e&&(e=[[null,e,""]]);for(var a={},n=0;n<this.length;n++){var i=this[n][0];"number"==typeof i&&(a[i]=!0)}for(n=0;n<e.length;n++){var r=e[n];"number"==typeof r[0]&&a[r[0]]||(s&&!r[2]?r[2]=s:s&&(r[2]="("+r[2]+") and ("+s+")"),t.push(r))}},t}},function(t,e){t.exports=function(t,e,s,a){var n,i=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(n=t,i=t.default);var o="function"==typeof i?i.options:i;if(e&&(o.render=e.render,o.staticRenderFns=e.staticRenderFns),s&&(o._scopeId=s),a){var d=o.computed||(o.computed={});Object.keys(a).forEach(function(t){var e=a[t];d[t]=function(){return e}})}return{esModule:n,exports:i,options:o}}},function(t,e,s){function a(t){for(var e=0;e<t.length;e++){var s=t[e],a=l[s.id];if(a){a.refs++;for(var n=0;n<a.parts.length;n++)a.parts[n](s.parts[n]);for(;n<s.parts.length;n++)a.parts.push(i(s.parts[n]));a.parts.length>s.parts.length&&(a.parts.length=s.parts.length)}else{for(var r=[],n=0;n<s.parts.length;n++)r.push(i(s.parts[n]));l[s.id]={id:s.id,refs:1,parts:r}}}}function n(){var t=document.createElement("style");return t.type="text/css",u.appendChild(t),t}function i(t){var e,s,a=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(a){if(v)return m;a.parentNode.removeChild(a)}if(p){var i=f++;a=_||(_=n()),e=r.bind(null,a,i,!1),s=r.bind(null,a,i,!0)}else a=n(),e=o.bind(null,a),s=function(){a.parentNode.removeChild(a)};return e(t),function(a){if(a){if(a.css===t.css&&a.media===t.media&&a.sourceMap===t.sourceMap)return;e(t=a)}else s()}}function r(t,e,s,a){var n=s?"":a.css;if(t.styleSheet)t.styleSheet.cssText=g(e,n);else{var i=document.createTextNode(n),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(i,r[e]):t.appendChild(i)}}function o(t,e){var s=e.css,a=e.media,n=e.sourceMap;if(a&&t.setAttribute("media",a),n&&(s+="\n/*# sourceURL="+n.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),t.styleSheet)t.styleSheet.cssText=s;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(s))}}var d="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!d)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=s(34),l={},u=d&&(document.head||document.getElementsByTagName("head")[0]),_=null,f=0,v=!1,m=function(){},p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,s){v=s;var n=c(t,e);return a(n),function(e){for(var s=[],i=0;i<n.length;i++){var r=n[i],o=l[r.id];o.refs--,s.push(o)}e?(n=c(t,e),a(n)):n=[];for(var i=0;i<s.length;i++){var o=s[i];if(0===o.refs){for(var d=0;d<o.parts.length;d++)o.parts[d]();delete l[o.id]}}}};var g=function(){var t=[];return function(e,s){return t[e]=s,t.filter(Boolean).join("\n")}}()},,function(t,e,s){"use strict";e.a={methods:{DICT:function(t){return-1!==t.indexOf("/")&&(t=t.split("/")),window.lang(t)},LINK:function(t){return window.PAGEDATA&&window.PAGEDATA.LayerLinks&&window.PAGEDATA.LayerLinks[t]?window.PAGEDATA.LayerLinks:(console.error("Не найдена ссылка window.PAGEDATA.LayerLinks."+t),"")}},filters:{DF_FULL:function(t){if(!t)return"";var e=new Date(t);return e.toLocaleString?e.toLocaleString():void 0},CAPITALIZE:UTIL.capitalizeEachWord,FORMAT_SUM:UTIL.formatSum},components:{dict:{props:{name:{type:String}},data:function(){return{content:""}},created:function(){var t=this.$props.name;-1!==t.indexOf("/")&&(t=t.split("/"));var e=window.lang(t),s=this.IS_DEV?"\x3c!--"+t+"--\x3e":"";e?this.$data.content=s+e:this.IS_DEV&&(this.$data.content="Словарная запись с ключом «"+t+"» не найдена",console.error(this.$data.content))},template:'<span v-html="content"></span>'},ifrmsg:{props:{name:{type:String}},data:function(){return{content:""}},created:function(){var t=this.$props.name,e=window.IFRMSG[t],s=this.IS_DEV?"\x3c!--"+t+"--\x3e":"";e?this.$data.content=s+e:this.IS_DEV&&(this.$data.content="Сообщение ИФР «"+t+"» не найдено в window.IFRMSG",console.error(this.$data.content))},template:'<span v-html="content"></span>'}},computed:{IS_DEV:function(){return window.PAGEDATA&&window.PAGEDATA.showErrors}}}},function(t,e,s){"use strict";var a=s(3),n=s.n(a),i=s(25),r=s.n(i),o=s(4);e.a=function(t){var e=new n.a({el:"#vue-app",mixins:[o.a],components:{devmenu:r.a,"page-component":t},template:'<div><devmenu v-if="IS_DEV"/><page-component/></div>'});window&&window.PAGEDATA&&window.PAGEDATA.showErrors&&(window.VUEI=e)}},,function(t,e,s){s(33);var a=s(1)(s(14),s(29),"data-v-f07fa446",null);t.exports=a.exports},,,function(t,e){t.exports={fake:{domain:"pass2.psi.oooinex.ru",port:":8090",protocol:"http://",get siteUrl(){return this.protocol+this.domain+(this.port||"")}},real:{domain:"pass.psi.oooinex.ru",protocol:"https://",get siteUrl(){return this.protocol+this.domain}},psiIp:"172.22.2.92"}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(15);e.default={name:"AuthHandlerSpecial",mixins:[a.a]}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(10);e.default={name:"DevMenu",computed:{homeUrl:function(){return a.fake.siteUrl},realUrl:function(){return window.location.href.replace(a.fake.siteUrl,a.real.siteUrl)}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(16);e.default={name:"PaymentHandlerSpecial",mixins:[a.a]}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(19),n=s(26),i=s.n(n),r=s(24),o=s.n(r);e.default={name:"CabinetSpecial",components:{"payment-handler":i.a,"auth-handler":o.a},mixins:[a.a]}},function(t,e,s){"use strict";e.a={}},function(t,e,s){"use strict";e.a={props:{jr:{type:Object,default:function(){return{}}},retry:{type:Boolean,default:!1},actor:{type:String}},data:function(){return{curCode:store.local.get("paymethod")||"BANK",bRetry:this.$props.retry,paymentAvailable:!0,LOADER:!1,HUMAN_ERROR:""}},computed:{list:function(){return this.$props.jr.paymentSystems},yandexMoney:function(){return this.$props.jr.yandexMoney},saleOrderId:function(){return this.$props.jr.saleOrderId||UTIL.pageData.orderid||UTIL.pageData.orderId||UTIL.pageData.saleOrderId},totalSum:function(){return this.$props.jr.totalSum},type:function(){return this.$props.jr.type||"TICKET"},
//!НЕ РАБОТАЕТ!
transactionId:function(){return this.$props.jr.transactionId}},methods:{select:function(t){yaCheckRequest&&yaCheckRequest.cancel(),this.$data.curCode=t.code},submit:function(t){var e=this;if(store.local.set("paymethod",e.$data.curCode),"YANDEX"!==e.$data.curCode)e.goPay(t);else{UTIL.log("Проверка возможности оплаты Яндексом");var s="/ticket/services/payment/possibility/check/journey/"+e.saleOrderId+"/"+UTIL.pageData.lang+UTIL.getServiceParams();yaCheckRequest=UTIL.ridQuery(s).fail(function(){UTIL.dialogMessage("Оплата Яндекс.Деньгами невозможна"),e.curCode="BANK"}).done(function(){e.goPay(t)})}},goPay:function(t){var e,s=this;if(s.totalSum)if("YANDEX"===s.$data.curCode)this.$refs.yaform.submit();else{if("BANK"!==s.$data.curCode)throw new Error("Не найден обработчик для кода "+curCode);e=window.UTIL.pageData.LayerLinks.bankAuth||"?layer_id=5734";var a={type:s.type,orderId:s.saleOrderId,actorType:s.$props.actor};t&&(a.transactionId=t),window.UTIL.ridQuery(e,a,s.$data).done(function(t){window.location.href=t.url}).always(function(){s.$parent&&!0===s.$parent.$data.LOADING_NEXT&&(s.$parent.$data.LOADING_NEXT=!1)}).fail(function(t,e){s.$parent&&"Оплата заказа невозможна"===t&&(s.$data.paymentAvailable=!1,s.$parent.$data.paymentAvailable=!1)})}else e="?layer_name=e3-result&zero=1&result=OK&orderId="+s.saleOrderId+UTIL.getServiceParams(),window.location.href=e},getImageSrc:function(t){return"/dbmm/images/61/28054/"+t.id}},mounted:function(){window.UTIL.log("payment-handler mounted"),!0===window.UTIL.pageData.showErrors&&(window.VUEI_paymentHandler=this)}}},function(t,e,s){"use strict";e.a={bind:function(t,e,s){function a(t,e,s){for(var a=e.split("."),n=a.pop(),i=0,r=a.length;i<r;i++)t=t[a[i]];t[n]=s}function n(t){$(document.body).toggleClass("jqui-datepicker-active",t)}var i=window.datePickerLoc({dateFormat:"dd.mm.yy",onClose:function(t){n(!1),a(s.context,e.expression,t)},beforeShow:function(){n(!0)}});$(t).datepicker(i)},update:function(t,e,s){$(t).datepicker("setDate",e.value)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(5),n=s(7),i=s.n(n);s.i(a.a)(i.a)},function(t,e,s){"use strict";function a(t){var e=this;!0===t?e.form.page++:(e.form.page=1,e.slots=[]);var s=$.extend({},e.form);if("history"in window&&"replaceState"in window.history){var a=$.extend(d,s);!1===e.bPageAfterBank&&(delete a.xmlmsg,delete a.orderId,delete a.paymentSystem,delete a.result),window.history.replaceState(null,null,"?"+$.param(a))}i.LOADING_ORDERS=!0,UTIL.ridQuery(PAGEDATA.LayerLinks.orderList,s,i).done(function(s){function a(t,e){return TDate.parse(t.date0)-TDate.parse(e.date0)}UTIL.log("Ответ на запрос списка заказов",s);var n=s.timestamp.substr(3,2)+"/"+s.timestamp.substr(0,2)+"/"+s.timestamp.substr(6,4)+" "+s.timestamp.substr(11),r=new Date(Date.parse(n));if(e.HUMAN_ERROR=null,s.slots&&!s.slots.length&&-1!=window.location.search.indexOf("tD=1")&&void 0!=window.sessionStorage.mobile_Test&&(s=window.sessionStorage.mobile_Test?JSON.parse(window.sessionStorage.mobile_Test):s,UTIL.log("Восстановлено из Хранилища",s)),void 0===s.slots){var o="Произошла ошибка. Пожалуйста, попробуйте выполнить запрос позже.";!0===window.PAGEDATA.showErrors&&(o+="\n"+JSON.stringify(s,null,2)),e.HUMAN_ERROR=o}else{for(var d=0;d<s.slots.length;d++){var u=s.slots[d];if("ON_AVISO"===u.jstatus&&(c++,UTIL.log("В ответе найдена поездка в статусе ON_AVISO",u)),u.lst.length>1&&u.lst.sort(a),u.refunds&&0!==u.refunds.length){var _=u.refunds[0];u.REFUND_MESSAGE=window.IFRMSG._orderRefundMessage.replace("{{./../../transactionId}}",ordslot.transactionId).replace("{{transferDate}}",_.transferDate).replace("{{amount}}",_.amount)}u.LINK_REFUND_REGISTER="?STRUCTURE_ID=735&layer_id=5963&transaction_id="+u.transactionId,u.defShowTime=s.defShowTime,u.mskTimeSuffix=s.mskTimeSuffix;for(var f=[],v=0;v<u.lst.length;v++){var m=u.lst[v];m.ELREG_IFRMSG="",m.LOADING_STATUSES=!1,m.STATUS=null,m.HIDE=!1,m.LOADER=!1,m.LINK_BLANK="?layer_id=5422&ORDER_ID="+m.N,m.LINK_PDF="/blank/ticket/download/pdf/order/"+m.N,m.LINK_AUTORACK="?STRUCTURE_ID=5235&layer_id=5473&app_order_id="+m.N,"1"!==window.PAGEDATA.BaseParams.UFS_HOTELS||m.arrived||(m.LINK_HOTEL=function(t){var e=t.lst[0],s=t.lst[1];if(e.arrived||!window.IFRMSG.UFS_HOTELS_ORDERS)return"";for(var a=[],n=0;n<e.lst.length;n++)a.push(e.lst[n].birthday);return UTIL.formatStr(window.IFRMSG.UFS_HOTELS_ORDERS,{code1:e.code1,date1:e.date1,time1:e.time1,birthdays:a.join(),bk_date0:s?s.date0:"",bk_time0:s?s.time0:""},["$%","$"]).replace(/http:\/\/pass/gm,window.location.protocol+"//pass")}(u)),m.HUMAN_ERROR="",m.SHOW_REFUNDED_ORDER=!1,m.journeyId=u.id,i.$data.DEBUG&&(m.ORDER_LINK=window.location.href+"&saleOrderId="+u.id),f.push({from:m.parentStation0||m.station0,to:m.parentStation1||m.station1,dir:m.dir});for(var p=0;p<m.lst.length;p++){var g=m.lst[p],n=m.date0.substr(3,2)+"/"+m.date0.substr(0,2)+"/"+m.date0.substr(6,4);g.dateTimeDeparture=new Date(Date.parse(n+" "+m.time0)),g.LINK_BLANK="?layer_id=5422&ORDER_ID="+m.N+"&ticket_id="+g.n,g.goodsTotalCost&&(g.goodsTotalCost,g.LINK_GOODS_LIST="?layer_id=5972&ticket_id="+g.n+"&order_id="+m.N,g.LINK_GOODS_BLANK_PDF="/blank/extendedService/download/pdf/serviceOrder/"+m.N),g.HUMAN_ERROR="",g.STATUS={NAME:g.status?window.lang(["TicketStatus",g.status]):"",CODE:g.status},m.STATUS=!!g.status,g.ORDER_ID=m.N,g.LOADING_STATUS=!1,g.LOADER=!1,g.LOADING_REFUND_TICKET=!1,g.LOADING_REFUND_INSURANCE=!1,g.LINK_PDF="/blank/ticket/download/pdf/order/"+m.N+"/"+window.PAGEDATA.lang,g.LINK_PNG="/blank/ticket/download/png/order/"+m.N+"/"+window.PAGEDATA.lang,g.SHOW_INSURANCES=!1,g.SHOW_REFUND_FOOD=!0,g.SHOW_REFUND_FOOD_MSG=!1,g.extendedServices&&g.extendedServices.length&&g.dateTimeDeparture-r<354e4&&(g.SHOW_REFUND_FOOD=!1,g.SHOW_REFUND_FOOD_MSG=!0),g.insurances[0]&&(g.INSUR=g.insurances[0],g.LINK_INSURANCE="?layer_id=5666&passenger_id="+g.insurances[0].passId,g.INSUR.passId&&(g.LINK_INS_PDF="/blank/insurance/download/pdf/passenger/"+g.INSUR.passId+"/"+window.PAGEDATA.lang)),g.policies[0]&&g.number==g.policies[0].ticketNumber?g.policies[0]&&(g.POLICY=g.policies[0],g.POLICY_DATE=g.policies[0].startDate+" — "+g.policies[0].finishDate,g.POLICY_AREA=e.DMSAREA[g.policies[0].areaId],g.POLICY_STATUS=e.POLICY_STATUSES[g.policies[0].statusId]):g.policies[0]}}var I=f[0].from,S=f[0].dir;if(f.length>1){for(var h=1;h<f.length;h++)f[h].dir!=S&&(I+=" — "+f[h].from,S=f[h].dir);I+=" — "+f[f.length-1].to,u.routeNames=I}!0===t&&e.slots.push(u)}!0!==t&&(e.slots=s.slots),c!==l&&(UTIL.dialogMessage($(".j-on-aviso-popup")),c=l),e.lastPage=s.lastPage,-1==window.location.search.indexOf("tD=1")||window.sessionStorage.mobile_Test||(window.sessionStorage.mobile_Test=JSON.stringify(s))}}).always(function(){e.LOADING_ORDERS=!1})}function n(t){document.querySelector("#download-iframe").setAttribute("src",t)}var i,r=s(4),o=s(17),d=window.PAGEDATA.params,c=0,l=0,u={data:function(){return{form:{date0:d.date0||"",date1:d.date1||"",number:d.number||"",name:d.name||"",mode:d.mode||"",type:d.type,transactionId:d.transactionId,saleOrderId:d.saleOrderId||d.orderId||"",result:d.result},slots:[],LOADING_ORDERS:!1,HUMAN_ERROR:"",DMSAREA:g_dmsArea,POLICY_STATUSES:g_policyStatus,refundMsg:!1,lastPage:!0,DEBUG:PAGEDATA.showErrors,bPageAfterBank:!!d.result,bShowRetryPayment:!1,PAYMENT_RESULT:d.result,foodDetails:{selectedMenuItems:!1,LOADING_REFUND:!1},foodList:[],foodListSelectedItem:"",bAuthFormVisible:!1}},filters:{},computed:{bShowForm:function(){return!1===this.bPageAfterBank},bShowBankResultBtns:function(){return!0===this.bPageAfterBank},journeyReservation:function(){return store.session("Reservation")||store.session("ResPg.result")||store.session("pass16_ResResponse")}},mixins:[r.a],mounted:function(){i=this,this.IS_DEV&&(window["VUEI_"+this.$options.name]=this),this.changeMode("active",!0),i.$data.bPageAfterBank?"OK"===d.result?"YANDEX"===d.paymentSystem?i.bankResult_checkPaymentYandex():i.bankResult_finalizePayment():i.bShowRetryPayment=!0:i.getOrders()},directives:{"jqui-datepicker":o.a},methods:{getOrders:a,gotoCabinet:function(){this.$data.HUMAN_ERROR="",$("html,body").animate({scrollTop:0},300),this.$data.bPageAfterBank=!1,this.$data.form.saleOrderId="",this.$data.PAYMENT_RESULT="",this.getOrders()},retryPayment:function(){this.$refs.paymentHandler.submit()},changeMode:function(t,e){if(this.$data.form.mode!==t){this.$data.form.mode=t;var s="active"===t,a=new Date,n=[UTIL.leftpad(a.getDate()),UTIL.leftpad(a.getMonth()+1),a.getFullYear()].join(".");this.$data.form.date0=s?n:"",this.$data.form.date1=s?"":n,e||this.getOrders()}},getStatusesForSaleOrder:function(t){var e=$(".ui-dialog-content:visible");if(0!==e.length&&e.dialog("close"),"function"==typeof $.scrollTo){var s=$("#hash-sord-"+t.id);$.scrollTo(s,200,{offset:-50})}for(var a=0;a<t.lst.length;a++){var n=t.lst[a];this.getStatuses(n)}},getStatuses:function(t,e){t.LOADING_STATUSES=!0,t.LOADER=!0,t.HUMAN_ERROR=null;var s={ORDER_ID:t.N},a={onIdle:function(e){t._statusRid=e.RID}};UTIL.ridQuery("?layer_id=5417",s,t,a).done(function(s){UTIL.log(s),a.HUMAN_ERROR=null,t._statusRid_timestamp=Date.now();var n=s.timestamp.substr(3,2)+"/"+s.timestamp.substr(0,2)+"/"+s.timestamp.substr(6,4)+" "+s.timestamp.substr(11),i=new Date(Date.parse(n));t.LOADER=!1;for(var r=!1,o=!1,d=s.lst,c=0;c<d.length;c++){for(var l=d[c],u=0;u<t.lst.length;u++){var _=t.lst[u],f=_.dateTimeDeparture-i<354e4;_.n===l.n&&(_.STATUS.NAME=l["name_"+window.PAGEDATA.lang],_.STATUS.CODE=l.status,_.LOADING_STATUS=!1,l.policies&&l.policies.length&&_.POLICY&&l.policies[0].number==_.POLICY.number&&(_.POLICY.statusId=l.policies[0].statusId,_.POLICY_STATUS=g_policyStatus[l.policies[0].statusId])),_.LOADER=!1,f&&(_.LOADING_REFUND_TICKET=f,_.SHOW_REFUND_FOOD=!1)}"REGISTERED"===l.status?(r=!0,f&&(_.LOADING_STATUS=f)):"PAID"===l.status?o=!0:"REFUNDED"===l.status&&(_.status=l.status)}!0===r&&!0===o?t.ELREG_IFRMSG="PST_ELREG_BOTH":!0===r?t.ELREG_IFRMSG="PST_ELREG_ETICKET_A4":!0===o&&(t.ELREG_IFRMSG="PST_ELREG_GET_COUPON"),"function"==typeof e&&e()}).always(function(){t.LOADING_STATUSES=!1})},changeStatus:function(t,e,s){if(!t.LOADING_STATUS||!1!==s){t.LOADING_STATUS=!0,t.LOADER=!0;var a={action:!0===s?"REGISTER":"UNREGISTER",ORDER_ID:e.N,ticket_id:t.n};UTIL.ridQuery("?layer_id=5418",a,t).done(function(t){"OK"===t.result&&i.getStatuses(e)}).always(function(){t.LOADING_STATUS=!1})}},refundTicket:function(t,e,s,a){if(!t.LOADING_REFUND_TICKET){t.LOADING_REFUND_TICKET=!0;var n={action:!0===a?"REFUND":"PREVIEW",ORDER_ID:e.N,ticket_id:t.n};UTIL.ridQuery("?layer_id=5421",n,t).done(function(n){t.HUMAN_ERROR=null,UTIL.log(n);var r=window.lang(["Ticket","The amount due for return: $summa$"]);if("lst"in n&&"sum"in n.lst[0]){for(var o={bMulti:n.lst.length>1,bDisabledCompanion:1===t.disabledTypeId,bYandex:"YANDEX_MONEY"===s.paymentMethod,bDMS:t.POLICY?t.POLICY.number&&40==t.POLICY.statusId:null,bDMS_cost:t.POLICY?t.POLICY.cost:null,bINSUR:t.INSUR?0==t.INSUR.bRefund:null,bINSUR_cost:t.INSUR?t.INSUR.cost:null,ord:e,list:[]},d=[],c=0,l=e.lst.length;c<l;c++){var u=e.lst[c];d[u.id]=u}for(var _=0,f=n.lst.length;_<f;_++){var v=n.lst[_],u=d[v.ticketNum];v=$.extend(u,v),v.summa=v.sum,v.text=UTIL.formatStr(r,{summa:v.sum,time:v.time,date:v.date},["$","$"]),o.list.push(v)}i.$data.refundMsg=o;var m={};m[window.lang("Make refund")]=function(a){i.refundTicket(t,e,s,!0),$(this).dialog("close")},m[window.lang("Cancel")]=function(t){$(this).dialog("close")},i.$nextTick(function(){var t={buttons:m};UTIL.dialogMessage($(".j-refund-popup"),t)})}else i.getStatuses(e);a&&t.INSUR&&i.$set(t.INSUR,"Refunded",1)}).always(function(){t.LOADING_REFUND_TICKET=!1})}},refundInsurance:function(t,e){var s={};s[lang("Make refund")]=function(s){$.ajax({url:"?layer_id=5664",type:"POST",dataType:"json",data:{ORDER_ID:e.N,passengerId:t.INSUR.passId,ticketNumber:t.id,ticket_id:t.n}}).success(function(e){"OK"===e.result&&i.$set(t.INSUR,"Refunded",1)}).error(function(t){UTIL.dialogMessage("В процессе возврата страховки произошла ошибка.<br/>Пожалуйста, повторите попытку позже.")}),$(this).dialog("close")},s[lang("Cancel")]=function(t){$(this).dialog("close")},UTIL.dialogMessage("Осуществить возврат страховки?",{buttons:s})},refundDMS:function(t,e){var s={};s[lang("Make refund")]=function(s){var a={journeyId:e.journeyId,policyNumber:t.POLICY.number};UTIL.ridQuery("?layer_id=5890",a,t,{}).done(function(e){"OK"===e.result&&(t.policies[0].statusId=70,t.POLICY_STATUS=g_policyStatus[t.policies[0].statusId]),"OK"==e.statusText&&(e=JSON.parse(e.responseText),UTIL.log("Ошибка при возврате полиса",e),UTIL.dialogMessage("В процессе возврата страховки произошла ошибка.<br/>Пожалуйста, обновите страницу и повторите попытку позже."))}).always(function(e){t.LOADING_REFUND_TICKET=!1,"OK"==e.statusText&&(UTIL.log("Ошибка при возврате полиса.",e),UTIL.dialogMessage("В процессе возврата страховки произошла ошибка.<br/>Пожалуйста, обновите страницу и повторите попытку позже."))}),$(this).dialog("close")},s[lang("Cancel")]=function(t){$(this).dialog("close")};var a=window.IFRMSG.POLICY_CABINET_REFUND_SUM+"&nbsp;"+t.policies[0].cost+"&nbsp;руб.<br/>"+window.IFRMSG.REFUND_INFO_CABINET+"<br/>Осуществить возврат полиса?";UTIL.dialogMessage(a,{buttons:s})},getBlank_insurance:function(t,e){n(location.origin+"/blank/insurance/download/"+e+"/passenger/"+t.INSUR.passId+"/"+window.PAGEDATA.lang)},getBlank_policy:function(t){n(t.POLICY.link)},showInsurances:function(t){!0===t.SHOW_INSURANCES?t.SHOW_INSURANCES=!1:t.SHOW_INSURANCES=!0},showRefundedOrder:function(t){!0===t.SHOW_REFUNDED_ORDER?t.SHOW_REFUNDED_ORDER=!1:t.SHOW_REFUNDED_ORDER=!0},getBlank_ticket:function(t,e,s){function a(){var a={origin:window.location.origin,format:t,orderId:e.N,lang:window.PAGEDATA.lang,random:1e5*Math.random()|0},i=UTIL.formatStr("{origin}/blank/ticket/download/{format}/order/{orderId}/{lang}?_rnd={random}",a);s&&s.n&&(i+="&ticketId="+s.n),e._statusRid&&(i+="&statusRid="+e._statusRid),n(i)}function r(t){return!t||(o-t)/6e4>5}var o=Date.now(),d=!1;if(s)d=!s.STATUS.CODE||r(e._statusRid_timestamp);else for(var c=0;c<e.lst.length;c++)if(!e.lst[c].STATUS.CODE||r(e._statusRid_timestamp)){d=!0;break}d?i.getStatuses(e,a):a()},getFoodDetails:function(t,e,s){if(this.foodDetails.selectedMenuItems&&this.foodDetails.ticketId===e.n)return this.foodDetails.selectedMenuItems=!1;for(var a=s.foodPattern.split(""),n=s.foodType&&s.foodType.replace(/\//g,"").split(""),i=0;i<a.length;i++)a[i]={foodPattern:a[i],foodCode:n[i]};this.foodDetails.ticketId=e.n,this.foodDetails.selectedMenuItems=s.foodCount},getFoodBlank:function(t,e,s,a){if("pdf"===s){n("/blank/extendedfood/download/pdf/order/"+e.N+"/serviceId/"+a.id+"?ticketId="+t.n)}else if("html"===s){var i=70===a.statusId?"&refund=1":"";return"?STRUCTURE_ID=735&layer_id=5962&tik_id="+t.id+"&ORDER_ID="+e.N+i}},refundFood:function(t,e,s){var a=function(){$(this).dialog("close")},n=this,i=function(a){var i=this;$(a.currentTarget).hide(),n.foodDetails.LOADING_REFUND=!0,UTIL.ridQuery("/ticket/secure/ru?layer_id=5945&action=Return&orderId="+t.N+"&ticketId="+e.n+"&serviceId="+s.id,{},{}).then(function(){n.foodDetails.LOADING_REFUND=!1,s.statusId=70,$(i).dialog("close")},function(t){n.foodDetails.LOADING_REFUND=!1,$(i).find(".jqui-dialog-message").html("При возврате дополнительного питания произошла ошибка: "+t)})};n.foodDetails.LOADING_REFUND=!0,UTIL.ridQuery("/ticket/secure/ru?layer_id=5945&action=Info&orderId="+t.N+"&ticketId="+e.n+"&serviceId="+s.id,{},{}).then(function(t){n.foodDetails.LOADING_REFUND=!1;var s=t.timestamp.substr(3,2)+"/"+t.timestamp.substr(0,2)+"/"+t.timestamp.substr(6,4)+" "+t.timestamp.substr(11),r=new Date(Date.parse(s));if(e.dateTimeDeparture-r<354e4)return e.SHOW_REFUND_FOOD_MSG=!0,void(e.SHOW_REFUND_FOOD=!1);var o=t.response.foodRefunds[0]&&t.response.foodRefunds[0].refundAmount,d={buttons:{}};d.buttons[lang("Make refund")]=i,d.buttons[lang("Cancel")]=a,UTIL.dialogMessage("Сумма к возврату за дополнительное питание: "+o+" руб.",d)},function(t){n.foodDetails.LOADING_REFUND=!1,{}[lang("Ok")]=a,UTIL.dialogMessage("Ошибка при получении информации о возврате: "+t)})},isTicketActionsAvailable:function(t,e){return!e.left&&!!t.STATUS.CODE&&"REFUNDED"!==t.STATUS.CODE},isInsuranceActive:function(t){return t.INSUR&&1!==t.INSUR.Refunded},isPolicyActive:function(t){return t.POLICY&&1!==t.POLICY.Refunded},isPolicyRefundAvailable:function(t,e){return this.isTicketActionsAvailable(t,e)&&t.POLICY_STATUS&&"ISSUED"==t.POLICY_STATUS.code},isInsuranceRefundAvailable:function(t,e){return"1"===window.PAGEDATA.BaseParams.is_insurance_refund&&this.isTicketActionsAvailable(t,e)&&this.isInsuranceActive(t)&&1===t.INSUR.bRefund},prepaidFood_visible:function(t,e){return!(e.left&&!e.foodId)&&t.food},addFood_visible:function(t){var e=!1;if(t.extendedServices&&t.extendedServices.length)for(var s=0;s<t.extendedServices.length;s++)if(t.extendedServices[s]&&1===t.extendedServices[s].typeId){e=!0;break}return t.addFood||e},addFood_getArray:function(t){var e,s=[];if(t.extendedServices&&t.extendedServices.length)for(e=0;e<t.extendedServices.length;e++)t.extendedServices[e]&&1===t.extendedServices[e].typeId&&(30===t.extendedServices[e].statusId?(t.extendedServices[e].isPurchased=!0,t.extendedServices[e].isRefunded=!1):70===t.extendedServices[e].statusId&&(t.extendedServices[e].isPurchased=!1,t.extendedServices[e].isRefunded=!0),t.extendedServices[e].isLast=t.extendedServices.length===e+1,s.push(t.extendedServices[e]));return 0===s.length&&!0===t.addFood&&(s=[{isLast:!0,isFake:!0}]),s},addFood_isBuyPossible:function(t){var e=!1;if(t.extendedServices&&t.extendedServices.length)for(var s=0;s<t.extendedServices.length;s++)if(t.extendedServices[s]&&1===t.extendedServices[s].typeId&&30===t.extendedServices[s].statusId){e=!0;break}return t.addFood&&!e},addFood_showMenuWindow:function(t){t=t||"/catering/public/ru?layer_name=catering-menu",window.open(t,"Menu","_blank, strWindowFeatures, height=400, width=737, scrollbars=1")},buyAdditionals:function(t,e,s,a){var n=$.extend({ticketId:s.n,pass:[$.extend({},s,{shortName:s.name,tariff:s.tariffId})]},s),i=$.extend({orderId:e.N,tickets:[n],type:e.carTypeRu,number2:e.train},e),r={saleOrderId:t.id,orders:[i],paymentSystems:[{id:2,code:"BANK",name:"Банковская карта",tip:"Оплата картами банков."}]};store.session("pass16_ResResponse",r),window.location.href=window.PAGEDATA.LayerLinks.additionals+"&reduced=true#/"+a},changeMeal:function(t,e,s,a){var n=this;UTIL.ridQuery("?layer_id=5713",{ORDER_ID:e.ORDER_ID}).then(function(s){if(s.list&&0===s.list.length)return void UTIL.dialogMessage("К сожалению, выбор типа питания для данного заказа недоступен");n.foodList=s,n.foodList.tikFoodName=e.foodName,n.foodList.curSlotId=a.id,n.foodList.curORDER_ID=t.N,n.foodList.curTicketId=e.n,i.$nextTick(function(){UTIL.dialogMessage($("#j-change-food-popup"),{buttons:{OK:function(){n.setChangedFood(),$(this).dialog("close")}}})})},function(t){UTIL.dialogMessage("Ошибка "+t)})},setChangedFood:function(){var t=this;console.log(this);var e=t.foodListSelectedItem.split("_"),s=e[0],a=e[1];for(var n in t.slots)if(t.slots[n].id===t.foodList.curSlotId){var i={ORDER_ID:t.foodList.curORDER_ID,ticket_id:t.foodList.curTicketId,foodId:a},r=n;UTIL.ridQuery("?layer_id=5718",i).done(function(){t.slots[r].lst[0].lst[0].foodName=s}).fail(function(t,e){UTIL.dialogMessage("Во время сохранения данных произошла ошибка "+e.info||t)})}},bankResult_finalizePayment:function(t){function e(t,e){"OK"!==d.result||"OK"!==t.result||e?s.LOADING_ORDERS=!1:(t.response&&t.response[0]&&t.response[0].saleOrderId&&(s.$data.form.saleOrderId=t.response[0].saleOrderId),s.getOrders())}var s=this,a=t?5726:5752,n={orderId:s.$data.form.saleOrderId};s.$data.form.transactionId&&"SERVICE"===s.$data.form.type&&(a=5954,n.type=s.$data.form.type,n.transactionId=s.$data.form.transactionId);var i="?layer_id="+a;s.LOADING_ORDERS=!0,UTIL.ridQuery(i,n,s.$data).done(function(t){e(t)}).fail(function(t){e(t,!0)})},bankResult_goStart:function(){var t;if("SPECIAL"===PAGEDATA.theme){var e=window.store.session("Steps");t=e&&e.trains?e.trains+"|_PREVENT_FORM_SUBMIT_":"/"}else t="REDESIGN"===PAGEDATA.theme?"?layer_name=e3-route":"/";window.location.href=t},bankResult_checkPaymentYandex:function(){function t(){window.UTIL.dialogMessage("Ошибка запроса статуса платежа Яндекс.Деньги")}var e=this,s="/ticket/services/status/journey/"+e.$data.form.saleOrderId+"/payment/"+window.PAGEDATA.lang,a={};e.$data.form.transactionId&&"SERVICE"===e.$data.form.type&&(a.type=e.$data.form.type,a.transactionId=e.$data.form.transactionId),e.LOADING_ORDERS=!0,UTIL.ridQuery(s,a,e.$data).done(function(s){"Error"===s.result?t():"OK"===s.result&&("PAID_YANDEX"===s.data?e.bankResult_finalizePayment(!0):"ISSUED"===s.data?e.getOrders():e.bankResult_checkPaymentYandex())}).fail(t).always(function(){e.LOADING_ORDERS=!1})},alert:window.UTIL.dialogMessage}};e.a=u},function(t,e,s){e=t.exports=s(0)(),e.push([t.i,"",""])},function(t,e,s){e=t.exports=s(0)(),e.push([t.i,".devbar[data-v-9fdb1872]{z-index:777;position:fixed;top:0;right:0;background:#fff;padding:15px 20px;border-radius:0 0 0 14px;box-shadow:-2px 2px 9px 1px #666;line-height:26px}.devbar .glyphicon[data-v-9fdb1872]{cursor:pointer}",""])},function(t,e,s){e=t.exports=s(0)(),e.push([t.i,"",""])},function(t,e,s){e=t.exports=s(0)(),e.push([t.i,"",""])},function(t,e,s){s(30);var a=s(1)(s(11),null,"data-v-6ecc6f64",null);t.exports=a.exports},function(t,e,s){s(31);var a=s(1)(s(12),s(27),"data-v-9fdb1872",null);t.exports=a.exports},function(t,e,s){s(32);var a=s(1)(s(13),s(28),"data-v-e59c5d94",null);t.exports=a.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"devbar"},[s("a",{attrs:{href:t.homeUrl}},[s("i",{staticClass:"glyphicon glyphicon-home"})]),t._v("  \n\t\t"),s("a",{attrs:{href:t.realUrl}},[s("i",{staticClass:"glyphicon glyphicon-new-window",attrs:{title:"Перейти на реальную (непроксированную) страницу. Не забудь сбилдить изменения"}})])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.paymentAvailable?[s("h3",[t._v("Способ оплаты")]),t._v(" "),t._l(t.list,function(e){return s("div",{staticClass:"pass-reserv-paymethod",class:{selected:t.curCode===e.code},attrs:{tabindex:"0"},on:{click:function(s){t.select(e)}}},[s("div",{staticClass:"row"},[t._m(0,!0),t._v(" "),s("div",{staticClass:"col-md-22"},[s("label",[s("span",{staticClass:"sr-only"},[s("input",{attrs:{type:"radio",name:e.name},domProps:{value:e.code}}),t._v("  \n\t\t\t\t\t\t")]),t._v("\n\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t")]),t._v(" "),s("br"),t._v("\n\t\t\t\t\t"+t._s(e.tip)+"\n\t\t\t\t")])])])}),t._v(" "),t.yandexMoney?s("form",{ref:"yaform",attrs:{action:t.yandexMoney.url||"https://money.yandex.ru/eshop.xml",method:"post"}},t._l(t.yandexMoney,function(e,a){return"url"!==a?s("input",{attrs:{name:a,type:"hidden"},domProps:{value:e}}):t._e()})):t._e()]:t._e(),t._v(" "),t.HUMAN_ERROR?s("pre",{staticClass:"pre-message pre-message-common"},[t._v(t._s(t.HUMAN_ERROR))]):t._e()],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-2 text-center"},[s("i",{staticClass:"glyphicon glyphicon-ok"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.bShowForm?s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-24"},[s("form",{staticClass:"pass-cabinet-form form-horizontal",on:{submit:function(e){e.preventDefault(),t.getOrders(e)}}},[s("div",{staticClass:"row form-group"},[s("div",{staticClass:"col-md-4"},[s("label",{attrs:{for:"id-name"}},[s("dict",{attrs:{name:"Last name"}})],1),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control input-lg",attrs:{id:"id-name",tabindex:"0"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||(t.form.name=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("label",{attrs:{for:"id-number"}},[s("dict",{attrs:{name:"Train number"}})],1),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.number,expression:"form.number"}],staticClass:"form-control input-lg",attrs:{id:"id-number",tabindex:"0"},domProps:{value:t.form.number},on:{input:function(e){e.target.composing||(t.form.number=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("label",{attrs:{for:"id-date0"}},[s("dict",{attrs:{name:"Departure Date"}}),t._v(" "),s("dict",{attrs:{name:"predlog/ot"}})],1),t._v(" "),s("input",{directives:[{name:"jqui-datepicker",rawName:"v-jqui-datepicker",value:t.form.date0,expression:"form.date0"}],staticClass:"form-control input-lg",attrs:{"data-custom-default-value":"true",id:"id-date0",tabindex:"0"}})]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("label",{attrs:{for:"id-date1"}},[s("dict",{attrs:{name:"predlog/do"}})],1),t._v(" "),s("input",{directives:[{name:"jqui-datepicker",rawName:"v-jqui-datepicker",value:t.form.date1,expression:"form.date1"}],staticClass:"form-control input-lg",attrs:{id:"id-date1",tabindex:"0"}})]),t._v(" "),s("div",{staticClass:"col-md-4 text-right"},[s("label",[t._v(" ")]),t._v(" "),s("button",{staticClass:"btn btn-block btn-lg",attrs:{type:"submit"}},[s("dict",{attrs:{name:"Find"}})],1)])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-24 text-center"},[s("div",{staticClass:"btn-group"},[s("a",{staticClass:"btn btn-sm",class:{active:"active"===t.form.mode},attrs:{tabindex:"0"},on:{click:function(e){t.changeMode("active")}}},[s("dict",{attrs:{name:"CabinetMode_active"}})],1),t._v(" "),s("a",{staticClass:"btn btn-sm",class:{active:"archive"===t.form.mode},attrs:{tabindex:"0"},on:{click:function(e){t.changeMode("archive")}}},[s("dict",{attrs:{name:"CabinetMode_archive"}})],1)])])])])])]):t._e(),t._v(" "),t.PAYMENT_RESULT?s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-24"},["OK"===t.PAYMENT_RESULT?s("h1",[s("dict",{attrs:{name:"Ticket/headerPaymentOk"}})],1):s("div",{staticClass:"alert alert-danger"},["CANCEL"===t.PAYMENT_RESULT?s("ifrmsg",{attrs:{name:"PSTKT_BANK_CANCEL"}}):t._e(),t._v(" "),"DECLINE"===t.PAYMENT_RESULT?s("ifrmsg",{attrs:{name:"PSTKT_BANK_CANCEL"}}):t._e()],1)])]):t._e(),t._v(" "),t.HUMAN_ERROR?s("pre",{staticClass:"col-md-24 pre-message pre-message-common"},[t._v(t._s(t.HUMAN_ERROR))]):t._e(),t._v(" "),t._l(t.slots,function(e,a){return s("div",{attrs:{id:"hash-sord-"+e.id}},t._l(e.lst,function(n,i){return s("div",[s("div",{staticClass:"pass-orderList-order",class:{"pass-orderList-order-refunded":n.STATUS}},[s("h2",{staticClass:"row"},[s("div",{staticClass:"col-md-24"},[t._v("\n\t\t\t\t\t\t"+t._s(t._f("CAPITALIZE")(n.station0))+" — "+t._s(t._f("CAPITALIZE")(n.station1))+" \n\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-17"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-7"},[s("dict",{attrs:{name:"Train"}}),t._v(" №\n\t\t\t\t\t\t\t")],1),t._v(" "),s("div",{staticClass:"col-md-17"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(n.train)+"\n\t\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-7"},[s("dict",{attrs:{name:"Departure"}})],1),t._v(" "),s("div",{staticClass:"col-md-17"},[s("div",{class:"datetime-wrap datetime-wrap_first-"+e.defShowTime},[n.localDate0?s("div",{staticClass:"datetime-local"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(n.localDate0)+" "),s("b",{staticClass:"datetime-hhmm"},[t._v(t._s(n.localTime0)+" "+t._s(n.timeDeltaString0))])]):t._e(),t._v(" "),s("div",{staticClass:"datetime-msk"},[t._v("\t\n\t\t\t\t\t\t\t\t\t\t"+t._s(n.date0)+" "),s("b",{staticClass:"datetime-hhmm"},[t._v(t._s(n.time0)+" "),n.Msk0?s("span",[t._v(t._s(e.mskTimeSuffix))]):t._e()])])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-7"},[s("dict",{attrs:{name:"Arrival"}})],1),t._v(" "),s("div",{staticClass:"col-md-17"},[s("div",{class:"datetime-wrap datetime-wrap_first-"+e.defShowTime},[n.localDate1?s("div",{staticClass:"datetime-local"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(n.localDate1)+" "),s("b",{staticClass:"datetime-hhmm"},[t._v(t._s(n.localTime1)+" "+t._s(n.timeDeltaString1))])]):t._e(),t._v(" "),s("div",{staticClass:"datetime-msk"},[t._v("\t\n\t\t\t\t\t\t\t\t\t\t"+t._s(n.date1)+" "),s("b",{staticClass:"datetime-hhmm"},[t._v(t._s(n.time1)+" "),n.Msk1?s("span",[t._v(t._s(e.mskTimeSuffix))]):t._e()])])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-7"},[s("dict",{attrs:{name:"Ticket/Car"}})],1),t._v(" "),s("div",{staticClass:"col-md-17"},[n.bWithoutPlaces?s("ifrmsg",{attrs:{name:"ANY_VAGON_LASTOCHKA"}}):[t._v(t._s(n.car)+" ("+t._s(n.carCls)+")")]],2)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-7"},[s("dict",{attrs:{name:"Ticket/transactionId"}})],1),t._v(" "),s("div",{staticClass:"col-md-17"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.transactionId)+"\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"col-md-7 text-right"},[s("div",{staticClass:"btn-group"},[s("a",{staticClass:"btn btn-sm",attrs:{target:"_blank",tabindex:"0",href:n.LINK_BLANK}},[s("dict",{attrs:{name:"Order form"}})],1),t._v(" "),s("button",{staticClass:"btn btn-sm",attrs:{tabindex:"0",disabled:n.LOADING_STATUSES},on:{click:function(e){t.getBlank_ticket("pdf",n)},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13)&&t._k(e.keyCode,"space",32))return null;t.getBlank_ticket("pdf",n)}}},[t._v("\n\t\t\t\t\t\t\t\tPDF\n\t\t\t\t\t\t\t")])]),t._v(" "),s("br"),s("br"),t._v(" "),n.left?t._e():s("button",{staticClass:"pass-order-elreg-get btn btn-md",attrs:{tabindex:"0",disabled:n.LOADING_STATUSES},on:{click:function(e){t.getStatuses(n)}}},[s("i",{staticClass:"glyphicon glyphicon-info-sign"}),t._v(" "),s("dict",{attrs:{name:"Ticket/Request for ticket status"}})],1),t._v(" "),t.IS_DEV?[s("a",{staticClass:"pass-order-debug-link",attrs:{href:n.ORDER_LINK,title:"Открыть только текущий заказ (ссылка видна только при включённом показе ошибок)"}},[s("i",{staticClass:"glyphicon glyphicon-share-alt"})])]:t._e()],2)]),t._v(" "),n.autoCarrier?[s("div",{staticClass:"row pass-ord-group"},[t._m(0,!0),t._v(" "),s("div",{staticClass:"col-md-7 text-right"},[s("a",{staticClass:"btn btn-sm",attrs:{href:n.LINK_AUTORACK,target:"_blank"}},[n.autoOrder?[t._v("Просмотр заявки на перевозку")]:[t._v("Заявка на услугу перевозки автомобиля")]],2)])])]:t._e(),t._v(" "),n.HUMAN_ERROR?s("div",{staticClass:"row"},[s("pre",{staticClass:"col-md-24 pre-message pre-message-common"},[t._v(t._s(n.HUMAN_ERROR))])]):t._e(),t._v(" "),!n.left&&n.avisoTimer?[s("div",{staticClass:"alert alert-info"},[t._v("\n\t\t\t\t\t\tЗаказ подтверждается.  "+t._s(n.avisoTimer)+" мин.\n\t\t\t\t\t")])]:t._e(),t._v(" "),n.bNonRefundable?[s("div",{staticClass:"alert alert-danger"},[s("ifrmsg",{attrs:{name:"REFUND_FORBIDDEN_LASTOCHKA"}})],1)]:t._e(),t._v(" "),s("div",t._l(n.lst,function(i){return s("div",{staticClass:"pass-orderList-ticket",class:{"pass-orderList-ticket-refunded":"REFUNDED"===i.status}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-24"},[s("div",{staticClass:"pass-ord-ticket-name"},[t._v(t._s(t._f("CAPITALIZE")(i.name)))])]),t._v(" "),s("div",{staticClass:"col-md-17"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-7"},[s("dict",{attrs:{name:"Document number"}})],1),t._v(" "),s("div",{staticClass:"col-md-17"},[t._v("\t\n\t\t\t\t\t\t\t\t\t\t"+t._s(i.doc)+"\t\n\t\t\t\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-7"},[s("dict",{attrs:{name:"Place"}})],1),t._v(" "),s("div",{staticClass:"col-md-17"},[n.bWithoutPlaces?s("ifrmsg",{attrs:{name:"VAGON_NO_SEATS_LASTOCHKA"}}):i.place?[s("span",{staticClass:"text-bold"},[t._v(t._s(i.place))]),t._v(" "+t._s(i.seatsTypeName)+"\n\t\t\t\t\t\t\t\t\t\t")]:[s("dict",{attrs:{name:"Ticket/withoutPlace"}})]],2)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-7"},[s("dict",{attrs:{name:"Ticket/Cost"}})],1),t._v(" "),s("div",{staticClass:"col-md-17"},[t._v("\t\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("FORMAT_SUM")(i.cost))+" руб.\n\t\t\t\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-7"},[s("dict",{attrs:{name:"Tariff"}})],1),t._v(" "),s("div",{staticClass:"col-md-17"},[t._v("\t\n\t\t\t\t\t\t\t\t\t\t"+t._s(i.tariff)+"\n\t\t\t\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-7"},[s("dict",{attrs:{name:"Status"}})],1),t._v(" "),s("div",{staticClass:"col-md-17"},[i.LOADER||n.LOADER?s("i",{staticClass:"spin"}):s("div",{staticClass:"pass-orderList-status"},[i.STATUS.NAME?s("b",[t._v(t._s(i.STATUS.NAME))]):s("a",{staticClass:"link-dotted",on:{click:function(e){t.getStatuses(n)}}},[s("dict",{attrs:{name:"Reset"}})],1)])])])]),t._v(" "),s("div",{staticClass:"col-md-7 text-right"},[s("div",{staticClass:"form-group btn-group"},[s("a",{staticClass:"btn btn-sm",attrs:{target:"_blank",tabindex:"0",href:i.LINK_BLANK}},[s("dict",{attrs:{name:"Ticket blank"}})],1),t._v(" "),s("button",{staticClass:"btn btn-sm",attrs:{tabindex:"0",disabled:n.LOADING_STATUSES},on:{click:function(e){t.getBlank_ticket("pdf",n,i)},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13)&&t._k(e.keyCode,"space",32))return null;t.getBlank_ticket("pdf",n,i)}}},[t._v("PDF")]),t._v(" "),s("button",{staticClass:"btn btn-sm",attrs:{tabindex:"0",disabled:n.LOADING_STATUSES},on:{click:function(e){t.getBlank_ticket("png",n,i)},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13)&&t._k(e.keyCode,"space",32))return null;t.getBlank_ticket("png",n,i)}}},[t._v("PNG")])]),t._v(" "),"REFUNDED"===i.STATUS.CODE?s("div",{staticClass:"form-group"},[s("a",{staticClass:"btn btn-sm",attrs:{target:"_blank",tabindex:"0",href:n.LINK_BLANK}},[s("dict",{attrs:{name:"Ticket/Refund coupon"}})],1)]):t._e()])]),t._v(" "),i.HUMAN_ERROR?[s("div",{staticClass:"row"},[s("pre",{staticClass:"col-md-24 pre-message pre-message-common"},[t._v(t._s(i.HUMAN_ERROR))])])]:t._e(),t._v(" "),t.isTicketActionsAvailable(i,n)?[s("div",{staticClass:"pass-orderList-ticket-btnWrap row"},[s("div",{staticClass:"col-md-24 text-right"},[s("button",{directives:[{name:"show",rawName:"v-show",value:"PAID"===i.STATUS.CODE,expression:"tik.STATUS.CODE==='PAID'"}],staticClass:"btn btn-sm",attrs:{tabindex:"0",disabled:i.LOADING_STATUS},on:{click:function(e){t.changeStatus(i,n,!0)},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13)&&t._k(e.keyCode,"space",32))return null;t.changeStatus(i,n,!0)}}},[s("dict",{attrs:{name:"Perform an electronic registration"}})],1),t._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:"REGISTERED"===i.STATUS.CODE,expression:"tik.STATUS.CODE==='REGISTERED'"}],staticClass:"btn btn-sm",attrs:{tabindex:"0",disabled:i.LOADING_STATUS},on:{click:function(e){t.changeStatus(i,n,!1)},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13)&&t._k(e.keyCode,"space",32))return null;t.changeStatus(i,n,!1)}}},[s("dict",{attrs:{name:"Cancel electronic registration"}})],1),t._v(" "),n.bNonRefundable?t._e():s("button",{staticClass:"btn btn-sm",attrs:{tabindex:"0",disabled:i.LOADING_REFUND_TICKET},on:{click:function(s){t.refundTicket(i,n,e)},keyup:function(s){if(!("button"in s)&&t._k(s.keyCode,"enter",13)&&t._k(s.keyCode,"space",32))return null;t.refundTicket(i,n,e)}}},[s("dict",{attrs:{name:"Order a refund"}})],1)])])]:t._e(),t._v(" "),e.REFUND_MESSAGE?[s("div",{staticClass:"pass-orderList-refund-msg__cont"},[s("div",{staticClass:"refund-msg__item",domProps:{innerHTML:t._s(e.REFUND_MESSAGE)}})])]:t._e(),t._v(" "),i.INSUR?[s("div",{staticClass:"row pass-ord-group"},[s("div",{staticClass:"col-md-17"},[s("div",{staticClass:"pass-ord-group-head"},[s("ifrmsg",{attrs:{name:"INSURANCE_FORM_ENABLE_TOOLTIP"}})],1),t._v(" "),1==i.INSUR.Refunded?[s("ifrmsg",{attrs:{name:"INSURANCE_RETURN_STATUS"}})]:[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-7"},[s("dict",{attrs:{name:"Company"}}),t._v(":\n\t\t\t\t\t\t\t\t\t\t\t")],1),t._v(" "),s("div",{staticClass:"col-md-17"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(i.INSUR.shortName)+"\n\t\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),s("div",{staticClass:"col-md-7"},[s("dict",{attrs:{name:"Stoimost"}}),t._v(":\n\t\t\t\t\t\t\t\t\t\t\t")],1),t._v(" "),s("div",{staticClass:"col-md-17"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("FORMAT_SUM")(i.INSUR.cost))+" руб.\n\t\t\t\t\t\t\t\t\t\t\t")])])]],2),t._v(" "),s("div",{staticClass:"col-md-7 text-right"},[t.isInsuranceActive(i)?s("div",{staticClass:"btn-group"},[1!=i.INSUR.Refunded?s("a",{staticClass:"btn btn-sm",attrs:{target:"_blank",tabindex:"0",href:i.LINK_INSURANCE,title:"Бланк страховки от несчастных случаев"}},[s("dict",{attrs:{name:"Insurance policy"}})],1):t._e(),t._v(" "),s("a",{staticClass:"btn btn-sm",attrs:{tabindex:"0",title:"Бланк страховки от несчастных случаев в формате PDF"},on:{click:function(e){t.getBlank_insurance(i,"pdf")},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13)&&t._k(e.keyCode,"space",32))return null;t.getBlank_insurance(i,"pdf")}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tPDF\n\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),t.isInsuranceRefundAvailable(i,n)?s("button",{staticClass:"btn btn-sm",attrs:{tabindex:"0"},on:{click:function(e){t.refundInsurance(i,n)},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13)&&t._k(e.keyCode,"space",32))return null;t.refundInsurance(i,n)}}},[s("dict",{attrs:{name:"Order a refund"}})],1):t._e()]):t._e()])])]:t._e(),t._v(" "),i.POLICY?[s("div",{staticClass:"row pass-ord-group"},[s("div",{staticClass:"col-md-17"},[s("div",{staticClass:"pass-ord-group-head"},[s("ifrmsg",{attrs:{name:"POLICY_FORM_ENABLE_TOOLTIP"}})],1),t._v(" "),"ISSUED"!=i.POLICY_STATUS.code?s("div",{domProps:{innerHTML:t._s(i.POLICY_STATUS.name)}}):s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-7"},[s("dict",{attrs:{name:"Company"}}),t._v(":\n\t\t\t\t\t\t\t\t\t\t\t")],1),t._v(" "),s("div",{staticClass:"col-md-17"},[s("ifrmsg",{attrs:{name:"POLICY_COMPANY"}})],1),t._v(" "),s("div",{staticClass:"col-md-7"},[s("ifrmsg",{attrs:{name:"POLICY_FORM_PRICE"}})],1),t._v(" "),s("div",{staticClass:"col-md-17"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("FORMAT_SUM")(i.POLICY.cost))+" руб.\n\t\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),s("div",{staticClass:"col-md-7"},[s("ifrmsg",{attrs:{name:"POLICY_FORM_TERRITORY"}})],1),t._v(" "),s("div",{staticClass:"col-md-17"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(i.POLICY_AREA)+"\n\t\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),s("div",{staticClass:"col-md-7"},[s("dict",{attrs:{name:"Policy valid till"}}),t._v(":\n\t\t\t\t\t\t\t\t\t\t\t")],1),t._v(" "),s("div",{staticClass:"col-md-17"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(i.POLICY_DATE)+"\n\t\t\t\t\t\t\t\t\t\t\t")])])])]),t._v(" "),s("div",{staticClass:"col-md-7 text-right"},[s("div",{staticClass:"btn-group"},["ISSUED"==i.POLICY_STATUS.code?s("a",{staticClass:"btn btn-sm",attrs:{target:"_blank",tabindex:"0",href:i.POLICY.link,title:"Бланк полиса ДМС в формате PDF"}},[t._v("PDF")]):t._e(),t._v(" "),t.isPolicyRefundAvailable(i,n)?s("button",{staticClass:"btn btn-sm",attrs:{tabindex:"0",disabled:n.LOADING_STATUSES},on:{click:function(e){t.refundDMS(i,n)},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13)&&t._k(e.keyCode,"space",32))return null;t.refundDMS(i,n)}}},[s("dict",{attrs:{name:"Order a refund"}})],1):t._e()])])])]:t._e(),t._v(" "),t.prepaidFood_visible(i,n)?[s("div",{staticClass:"row pass-ord-group"},[s("div",{staticClass:"col-md-17"},[s("div",{staticClass:"pass-ord-group-head"},[t._v("\n\t\t\t\t\t\t\t\t\t\tПредоплаченое питание\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),i.foodId?s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-7"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tВыбранный рацион:\n\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),s("div",{staticClass:"col-md-17"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(i.foodName)+"\n\t\t\t\t\t\t\t\t\t\t")])]):t._e()]),t._v(" "),n.left||"REFUNDED"==i.status?t._e():s("div",{staticClass:"col-md-7 text-right"},[s("a",{staticClass:"btn btn-sm",on:{click:function(s){s.preventDefault(),t.changeMeal(n,i,a,e)}}},[n.foodId?[t._v("Сменить")]:[t._v("Выбрать")],t._v(" тип питания\n\t\t\t\t\t\t\t\t\t")],2)])])]:t._e(),t._v(" "),t.addFood_visible(i)?t._l(t.addFood_getArray(i),function(a){return s("div",{staticClass:"row pass-ord-group"},[s("div",{staticClass:"col-md-17"},[s("div",{staticClass:"pass-ord-group-head"},[s("ifrmsg",{attrs:{name:"ADD_FOOD"}})],1),t._v(" "),a.isRefunded?s("dict",{attrs:{name:"Refunded"}}):a.isPurchased?[s("div",[s("a",{staticClass:"link-dotted",on:{click:function(e){e.preventDefault(),t.getFoodDetails(n,i,a)}}},[t._l(a.foodPattern.split(""),function(e,a){return[a?[t._v("/")]:t._e(),t._v(" "),"З"===e?s("dict",{attrs:{name:"Breakfast"}}):t._e(),t._v(" "),"О"===e?s("dict",{attrs:{name:"Lunch"}}):t._e(),t._v(" "),"У"===e?s("dict",{attrs:{name:"Dinner"}}):t._e()]})],2),t._v(". "),s("dict",{attrs:{name:"Stoimost"}}),t._v(": "+t._s(t._f("FORMAT_SUM")(a.cost))+" руб.\n\t\t\t\t\t\t\t\t\t\t")],1),t._v(" "),t.foodDetails.selectedMenuItems&&t.foodDetails.ticketId===i.n?t._l(t.foodDetails.selectedMenuItems,function(e){return s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-8 text-right"},["З"===e?s("dict",{attrs:{name:"Breakfast"}}):t._e(),t._v(" "),"О"===e?s("dict",{attrs:{name:"Lunch"}}):t._e(),t._v(" "),"У"===e?s("dict",{attrs:{name:"Dinner"}}):t._e()],1),t._v(" "),s("div",{staticClass:"col-xs-8 text-center"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.variant)+"\n\t\t\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),s("div",{staticClass:"col-xs-8"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.count)+" шт.\n\t\t\t\t\t\t\t\t\t\t\t\t")])])}):t._e()]:t._e()],2),t._v(" "),s("div",{staticClass:"col-md-7 text-right"},[a.isFake?t._e():s("div",{staticClass:"btn-group"},[s("a",{staticClass:"btn btn-sm",attrs:{href:t.getFoodBlank(i,n,"html",a),target:"_blank"}},[s("dict",{attrs:{name:"Receipt"}})],1),t._v(" "),s("a",{staticClass:"btn btn-sm",on:{click:function(e){t.getFoodBlank(i,n,"pdf",a)}}},[t._v("PDF")])]),t._v(" "),s("div",{staticClass:"btn-group"},[i.SHOW_REFUND_FOOD&&a.isPurchased?s("button",{staticClass:"btn btn-sm",attrs:{disabled:t.foodDetails.LOADING_REFUND},on:{click:function(e){e.preventDefault(),t.refundFood(n,i,a)}}},[s("dict",{attrs:{name:"Return addtional food"}})],1):t._e(),t._v(" "),s("button",{staticClass:"btn btn-sm",attrs:{href:t.LINK("catering-menu-page")},on:{click:function(e){e.preventDefault(),t.addFood_showMenuWindow()}}},[t._v("Посмотреть меню")]),t._v(" "),t.addFood_isBuyPossible(i)?s("button",{staticClass:"btn btn-sm",on:{click:function(s){s.preventDefault(),t.buyAdditionals(e,n,i,"food")}}},[s("dict",{attrs:{name:"Buy"}})],1):t._e()])])])}):t._e(),t._v(" "),i.addGoods||i.goodsTotalCost?[s("div",{staticClass:"row pass-ord-group"},[t._m(1,!0),t._v(" "),i.goodsTotalCost?s("div",{staticClass:"col-sm-6 text-right"},[s("b",[s("span",{domProps:{innerHTML:t._s(i.goodsTotalCost)}}),t._v(" "),s("dict",{attrs:{name:"RUB"}})],1)]):t._e(),t._v(" "),s("div",{staticClass:"col-sm-7"},[i.addGoods&&"REFUNDED"!=i.status?s("a",{staticClass:"link-dotted",attrs:{href:"#"},on:{click:function(s){s.preventDefault(),t.buyAdditionals(e,n,i,"goods")}}},[t._v("Купить товары")]):t._e()]),t._v(" "),i.goodsTotalCost?s("div",{staticClass:"col-sm-17 text-right"},[s("a",{staticClass:"link-dotted",attrs:{href:i.LINK_GOODS_LIST}},[t._v("Оформленные товары")]),t._v(" "),s("a",{staticClass:"link-dotted",staticStyle:{"margin-left":"1em"},attrs:{target:"_blank",href:i.LINK_GOODS_BLANK_PDF}},[t._v("PDF")])]):t._e()])]:t._e()],2)})),t._v(" "),n.ELREG_IFRMSG?[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-18"},[s("ifrmsg",{attrs:{name:n.ELREG_IFRMSG}})],1)])]:t._e(),t._v(" "),n.LINK_HOTEL?[s("div",{staticClass:"cab-hotels-block",domProps:{innerHTML:t._s(n.LINK_HOTEL)}})]:t._e()],2)])}))}),t._v(" "),s("div",{staticClass:"text-center"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!1===t.LOADING_ORDERS,expression:"LOADING_ORDERS===false"}]},[s("a",{directives:[{name:"show",rawName:"v-show",value:!t.lastPage,expression:"!lastPage"}],staticClass:"btn",attrs:{tabindex:"0"},on:{click:function(e){e.preventDefault(),t.getOrders(!0)}}},[s("dict",{attrs:{name:"Show more"}})],1),t._v(" "),0!==t.slots.length||!0!==t.bShowForm||t.HUMAN_ERROR?t._e():s("div",[s("ifrmsg",{attrs:{name:"PSTKT_CABINET_MSG_EMPTY_SLOTS"}})],1)]),t._v(" "),s("i",{directives:[{name:"show",rawName:"v-show",value:!0===t.LOADING_ORDERS,expression:"LOADING_ORDERS===true"}],staticClass:"spin spin-lg"})]),t._v(" "),s("div",{staticClass:"hdn"},[s("div",{staticClass:"j-on-aviso-popup"},[s("ifrmsg",{attrs:{name:"PST_WAIT_TRIP_STATUS_BLIND"}}),t._v(" "),t._l(t.slots,function(e,a){return s("div",{attrs:{id:"hash-sord-"+e.id}},["ON_AVISO"===e.jstatus?s("div",[s("a",{staticClass:"link-dotted",on:{click:function(s){t.getStatusesForSaleOrder(e)}}},[s("dict",{attrs:{name:"Ticket/transactionId"}}),t._v(" "+t._s(e.transactionId)+"\n\t\t\t\t\t\t")],1)]):t._e()])})],2),t._v(" "),t.refundMsg?s("div",{staticClass:"j-refund-popup"},[t.refundMsg.bMulti?s("p",[t.refundMsg.bDisabledCompanion?s("ifrmsg",{attrs:{name:"DPEOPLE_TICKET_SIMULTANEOUS_RETURN"}}):t._e(),t._v(" "),t.refundMsg.bDisabledCompanion?t._e():s("dict",{attrs:{name:"Only the simultaneous return of several tickets at once is possible!"}})],1):t._e(),t._v(" "),t._l(t.refundMsg.list,function(e){return s("div",{staticClass:"form-group"},[s("dict",{attrs:{name:"Departure"}}),t._v(" "+t._s(t.refundMsg.ord.date0)+" "+t._s(t.refundMsg.ord.time0)+", "),s("dict",{attrs:{name:"Train"}}),t._v(" \n\t\t\t\t\t"+t._s(t.refundMsg.ord.train)+", "),s("dict",{attrs:{name:"Ticket/Car"}}),t._v(" "+t._s(t.refundMsg.ord.car)+", "),s("dict",{attrs:{name:"place"}}),t._v(" "+t._s(e.place)+", "+t._s(e.name)+"\n\n\t\t\t\t\t"),s("div",{domProps:{innerHTML:t._s(e.message)}}),t._v(" "),s("br")],1)}),t._v(" "),t.refundMsg.bINSUR?s("div",{staticClass:"form-group"},[s("ifrmsg",{attrs:{name:"INSURANCE_REFUND_SUM"}}),t._v(" "),s("span",{domProps:{innerHTML:t._s(t.refundMsg.bINSUR_cost)}}),t._v(" руб.")],1):t._e(),t._v(" "),t.refundMsg.bDMS?s("div",{staticClass:"form-group"},[s("ifrmsg",{attrs:{name:"POLICY_CABINET_REFUND_SUM"}}),t._v(" "),s("span",{domProps:{innerHTML:t._s(t.refundMsg.bDMS_cost)}}),t._v(" руб.")],1):t._e(),t._v(" "),s("div",{staticClass:"form-group"},[s("ifrmsg",{attrs:{name:"REFUND_INFO_CABINET"}})],1),t._v(" "),t.refundMsg.bYandex?s("ifrmsg",{attrs:{name:"REFUND_RULES_YANDEX_MONEY"}}):t._e(),t._v(" "),t.refundMsg.bYandex?t._e():s("ifrmsg",{attrs:{name:"REFUND_RULES_BANK"}})],2):t._e()]),t._v(" "),s("div",{staticStyle:{display:"none"}},[s("div",{attrs:{id:"j-change-food-popup"}},[s("div",{staticClass:"j-mealList food-selector"},[s("h1",[s("dict",{attrs:{name:"Selecting the type of food"}})],1),t._v(" "),s("div",{staticStyle:{background:"#eee",padding:"1em","margin-bottom":"1em"}},[s("div",[s("p",[s("b",[s("dict",{attrs:{name:"Service expiration moment"}}),t._v(" \n\t\t\t\t\t\t\t\t")],1)]),t._v(" "),s("ifrmsg",{attrs:{name:"PSTKT_MSG_FOOD_PRELIM"}})],1)]),t._v(" "),s("b",[s("dict",{attrs:{name:"FoodService/Select food type"}})],1),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"j-list"},t._l(t.foodList.list,function(e,a){return s("div",{staticClass:"j-food-list-item food-selector__item"},[s("div",{staticClass:"j-header food-selector__item-head"},[s("label",{staticStyle:{display:"block"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.foodListSelectedItem,expression:"foodListSelectedItem"}],attrs:{type:"radio",name:"food-type",id:e.id},domProps:{value:e.name+"_"+e.id,checked:e.name==t.foodList.tikFoodName,checked:t._q(t.foodListSelectedItem,e.name+"_"+e.id)},on:{__c:function(s){t.foodListSelectedItem=e.name+"_"+e.id}}}),t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t"),s("div",{staticClass:"food-selector__toggler-down",staticStyle:{float:"right"}},[t._v("▼")])])]),t._v(" "),s("div",{staticClass:"j-descr food-selector__item-descr"},[s("div",{staticClass:"message-box"},[e.shortDescr?s("div",{staticClass:"food-selector__item-descr-short"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.shortDescr)+"\n\t\t\t\t\t\t\t\t\t")]):t._e(),t._v(" "),s("div",[e.hasImage?s("div",{staticStyle:{float:"left",width:"270px"}},[s("img",{staticStyle:{"max-width":"250px"}})]):t._e(),t._v(" "),e.descr?s("div",{staticStyle:{float:"left",width:"300px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.descr)+"\n\t\t\t\t\t\t\t\t\t\t")]):t._e(),t._v(" "),s("div",{staticStyle:{clear:"both"}})])])])])}))])])]),t._v(" "),t.bShowBankResultBtns?[t.bShowRetryPayment?s("payment-handler",{ref:"paymentHandler",attrs:{jr:t.journeyReservation}}):t._e(),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8"},[t.bShowRetryPayment?s("div",[s("a",{staticClass:"btn btn-lg",on:{click:t.retryPayment}},[t._v("\n\t\t\t\t\t\t\tПопытаться оплатить ещё раз\n\t\t\t\t\t\t")]),t._v(" "),t.LOADING_ORDERS?s("i",{staticClass:"spin spin-xs"}):t._e()]):t._e()]),t._v(" "),s("div",{staticClass:"col-md-16 text-right"},[s("a",{staticClass:"btn btn-md",attrs:{href:t.LINK("route-2012")},on:{click:function(e){e.preventDefault(),t.bankResult_goStart(e)}}},[s("dict",{attrs:{name:"Ticket/start ticket processing first"}})],1),t._v("  \n\t\t\t\t\t"),s("a",{staticClass:"btn btn-md",attrs:{href:"LINK('cabinet-2012')"},on:{click:function(e){e.preventDefault(),t.gotoCabinet(e)}}},[s("dict",{attrs:{name:"Go to My orders"}})],1)])])]:t._e()],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-17"},[s("div",{staticClass:"pass-ord-group-head"},[t._v("\n\t\t\t\t\t\t\t\tПеревозка транспортного средства\n\t\t\t\t\t\t\t")]),t._v("\n\t\t\t\t\t\t\tДля данного поезда вы можете оформить заявку на перевозку транспортного средства (автомобиля)\n\t\t\t\t\t\t")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-sm-18"},[s("div",{staticClass:"pass-ord-group-head"},[t._v("\n\t\t\t\t\t\t\t\t\t\tТовары\n\t\t\t\t\t\t\t\t\t")])])}]}},function(t,e,s){var a=s(20);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(2)("b6ee53a6",a,!0)},function(t,e,s){var a=s(21);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(2)("152fd8b0",a,!0)},function(t,e,s){var a=s(22);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(2)("01c28b0e",a,!0)},function(t,e,s){var a=s(23);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(2)("90e1e3ce",a,!0)},function(t,e){t.exports=function(t,e){for(var s=[],a={},n=0;n<e.length;n++){var i=e[n],r=i[0],o=i[1],d=i[2],c=i[3],l={id:t+":"+n,css:o,media:d,sourceMap:c};a[r]?a[r].parts.push(l):s.push(a[r]={id:r,parts:[l]})}return s}}],[18]);
//# sourceMappingURL=cabinet_special--bundle.js.map