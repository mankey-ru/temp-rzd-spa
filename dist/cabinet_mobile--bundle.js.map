{"version":3,"sources":["webpack:///cabinet_mobile--bundle.js","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/css-loader/lib/css-base.js","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/component-normalizer.js","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-style-loader/lib/addStylesClient.js","webpack:///./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/mixins/index.js","webpack:///./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/entry-points/_makeRoot.js","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/pages/cabinet-mobile.vue","webpack:///./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/hosts.js","webpack:///auth-handler-mobile.vue","webpack:///devmenu.vue","webpack:///payment-handler-mobile.vue","webpack:///cabinet-mobile.vue","webpack:///./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/payment-handler/payment-handler.js","webpack:///./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/directives/jqui-datepicker.js","webpack:///./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/entry-points/cabinet-mobile.js","webpack:///./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/pages/cabinet.js","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/auth-handler/auth-handler-mobile.vue?5eed","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/payment-handler/payment-handler-mobile.vue?0515","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/pages/cabinet-mobile.vue?0d42","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/devmenu.vue?d67c","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/auth-handler/auth-handler-mobile.vue","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/devmenu.vue","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/payment-handler/payment-handler-mobile.vue","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/auth-handler/auth-handler-mobile.vue?a7f2","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/payment-handler/payment-handler-mobile.vue?6f36","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/pages/cabinet-mobile.vue?c4c8","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/devmenu.vue?39b8","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/auth-handler/auth-handler-mobile.vue?1723","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/payment-handler/payment-handler-mobile.vue?1a81","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/pages/cabinet-mobile.vue?0109","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/devmenu.vue?e174","webpack:///C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-style-loader/lib/listToStyles.js"],"names":["webpackJsonp","module","exports","list","toString","result","i","this","length","item","push","join","modules","mediaQuery","alreadyImportedModules","id","rawScriptExports","compiledTemplate","scopeId","cssModules","esModule","scriptExports","type","default","options","render","staticRenderFns","_scopeId","computed","Object","keys","forEach","key","__webpack_require__","addStylesToDom","styles","domStyle","stylesInDom","refs","j","parts","addStyle","createStyleElement","styleElement","document","createElement","head","appendChild","obj","update","remove","querySelector","isProduction","noop","parentNode","removeChild","isOldIE","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","bind","applyToTag","newObj","css","media","sourceMap","index","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","insertBefore","setAttribute","sources","btoa","unescape","encodeURIComponent","JSON","stringify","firstChild","hasDocument","DEBUG","Error","listToStyles","getElementsByTagName","navigator","test","userAgent","toLowerCase","parentId","_isProduction","newList","mayRemove","textStore","replacement","filter","Boolean","__webpack_exports__","methods","DICT","indexOf","split","window","lang","LINK","PAGEDATA","LayerLinks","console","error","filters","DF_FULL","val","date","Date","toLocaleString","CAPITALIZE","UTIL","capitalizeEachWord","FORMAT_SUM","formatSum","components","dict","props","name","String","data","content","created","$props","value","comment","IS_DEV","$data","template","ifrmsg","IFRMSG","showErrors","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_0_vue___default","n","__WEBPACK_IMPORTED_MODULE_1__comps_devmenu_vue__","__WEBPACK_IMPORTED_MODULE_1__comps_devmenu_vue___default","__WEBPACK_IMPORTED_MODULE_2__mixins__","pageComponent","vm","a","el","mixins","devmenu","page-component","VUEI","Component","fake","domain","port","protocol","siteUrl","real","psiIp","defineProperty","form","password","save","isAuth","getAuth","authCookie","getAuthCookie","authFields","onRequest","errorAuth","showForm","authSuccess","showNotAuthMsg","mounted","vueAuthInstance","authObj","Session","get","Storage","set","p","lst","cookie","$","trim","titlePage","isVisible","pageTitle","text","toggleForm","$parent","bAuthFormVisible","showAuthMsg","isAuthF","toggleBlocks","submitForm","isAuthCookie","saveAuth","sv","nm","psw","_request","copyFields","AuthFields","updateMMenu","closeForm","getOrders","clearAuthCookie","openForm","st","success","setTimeout","Hosts","homeUrl","realUrl","location","href","replace","__WEBPACK_IMPORTED_MODULE_0__payment_handler_js__","__WEBPACK_IMPORTED_MODULE_0__cabinet_js__","__WEBPACK_IMPORTED_MODULE_1__comps_payment_handler_payment_handler_mobile_vue__","__WEBPACK_IMPORTED_MODULE_1__comps_payment_handler_payment_handler_mobile_vue___default","__WEBPACK_IMPORTED_MODULE_2__comps_auth_handler_auth_handler_mobile_vue__","__WEBPACK_IMPORTED_MODULE_2__comps_auth_handler_auth_handler_mobile_vue___default","payment-handler","auth-handler","jr","retry","actor","curCode","store","local","bRetry","paymentAvailable","LOADER","HUMAN_ERROR","paymentSystems","yandexMoney","saleOrderId","pageData","orderid","orderId","totalSum","transactionId","select","ps","yaCheckRequest","cancel","code","submit","goPay","log","url","getServiceParams","ridQuery","fail","dialogMessage","done","$refs","yaform","bankAuth","params","actorType","response","always","LOADING_NEXT","errData","getImageSrc","VUEI_paymentHandler","binding","vnode","_parsePathAndSet","keyArr","lastKey","pop","len","_setBodyClass","boo","body","toggleClass","opts","datePickerLoc","dateFormat","onClose","dateStr","context","expression","beforeShow","datepicker","__WEBPACK_IMPORTED_MODULE_0__makeRoot_js__","__WEBPACK_IMPORTED_MODULE_1__pages_cabinet_mobile_vue__","__WEBPACK_IMPORTED_MODULE_1__pages_cabinet_mobile_vue___default","bNext","page","slots","extend","history","params2url","REQ","bPageAfterBank","xmlmsg","paymentSystem","replaceState","param","LOADING_ORDERS","orderList","responseData","sortByDate","b","TDate","parse","date0","ticDate","timestamp","substr","dateTimeNow","search","undefined","sessionStorage","herr","sord","jstatus","ON_AVISO_cnt","sort","refunds","sordRefund","REFUND_MESSAGE","_orderRefundMessage","ordslot","transferDate","amount","LINK_REFUND_REGISTER","defShowTime","mskTimeSuffix","routeNames","k","ord","ELREG_IFRMSG","LOADING_STATUSES","STATUS","HIDE","LINK_BLANK","N","LINK_PDF","LINK_AUTORACK","BaseParams","UFS_HOTELS","arrived","LINK_HOTEL","ordBack","UFS_HOTELS_ORDERS","bdarray","birthday","formatStr","code1","date1","time1","birthdays","bk_date0","bk_time0","time0","SHOW_REFUNDED_ORDER","journeyId","ORDER_LINK","from","parentStation0","station0","to","parentStation1","station1","dir","tik","dateTimeDeparture","goodsTotalCost","LINK_GOODS_LIST","LINK_GOODS_BLANK_PDF","NAME","status","CODE","ORDER_ID","LOADING_STATUS","LOADING_REFUND_TICKET","LOADING_REFUND_INSURANCE","LINK_PNG","SHOW_INSURANCES","SHOW_REFUND_FOOD","SHOW_REFUND_FOOD_MSG","extendedServices","insurances","INSUR","LINK_INSURANCE","passId","LINK_INS_PDF","policies","number","ticketNumber","POLICY","POLICY_DATE","startDate","finishDate","POLICY_AREA","DMSAREA","areaId","POLICY_STATUS","POLICY_STATUSES","statusId","routeName","directional","r","ON_AVISO_cnt_prev","lastPage","downloadFile","__WEBPACK_IMPORTED_MODULE_0__mixins__","__WEBPACK_IMPORTED_MODULE_1__directives_jqui_datepicker_js__","component","mode","g_dmsArea","g_policyStatus","refundMsg","bShowRetryPayment","PAYMENT_RESULT","foodDetails","selectedMenuItems","LOADING_REFUND","foodList","foodListSelectedItem","bShowForm","bShowBankResultBtns","journeyReservation","session","$options","changeMode","bankResult_checkPaymentYandex","bankResult_finalizePayment","directives","jqui-datepicker","gotoCabinet","animate","scrollTop","retryPayment","paymentHandler","newMode","bDontMakeRequest","bActive","d","formattedDate","leftpad","getDate","getMonth","getFullYear","getStatusesForSaleOrder","$activeDialog","dialog","scrollTo","$sord","offset","getStatuses","callback","requestRidOptions","onIdle","res","_statusRid","RID","_statusRid_timestamp","now","hasWithER","hasWithoutER","statuses","stat","blockRefund","changeStatus","bEnable","action","ticket_id","refundTicket","bForceRefund","msgTemplate","rfnd","bMulti","bDisabledCompanion","disabledTypeId","bYandex","paymentMethod","bDMS","bDMS_cost","cost","bINSUR","bRefund","bINSUR_cost","ordTicketList","lenk","ticket","refundItem","ticketNum","summa","sum","time","confirmButtons","evt","$nextTick","buttons","$set","refundInsurance","ajax","dataType","passengerId","insrRetundRes","refundDMS","policyNumber","statusText","responseText","msg","POLICY_CABINET_REFUND_SUM","REFUND_INFO_CABINET","getBlank_insurance","format","origin","getBlank_policy","link","showInsurances","showRefundedOrder","getBlank_ticket","downloadBlankTicket","urlParams","random","Math","ridTimestampInvalid","ridTimestamp","currentTimestamp","statusCheckNeeded","getFoodDetails","extendedService","ticketId","foodPattern","selectedVariants","foodType","foodCode","foodCount","getFoodBlank","refundParam","refundFood","closeDialog","self","refund","dialogElement","currentTarget","hide","then","reason","find","html","foodRefunds","refundAmount","isTicketActionsAvailable","left","isInsuranceActive","Refunded","isPolicyActive","isPolicyRefundAvailable","isInsuranceRefundAvailable","is_insurance_refund","prepaidFood_visible","foodId","food","addFood_visible","hasFood","typeId","addFood","addFood_getArray","foodArray","isPurchased","isRefunded","isLast","isFake","addFood_isBuyPossible","hasPurchased","addFood_showMenuWindow","open","buyAdditionals","addType","_tik","pass","shortName","tariff","tariffId","_ord","tickets","carTypeRu","number2","train","pass16_ResResponse","orders","tip","additionals","changeMeal","ordslot_index","tikFoodName","foodName","curSlotId","curORDER_ID","curTicketId","OK","setChangedFood","curN","err","info","bNoCostCheck","paymentCheckDispatch","bErrorMode","layerId","bankResult_goStart","theme","steps","trains","onYaError","alert","_vm","_h","$createElement","_c","_self","staticClass","attrs","data-type","on","$event","preventDefault","_v","rawName","size","title","domProps","input","target","composing","checked","Array","isArray","_i","__c","$$a","$$el","$$c","$$i","concat","slice","_m","click","_e","src","_l","class","selected","ref","method","_s","for","data-custom-default-value","active","order-refunded","order-refunded-show","_k","keyCode","glyphicon-chevron-up","glyphicon-chevron-down","brand","car","carCls","localDate0","localTime0","timeDeltaString0","localDate1","localTime1","timeDeltaString1","disabled","keyup","innerHTML","avisoTimer","ticket-refunded","doc","place","seatsTypeName","_f","staticStyle","margin-top","bNonRefundable","margin-right","display","white-space","text-align","font-size","ritem","locals","newStyles","part"],"mappings":"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","file":"cabinet_mobile--bundle.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */\n/***/ (function(module, exports) {\n\n/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  scopeId,\n  cssModules\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  // inject cssModules\n  if (cssModules) {\n    var computed = options.computed || (options.computed = {})\n    Object.keys(cssModules).forEach(function (key) {\n      var module = cssModules[key]\n      computed[key] = function () { return module }\n    })\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\nvar listToStyles = __webpack_require__(34)\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nmodule.exports = function (parentId, list, _isProduction) {\n  isProduction = _isProduction\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[data-vue-ssr-id~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n\n\n/***/ }),\n/* 3 */,\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/**\r\n\tГлобальные миксины\r\n\tИмена глобальных методов и функций - капсом\r\n*/\n\n//const moment = require('moment')\n//moment.locale('ru');\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n\tmethods: {\n\t\tDICT: function DICT(key) {\n\t\t\t// для вывода слов лучше использовать компонент <dict name=\"MY_DICT_KEY\"/>, функция нужна например для вывода в атрибуты\n\t\t\tif (key.indexOf('/') !== -1) {\n\t\t\t\tkey = key.split('/');\n\t\t\t}\n\t\t\treturn window.lang(key);\n\t\t},\n\t\tLINK: function LINK(key) {\n\t\t\tif (window.PAGEDATA && window.PAGEDATA.LayerLinks && window.PAGEDATA.LayerLinks[key]) {\n\t\t\t\treturn window.PAGEDATA.LayerLinks;\n\t\t\t} else {\n\t\t\t\tconsole.error('Не найдена ссылка window.PAGEDATA.LayerLinks.' + key);\n\t\t\t\treturn '';\n\t\t\t}\n\t\t}\n\t},\n\tfilters: {\n\t\tDF_FULL: function DF_FULL(val) {\n\t\t\t// DateFormat_full\n\t\t\tif (!val) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\tvar date = new Date(val);\n\t\t\tif (date.toLocaleString) {\n\t\t\t\treturn date.toLocaleString();\n\t\t\t}\n\t\t\t//return moment(val).format('MM.DD.YYYY hh:mm');\n\t\t},\n\t\tCAPITALIZE: UTIL.capitalizeEachWord,\n\t\tFORMAT_SUM: UTIL.formatSum\n\t},\n\tcomponents: {\n\t\t'dict': {\n\t\t\tprops: {\n\t\t\t\tname: {\n\t\t\t\t\ttype: String\n\t\t\t\t}\n\t\t\t},\n\t\t\tdata: function data() {\n\t\t\t\treturn {\n\t\t\t\t\tcontent: ''\n\t\t\t\t};\n\t\t\t},\n\t\t\tcreated: function created() {\n\t\t\t\tvar key = this.$props.name;\n\t\t\t\tif (key.indexOf('/') !== -1) {\n\t\t\t\t\tkey = key.split('/');\n\t\t\t\t}\n\t\t\t\tvar value = window.lang(key);\n\t\t\t\tvar comment = this.IS_DEV ? '<!--' + key + '-->' : '';\n\t\t\t\tif (value) {\n\t\t\t\t\tthis.$data.content = comment + value;\n\t\t\t\t} else if (this.IS_DEV) {\n\t\t\t\t\tthis.$data.content = '\\u0421\\u043B\\u043E\\u0432\\u0430\\u0440\\u043D\\u0430\\u044F \\u0437\\u0430\\u043F\\u0438\\u0441\\u044C \\u0441 \\u043A\\u043B\\u044E\\u0447\\u043E\\u043C \\xAB' + key + '\\xBB \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u0430';\n\t\t\t\t\tconsole.error(this.$data.content);\n\t\t\t\t}\n\t\t\t},\n\t\t\ttemplate: '<span v-html=\"content\"></span>'\n\t\t},\n\t\t'ifrmsg': {\n\t\t\tprops: {\n\t\t\t\tname: {\n\t\t\t\t\ttype: String\n\t\t\t\t}\n\t\t\t},\n\t\t\tdata: function data() {\n\t\t\t\treturn {\n\t\t\t\t\tcontent: ''\n\t\t\t\t};\n\t\t\t},\n\t\t\tcreated: function created() {\n\t\t\t\tvar key = this.$props.name;\n\t\t\t\tvar value = window.IFRMSG[key];\n\t\t\t\tvar comment = this.IS_DEV ? '<!--' + key + '-->' : '';\n\t\t\t\tif (value) {\n\t\t\t\t\tthis.$data.content = comment + value;\n\t\t\t\t} else if (this.IS_DEV) {\n\t\t\t\t\tthis.$data.content = '\\u0421\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435 \\u0418\\u0424\\u0420 \\xAB' + key + '\\xBB \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E \\u0432 window.IFRMSG';\n\t\t\t\t\tconsole.error(this.$data.content);\n\t\t\t\t}\n\t\t\t},\n\t\t\ttemplate: '<span v-html=\"content\"></span>'\n\t\t}\n\t},\n\tcomputed: { // отвечает за показ стектрейсов, подробный вывод в консоль, глобальные переменные - ссылки на инстанс VUEI и всякое такое\n\t\tIS_DEV: function IS_DEV() {\n\t\t\treturn window.PAGEDATA && window.PAGEDATA.showErrors;\n\t\t}\n\t}\n});\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__comps_devmenu_vue__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__comps_devmenu_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__comps_devmenu_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mixins__ = __webpack_require__(4);\n\n\n\n\n/** Функция, создающая корневой инстанс Vue, призвана избежать дублирования кода */\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (pageComponent) {\n\n\tvar vm = new __WEBPACK_IMPORTED_MODULE_0_vue___default.a({\n\t\tel: '#vue-app',\n\t\tmixins: [__WEBPACK_IMPORTED_MODULE_2__mixins__[\"a\" /* default */]],\n\t\tcomponents: {\n\t\t\tdevmenu: __WEBPACK_IMPORTED_MODULE_1__comps_devmenu_vue___default.a,\n\t\t\t'page-component': pageComponent\n\t\t},\n\t\ttemplate: '<div><devmenu v-if=\"IS_DEV\"/><page-component/></div>'\n\t});\n\n\tif (window && window.PAGEDATA && window.PAGEDATA.showErrors) {\n\t\twindow.VUEI = vm;\n\t};\n});\n\n/*\r\n\timport Vue from 'vue'\r\n\timport router from './cabinet-router.js'\r\n\timport store from '@store.js'\r\n\timport devmenu from '@comps/devmenu.vue'\r\n\timport mixins from '@mixins'\r\n\r\n\tvar vm = new Vue({\r\n\t\tel: '#vue-app',\r\n\t\trouter,\r\n\t\tstore,\t\r\n\t\tmixins: [mixins],\r\n\t\tcomponents: {devmenu},\r\n\t\ttemplate: '<div><devmenu v-if=\"IS_DEV\"/><router-view/></div>'\r\n\t\t// вместо темплейте, если компонент один, можно указать render: (h) => h(Theme),\r\n\t});\r\n\r\n\tif (window && window.PAGEDATA && window.PAGEDATA.showErrors) {\r\n\t\twindow.VUEI = vm;\r\n\t}\r\n*/\n\n/***/ }),\n/* 6 */,\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(32)\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(14),\n  /* template */\n  __webpack_require__(28),\n  /* scopeId */\n  \"data-v-5e48d1ae\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 8 */,\n/* 9 */,\n/* 10 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t// Хосты также указаны в секции scripts в package.json, тут уж никак от дублирования не избавишься\n\tfake: {\n\t\tdomain: 'pass2.psi.oooinex.ru',\n\t\tport: ':8090', // :1488,\n\t\tprotocol: 'http://',\n\t\tget siteUrl() {\n\t\t\treturn this.protocol + this.domain + (this.port || '');\n\t\t}\n\t},\n\treal: {\n\t\tdomain: 'pass.psi.oooinex.ru',\n\t\tprotocol: 'https://',\n\t\tget siteUrl() {\n\t\t\treturn this.protocol + this.domain;\n\t\t}\n\t},\n\tpsiIp: '172.22.2.92'\n};\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n\tname: 'AuthHandlerMobile',\n\tdata: function data() {\n\t\treturn {\n\t\t\tform: { // поля формы можно задать в урле\n\t\t\t\tname: '',\n\t\t\t\tpassword: '',\n\t\t\t\tsave: ''\n\t\t\t},\n\t\t\tisAuth: window.getAuth(),\n\t\t\tauthCookie: window.getAuthCookie(),\n\t\t\tauthFields: [['nm', 'j_username'], ['psw', 'j_password'], ['c', 'CAPTCHA']],\n\t\t\tonRequest: false,\n\t\t\terrorAuth: false,\n\t\t\tshowForm: false,\n\t\t\tauthSuccess: false,\n\t\t\tshowNotAuthMsg: window.getAuth() ? false : true\n\t\t};\n\t},\n\tmounted: function mounted() {\n\t\twindow.vueAuthInstance = this; // глобальная ссылка используется в common2016.js (ridQuery)\n\t},\n\tcomputed: {\n\t\tgetAuth: function getAuth() {\n\t\t\t// Получить объект авторизации, если он есть\n\t\t\t// Поля: nm, psw, sv=true|false\n\t\t\tvar authKey = 'auth',\n\t\t\t    authObj = Session.get(authKey);\n\t\t\tif (!authObj) {\n\t\t\t\tauthObj = Storage.get(authKey);\n\t\t\t\tif (authObj) {\n\t\t\t\t\tSession.set(authKey, authObj);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn authObj;\n\t\t},\n\t\tgetAuthCookie: function getAuthCookie() {\n\t\t\tvar i,\n\t\t\t    p,\n\t\t\t    key,\n\t\t\t    lst = document.cookie.split(';');\n\t\t\tfor (i in lst) {\n\t\t\t\tp = lst[i].split('=');\n\t\t\t\tkey = $.trim(p[0]);\n\t\t\t\tif (key == 'LtpaToken2') {\n\t\t\t\t\treturn p[1];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn '';\n\t\t}\n\t},\n\tmethods: {\n\t\ttitlePage: function titlePage(isVisible) {\n\t\t\tvar pageTitle = isVisible ? 'Авторизация' : $('#CommonTitle').data('title');\n\t\t\t$('#CommonTitle').text(pageTitle);\n\t\t},\n\t\ttoggleForm: function toggleForm(isVisible) {\n\t\t\t// isVisible - активна форма авторизации\n\t\t\tthis.showForm = !!isVisible;\n\t\t\tthis.$parent.bAuthFormVisible = !!isVisible;\n\t\t\tthis.titlePage(isVisible);\n\t\t\tthis.showAuthMsg(this.isAuthF());\n\t\t},\n\t\ttoggleBlocks: function toggleBlocks(showForm, onRequest, errorAuth) {\n\t\t\t// toggleBlocks(1, 0, 0)\n\t\t\tthis.showForm = showForm ? true : false;\n\t\t\tthis.onRequest = onRequest ? true : false;\n\t\t\tthis.errorAuth = errorAuth ? true : false;\n\t\t},\n\t\tisAuthF: function isAuthF() {\n\t\t\treturn !!getAuth();\n\t\t},\n\t\tshowAuthMsg: function showAuthMsg(isAuth) {\n\t\t\tthis.showNotAuthMsg = this.showForm ? false : !isAuth; // подсказка об авторизации должна выводится только в списке\n\t\t},\n\t\tsubmitForm: function submitForm(form) {\n\t\t\t// Алгоритм авторизации:\n\t\t\t// 1. Запрос auth\n\t\t\t// 2. Проверка куки\n\t\t\t// 3. Если кука есть, сохранить объект авторизации и закрыть модальное окно\n\t\t\tvar data = this,\n\t\t\t    authObj = {\n\t\t\t\tnm: form.name,\n\t\t\t\tpsw: form.password,\n\t\t\t\tsv: form.save\n\t\t\t};\n\t\t\tthis.toggleBlocks(0, 1, 0); // показать [форму авторизации, лоадер, ошибки]\n\n\t\t\t_request('auth', copyFields({}, authObj, AuthFields), 0, 0, function () {\n\t\t\t\tif (isAuthCookie()) {\n\t\t\t\t\t// Авторизация на сервере выполнена успешно. Сохраняем объект авторизации для Радона\n\t\t\t\t\tsaveAuth(authObj);\n\t\t\t\t\tupdateMMenu();\n\t\t\t\t\tdata.closeForm(true);\n\t\t\t\t\tdata.$parent.getOrders(); // после успешной авторизации получить заново список заказов\n\t\t\t\t} else {\n\t\t\t\t\t// Ошибка авторизации. Либо неправильные логин с паролем, либо ошибка на сервере... не имеет значения\n\t\t\t\t\t// TODO: Тут нужно предусмотреть механизм показа капчи\n\t\t\t\t\tthis.toggleBlocks(1, 0, 1);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// Возвращает 1, если клиент авторизован в системе (есть нужная кука, проставленная сервером)\n\t\t\tfunction isAuthCookie() {\n\t\t\t\treturn !!getAuthCookie();\n\t\t\t}\n\n\t\t\tfunction getAuthCookie() {\n\t\t\t\tvar i,\n\t\t\t\t    p,\n\t\t\t\t    key,\n\t\t\t\t    lst = document.cookie.split(';');\n\t\t\t\tfor (i in lst) {\n\t\t\t\t\tp = lst[i].split('=');\n\t\t\t\t\tkey = $.trim(p[0]);\n\t\t\t\t\tif (key == 'LtpaToken2') {\n\t\t\t\t\t\treturn p[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tfunction saveAuth(authObj) {\n\t\t\t\t// необходимо для авторизации Радона и вывода логина в меню.\n\t\t\t\tvar authKey = 'auth';\n\t\t\t\tSession.set(authKey, authObj);\n\t\t\t\tStorage.set(authKey, authObj && authObj.sv ? authObj : 0);\n\t\t\t}\n\t\t}, // submitForm\n\t\tclearAuthCookie: function clearAuthCookie() {\n\t\t\tdocument.cookie = \"LtpaToken2=; expires=Thu, 01-Jan-1970 00:00:01 GMT;\";\n\t\t},\n\t\topenForm: function openForm(st) {\n\t\t\tthis.toggleForm(true);\n\t\t},\n\t\tcloseForm: function closeForm(success) {\n\t\t\tvar data = this;\n\t\t\tdata.toggleBlocks(0, 0, 0);\n\t\t\tif (success) {\n\t\t\t\tdata.authSuccess = true;\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tdata.authSuccess = false;\n\t\t\t\t\tdata.toggleForm(false);\n\t\t\t\t}, 1000);\n\t\t\t} else {\n\t\t\t\tdata.toggleForm(false);\n\t\t\t}\n\t\t}\n\t}\n});\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\nvar Hosts = __webpack_require__(10);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n\tname: 'DevMenu',\n\tcomputed: {\n\t\thomeUrl: function homeUrl() {\n\t\t\treturn Hosts.fake.siteUrl;\n\t\t},\n\t\trealUrl: function realUrl() {\n\t\t\treturn window.location.href.replace(Hosts.fake.siteUrl, Hosts.real.siteUrl);\n\t\t}\n\t}\n\t/*function getCabinetUrlPrefix(layerId, bAccessible) { // 5901, 5975\n \tvar formatContext = bAccessible ? '/accessible' : '';\n \treturn `${Hosts.fake.siteUrl}/sale/secure/ru${formatContext}?STRUCTURE_ID=704&layer_id=${layerId}`;\n }*/\n\n});\n\n/***/ }),\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__payment_handler_js__ = __webpack_require__(15);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({ name: 'PaymentHandlerMobile', mixins: [__WEBPACK_IMPORTED_MODULE_0__payment_handler_js__[\"a\" /* default */]] });\n\n/***/ }),\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__cabinet_js__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__comps_payment_handler_payment_handler_mobile_vue__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__comps_payment_handler_payment_handler_mobile_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__comps_payment_handler_payment_handler_mobile_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__comps_auth_handler_auth_handler_mobile_vue__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__comps_auth_handler_auth_handler_mobile_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__comps_auth_handler_auth_handler_mobile_vue__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n\tname: 'CabinetMobile',\n\tcomponents: {\n\t\t'payment-handler': __WEBPACK_IMPORTED_MODULE_1__comps_payment_handler_payment_handler_mobile_vue___default.a,\n\t\t'auth-handler': __WEBPACK_IMPORTED_MODULE_2__comps_auth_handler_auth_handler_mobile_vue___default.a\n\t},\n\tmixins: [__WEBPACK_IMPORTED_MODULE_0__cabinet_js__[\"a\" /* default */]]\n});\n\n/***/ }),\n/* 15 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// Компонент выбора платёжной системы и перехода к оплате\n// минимально необходимый вызов:\n// <payment-handler v-bind:jr=\"jr\" ref=\"paymentHandler\"></payment-handler> где jr - journeyReservation\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n\tprops: {\n\t\t// Ответ на запрос бронирования\n\t\t// TODO возможно имеет смысл не пихать в пропс весь объект, а только то что нужно\n\t\tjr: {\n\t\t\ttype: Object,\n\t\t\t'default': function _default() {\n\t\t\t\t// Props with type Object/Array must use a factory function to return the default value.\n\t\t\t\treturn {};\n\t\t\t}\n\t\t},\n\t\t// Флаг повторной попытки оплаты\n\t\t// Случается на странице возврата из банка\n\t\t// Если результат неуспешный\n\t\tretry: {\n\t\t\ttype: Boolean,\n\t\t\t'default': false\n\t\t},\n\t\t// Тип клиента (эктора)\n\t\t// бывает:\n\t\t// * desktop_2016\n\t\t// * MOBILE_USER\n\t\t// * INSPECTOR\n\t\t// * TRAINMASTER\n\t\tactor: {\n\t\t\ttype: String\n\t\t\t// 'default': 'desktop_2016'\n\t\t}\n\t},\n\tdata: function data() {\n\t\treturn {\n\t\t\tcurCode: store.local.get('paymethod') || 'BANK',\n\t\t\tbRetry: this.$props.retry,\n\t\t\tpaymentAvailable: true,\n\t\t\tLOADER: false, // изменяется в т.ч. из ridQuery\n\t\t\tHUMAN_ERROR: '' // изменяется в т.ч. из ridQuery\n\t\t};\n\t},\n\tcomputed: { // в компьютед попадают те пропсы которые могут быть изменены извне\n\t\t// Список платёжных систем.\n\t\t// Получается на этапе бронирования, сохраняется в сторедж\n\t\tlist: function list() {\n\t\t\treturn this.$props.jr.paymentSystems;\n\t\t},\n\t\t// Параметры для перехода в яндекс\n\t\t// Получается на этапе бронирования, сохраняется в сторедж\n\t\tyandexMoney: function yandexMoney() {\n\t\t\treturn this.$props.jr.yandexMoney;\n\t\t},\n\t\t// Айди заказа\n\t\t// Получается на этапе бронирования\n\t\t// на этапе возврата берётся из урла\n\t\tsaleOrderId: function saleOrderId() {\n\t\t\treturn this.$props.jr.saleOrderId || UTIL.pageData.orderid || UTIL.pageData.orderId || UTIL.pageData.saleOrderId; // vuex\n\t\t},\n\t\t//полная сумма к оплате\n\t\ttotalSum: function totalSum() {\n\t\t\treturn this.$props.jr.totalSum;\n\t\t},\n\t\t//тип платежа по своей сути за что платеж.\n\t\ttype: function type() {\n\t\t\treturn this.$props.jr.type || 'TICKET';\n\t\t},\n\n\t\t//!НЕ РАБОТАЕТ!\n\t\ttransactionId: function transactionId() {\n\t\t\treturn this.$props.jr.transactionId; // Я не знаю поечму этот параметр не передается, я передаю его в как аргумент к функции submit\n\t\t}\n\t},\n\tmethods: {\n\t\tselect: function select(ps) {\n\t\t\tif (yaCheckRequest) {\n\t\t\t\t// пользователь после яндекса сам кликает-переключается на банк\n\t\t\t\tyaCheckRequest.cancel();\n\t\t\t}\n\t\t\tthis.$data.curCode = ps.code;\n\t\t},\n\t\t// Нажатие на кнопку оплатить\n\t\t// авторизация в банке, затем goPay\n\t\tsubmit: function submit(transactionId) {\n\t\t\t// вызов из родителя: this.$refs.paymentHandler.submit();\n\t\t\tvar vm = this;\n\t\t\t// TODO дизейбл кнопки (у родителя)\n\t\t\tstore.local.set('paymethod', vm.$data.curCode);\n\t\t\t// Если НЕ яндекс\n\t\t\t// значит или BANK или вообще ВТТ либо лояльность (безденежная оплата, сумма заказа 0)\n\t\t\tif (vm.$data.curCode !== 'YANDEX') {\n\t\t\t\tvm.goPay(transactionId);\n\t\t\t} else {\n\t\t\t\t// Если яндекс, перед переходом надо спросить у него, можно ли попробовать ещё раз\n\t\t\t\tUTIL.log('Проверка возможности оплаты Яндексом');\n\t\t\t\t// TODO крутилка\n\t\t\t\tvar url = '/ticket/services/payment/possibility/check/journey/' + vm.saleOrderId + '/' + UTIL.pageData.lang + UTIL.getServiceParams();\n\t\t\t\tyaCheckRequest = UTIL.ridQuery(url).fail(function () {\n\t\t\t\t\t// вызывается когда response.error непустой\n\t\t\t\t\tUTIL.dialogMessage('Оплата Яндекс.Деньгами невозможна');\n\t\t\t\t\tvm.curCode = 'BANK'; // TODO вообще скрыть яндекс?\n\t\t\t\t}).done(function () {\n\t\t\t\t\tvm.goPay(transactionId);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t// Переход на страницу платёжной системы\n\t\t// происходит после авторизации в банке\n\t\tgoPay: function goPay(transactionId) {\n\t\t\tvar vm = this,\n\t\t\t    url;\n\t\t\t// --- идём на страницу подтверждения оплаты (если общая сумма заказа равна 0, это по всей видимости - ВТТ, лояльность)\n\t\t\tif (!vm.totalSum) {\n\t\t\t\turl = '?layer_name=e3-result&zero=1&result=OK&orderId=' + vm.saleOrderId + UTIL.getServiceParams();\n\t\t\t\twindow.location.href = url;\n\t\t\t\t// Важен параметр zero, т.к. с его помошью выбирается адрес запроса на подтверждение payment0 в orders.js\n\t\t\t} else if (vm.$data.curCode === 'YANDEX') {\n\t\t\t\t// --- идём в Яндекс\n\t\t\t\tthis.$refs.yaform.submit();\n\t\t\t} else if (vm.$data.curCode === 'BANK') {\n\t\t\t\t// --- Идём в банк\n\t\t\t\turl = window.UTIL.pageData.LayerLinks.bankAuth || '?layer_id=5734'; // правильнее брать из метаданных, т.к. в случае 'неправильного' path (например если из редизайна просить слой 152 ИФР) случается редирект и POST-параметры попадают в кверистринг\n\t\t\t\tvar params = {\n\t\t\t\t\ttype: vm.type,\n\t\t\t\t\torderId: vm.saleOrderId,\n\t\t\t\t\tactorType: vm.$props.actor\n\t\t\t\t};\n\t\t\t\tif (transactionId) {\n\t\t\t\t\tparams.transactionId = transactionId;\n\t\t\t\t}\n\t\t\t\twindow.UTIL.ridQuery(url, params, vm.$data).done(function (response) {\n\t\t\t\t\twindow.location.href = response.url;\n\t\t\t\t}).always(function () {\n\t\t\t\t\t// чтобы при ошибке у родителя скрывалась крутилка. Кривовато, но...\n\t\t\t\t\tif (vm.$parent && vm.$parent.$data.LOADING_NEXT === true) {\n\t\t\t\t\t\tvm.$parent.$data.LOADING_NEXT = false;\n\t\t\t\t\t}\n\t\t\t\t}).fail(function (error, errData) {\n\t\t\t\t\tif (vm.$parent && error === 'Оплата заказа невозможна') {\n\t\t\t\t\t\tvm.$data.paymentAvailable = false;\n\t\t\t\t\t\tvm.$parent.$data.paymentAvailable = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthrow new Error('Не найден обработчик для кода ' + curCode);\n\t\t\t}\n\t\t},\n\t\tgetImageSrc: function getImageSrc(ps) {\n\t\t\treturn '/dbmm/images/61/28054/' + ps.id;\n\t\t}\n\t},\n\tmounted: function mounted() {\n\t\twindow.UTIL.log('payment-handler mounted');\n\t\tif (window.UTIL.pageData.showErrors === true) {\n\t\t\t// сервер разработческий или в урле есть err\n\t\t\twindow.VUEI_paymentHandler = this;\n\t\t}\n\t}\n});\n\n/***/ }),\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n\tbind: function bind(el, binding, vnode) {\n\t\tvar opts = window.datePickerLoc({\n\t\t\tdateFormat: 'dd.mm.yy',\n\t\t\tonClose: function onClose(dateStr) {\n\t\t\t\t_setBodyClass(false);\n\t\t\t\t_parsePathAndSet(vnode.context, binding.expression, dateStr);\n\t\t\t},\n\t\t\tbeforeShow: function beforeShow() {\n\t\t\t\t_setBodyClass(true);\n\t\t\t}\n\t\t});\n\t\tvar $inp = $(el);\n\t\t$inp.datepicker(opts);\n\t\t/**\r\n  \tПример использования\r\n  \tvar obj = {prop1:{anotherProp:1}};\r\n  \tparsePathAndSet(obj, 'prop1.anotherProp', 2)\r\n  \tconsole.log(obj) // {prop1:{anotherProp:2}}\r\n  */\n\t\tfunction _parsePathAndSet(obj, key, value) {\n\t\t\tvar keyArr = key.split('.');\n\t\t\tvar lastKey = keyArr.pop();\n\t\t\tfor (var i = 0, len = keyArr.length; i < len; i++) {\n\t\t\t\tobj = obj[keyArr[i]];\n\t\t\t}\n\t\t\tobj[lastKey] = value;\n\t\t}\n\n\t\tfunction _setBodyClass(boo) {\n\t\t\t$(document.body).toggleClass('jqui-datepicker-active', boo); // для мобилки\n\t\t}\n\t},\n\tupdate: function update(el, binding, vnode) {\n\t\t$(el).datepicker('setDate', binding.value);\n\t}\n});\n\n/***/ }),\n/* 17 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__makeRoot_js__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_cabinet_mobile_vue__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_cabinet_mobile_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_cabinet_mobile_vue__);\n\n\n\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__makeRoot_js__[\"a\" /* default */])(__WEBPACK_IMPORTED_MODULE_1__pages_cabinet_mobile_vue___default.a);\n\n/***/ }),\n/* 18 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__mixins__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__directives_jqui_datepicker_js__ = __webpack_require__(16);\n // глобальные миксины\n\n\nvar REQ = window.PAGEDATA.params;\nvar ON_AVISO_cnt = 0;\nvar ON_AVISO_cnt_prev = 0;\nvar vm;\n\nvar component = {\n\tdata: function data() {\n\t\treturn {\n\t\t\tform: { // поля формы можно задать в урле\n\t\t\t\tdate0: REQ.date0 || '',\n\t\t\t\tdate1: REQ.date1 || '',\n\t\t\t\tnumber: REQ.number || '',\n\t\t\t\tname: REQ.name || '',\n\t\t\t\tmode: REQ.mode || '', // бывает archive и active\n\t\t\t\ttype: REQ.type, //параметр передаются для покупки из личного кабинета (например питание)\n\t\t\t\ttransactionId: REQ.transactionId, //параметр передаются для покупки из личного кабинета (например питание)\n\t\t\t\tsaleOrderId: REQ.saleOrderId || REQ.orderId || '', // TODO избавиться от зоопарка, это в яве\n\t\t\t\tresult: REQ.result // отладка: чтобы страница после банка не становилась кабинетом после F5\n\t\t\t},\n\t\t\tslots: [], // сюда помещаются поездки (название слотс взято тупо из апи)\n\t\t\tLOADING_ORDERS: false,\n\t\t\tHUMAN_ERROR: '', // человекопонятный текст глобальной ошибки\n\t\t\tDMSAREA: g_dmsArea,\n\t\t\tPOLICY_STATUSES: g_policyStatus,\n\t\t\trefundMsg: false,\n\t\t\tlastPage: true,\n\t\t\tDEBUG: PAGEDATA.showErrors,\n\n\t\t\t/* Страница после банка */\n\t\t\tbPageAfterBank: !!REQ.result, // считаем что если в урле есть result, то страница после банка\n\t\t\tbShowRetryPayment: false, // возврат к оплате\n\t\t\tPAYMENT_RESULT: REQ.result,\n\n\t\t\t/* Дополнительное питание */\n\t\t\tfoodDetails: {\n\t\t\t\tselectedMenuItems: false,\n\t\t\t\tLOADING_REFUND: false\n\t\t\t},\n\t\t\t/* Предоплаченное питание */\n\t\t\tfoodList: [],\n\t\t\tfoodListSelectedItem: '',\n\t\t\tbAuthFormVisible: false\n\t\t};\n\t},\n\tfilters: {},\n\tcomputed: {\n\t\t// Показ формы - для ЛК\t\n\t\tbShowForm: function bShowForm() {\n\t\t\treturn this.bPageAfterBank === false;\n\t\t},\n\t\t// Показ кнопок \"Купить новый билет\" и \"Перейти в «Мои заказы»\" - для страницы после банка\n\t\tbShowBankResultBtns: function bShowBankResultBtns() {\n\t\t\treturn this.bPageAfterBank === true;\n\t\t},\n\t\tjourneyReservation: function journeyReservation() {\n\t\t\t// Достаём из сессии резултаты бронирования \n\t\t\t// для того чтобы нарисовать кнопку возврата к платежу\n\t\t\t// ключи разные. Просто Reservation - это слепые, ResPg.result - это мобилка\n\t\t\tvar storedReservation = store.session('Reservation') || store.session('ResPg.result') || store.session('pass16_ResResponse');\n\t\t\treturn storedReservation;\n\t\t}\n\t},\n\tmixins: [__WEBPACK_IMPORTED_MODULE_0__mixins__[\"a\" /* default */]], // глобальные миксины\n\tmounted: function mounted() {\n\t\tvm = this;\n\t\tif (this.IS_DEV) {\n\t\t\twindow['VUEI_' + this.$options.name] = this; // на дев-сервере будет переменная VUEI_CabinetRedesign со ссылкой на компонент\n\t\t}\n\t\tthis.changeMode('active', true);\n\t\t// Страница после оплаты\n\t\tif (vm.$data.bPageAfterBank) {\n\t\t\tif (REQ.result === 'OK') {\n\t\t\t\tif (REQ.paymentSystem === 'YANDEX') {\n\t\t\t\t\tvm.bankResult_checkPaymentYandex();\n\t\t\t\t} else {\n\t\t\t\t\tvm.bankResult_finalizePayment();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvm.bShowRetryPayment = true; // показ кнопки \"Попытаться оплатить ещё раз\"\n\t\t\t}\n\t\t}\n\t\t// Обычный личный кабинет\n\t\telse {\n\t\t\t\tvm.getOrders();\n\t\t\t}\n\t},\n\tdirectives: {\n\t\t'jqui-datepicker': __WEBPACK_IMPORTED_MODULE_1__directives_jqui_datepicker_js__[\"a\" /* default */]\n\t},\n\tmethods: {\n\t\tgetOrders: getOrders,\n\t\t// Кнопка \"Перейти в Мои Заказы\" на странице возврата из банка\n\t\tgotoCabinet: function gotoCabinet() {\n\t\t\tthis.$data.HUMAN_ERROR = '';\n\t\t\t$('html,body').animate({\n\t\t\t\tscrollTop: 0\n\t\t\t}, 300);\n\t\t\tthis.$data.bPageAfterBank = false;\n\t\t\tthis.$data.form.saleOrderId = '';\n\t\t\tthis.$data.PAYMENT_RESULT = '';\n\t\t\tthis.getOrders();\n\t\t},\n\t\tretryPayment: function retryPayment() {\n\t\t\tthis.$refs.paymentHandler.submit();\n\t\t},\n\t\tchangeMode: function changeMode(newMode, bDontMakeRequest) {\n\t\t\tif (this.$data.form.mode !== newMode) {\n\t\t\t\tthis.$data.form.mode = newMode;\n\t\t\t\tvar bActive = newMode === 'active';\n\n\t\t\t\tvar d = new Date();\n\t\t\t\tvar formattedDate = [UTIL.leftpad(d.getDate()), UTIL.leftpad(d.getMonth() + 1), d.getFullYear()].join('.');\n\t\t\t\tthis.$data.form.date0 = bActive ? formattedDate : '';\n\t\t\t\tthis.$data.form.date1 = bActive ? '' : formattedDate;\n\n\t\t\t\tif (!bDontMakeRequest) {\n\t\t\t\t\tthis.getOrders();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// получить статусы для всего заказа (APP_SALE_ORDER)\n\t\tgetStatusesForSaleOrder: function getStatusesForSaleOrder(sord) {\n\t\t\tvar $activeDialog = $('.ui-dialog-content:visible');\n\t\t\tif ($activeDialog.length !== 0) {\n\t\t\t\t// это сделано для PIRS-13686 (ON_AVISO_LIST)\n\t\t\t\t$activeDialog.dialog('close');\n\t\t\t}\n\t\t\tif (typeof $.scrollTo === 'function') {\n\t\t\t\tvar $sord = $('#hash-sord-' + sord.id);\n\t\t\t\t$.scrollTo($sord, 200, {\n\t\t\t\t\toffset: -50 // высота верхней панели с настройками слепых, иначе она перекрывает\n\t\t\t\t});\n\t\t\t}\n\t\t\tfor (var k = 0; k < sord.lst.length; k++) {\n\t\t\t\tvar ord = sord.lst[k]; // это запись в APP_ORDER\n\t\t\t\tthis.getStatuses(ord);\n\t\t\t}\n\t\t},\n\t\t// получить статусы для поездки (APP_ORDER)\n\t\t// TODO PIRS-13714\n\t\tgetStatuses: function getStatuses(ord, callback) {\n\t\t\tord.LOADING_STATUSES = true;\n\t\t\tord.LOADER = true;\n\t\t\tord.HUMAN_ERROR = null;\n\t\t\tvar url = '?layer_id=5417';\n\t\t\tvar params = {\n\t\t\t\tORDER_ID: ord.N\n\t\t\t};\n\t\t\tvar requestRidOptions = {\n\t\t\t\tonIdle: function onIdle(res) {\n\t\t\t\t\t// запоминаем RID для загрузки PDF и PNG бланков, иначе PIRS-14446\n\t\t\t\t\tord._statusRid = res.RID;\n\t\t\t\t}\n\t\t\t};\n\t\t\tUTIL.ridQuery(url, params, ord, requestRidOptions).done(function (result) {\n\t\t\t\tUTIL.log(result);\n\t\t\t\trequestRidOptions.HUMAN_ERROR = null;\n\t\t\t\tord._statusRid_timestamp = Date.now(); // для проверки протухших rid\n\t\t\t\tvar ticDate = result.timestamp.substr(3, 2) + '/' + result.timestamp.substr(0, 2) + '/' + result.timestamp.substr(6, 4) + ' ' + result.timestamp.substr(11);\n\t\t\t\tvar dateTimeNow = new Date(Date.parse(ticDate)); // Date.parse принимает дату в формате MM.DD.YYYY, чтоб его..\n\n\t\t\t\tord.LOADER = false;\n\t\t\t\tvar hasWithER = false;\n\t\t\t\tvar hasWithoutER = false;\n\t\t\t\tvar statuses = result.lst;\n\t\t\t\tfor (var i = 0; i < statuses.length; i++) {\n\t\t\t\t\tvar stat = statuses[i];\n\t\t\t\t\tfor (var k = 0; k < ord.lst.length; k++) {\n\t\t\t\t\t\tvar tik = ord.lst[k];\n\t\t\t\t\t\t// сопоставляем айди билета в данных и в ответе по статусам, чтобы нарисовать статусы там где нужно\n\t\t\t\t\t\tvar blockRefund = tik.dateTimeDeparture - dateTimeNow < 60 * 59 * 1000 ? true : false; // блокировка сдачи билета за час до отправления\n\t\t\t\t\t\tif (tik.n === stat.n) {\n\t\t\t\t\t\t\ttik.STATUS.NAME = stat['name_' + window.PAGEDATA.lang];\n\t\t\t\t\t\t\ttik.STATUS.CODE = stat.status;\n\t\t\t\t\t\t\ttik.LOADING_STATUS = false;\n\t\t\t\t\t\t\t// update POLICY\n\t\t\t\t\t\t\tif (stat.policies && stat.policies.length && tik.POLICY && stat.policies[0].number == tik.POLICY.number) {\n\t\t\t\t\t\t\t\ttik.POLICY.statusId = stat.policies[0].statusId;\n\t\t\t\t\t\t\t\ttik.POLICY_STATUS = g_policyStatus[stat.policies[0].statusId];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttik.LOADER = false;\n\t\t\t\t\t\t// блокировать сдачу билета, если до отправления меньше 1 часа PIRS-14238\n\t\t\t\t\t\tif (blockRefund) {\n\t\t\t\t\t\t\ttik.LOADING_REFUND_TICKET = blockRefund;\n\t\t\t\t\t\t\ttik.SHOW_REFUND_FOOD = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (stat.status === 'REGISTERED') {\n\t\t\t\t\t\thasWithER = true;\n\t\t\t\t\t\t// блокировать отмену регистрации, если до отправления меньше 1 часа PIRS-14238\n\t\t\t\t\t\tif (blockRefund) {\n\t\t\t\t\t\t\ttik.LOADING_STATUS = blockRefund;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (stat.status === 'PAID') {\n\t\t\t\t\t\thasWithoutER = true;\n\t\t\t\t\t} else if (stat.status === 'REFUNDED') {\n\t\t\t\t\t\ttik.status = stat.status;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (hasWithER === true && hasWithoutER === true) {\n\t\t\t\t\tord.ELREG_IFRMSG = 'PST_ELREG_BOTH';\n\t\t\t\t} else if (hasWithER === true) {\n\t\t\t\t\tord.ELREG_IFRMSG = 'PST_ELREG_ETICKET_A4';\n\t\t\t\t} else if (hasWithoutER === true) {\n\t\t\t\t\tord.ELREG_IFRMSG = 'PST_ELREG_GET_COUPON';\n\t\t\t\t}\n\n\t\t\t\tif (typeof callback === 'function') {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}).always(function () {\n\t\t\t\tord.LOADING_STATUSES = false;\n\t\t\t});\n\t\t},\n\t\tchangeStatus: function changeStatus(tik, ord, bEnable) {\n\t\t\tif (tik.LOADING_STATUS && bEnable === false) return; // блокировка отмены пройденной регистрации за 1 час до отправления PIRS-14238\n\t\t\ttik.LOADING_STATUS = true;\n\t\t\ttik.LOADER = true;\n\t\t\tvar params = {\n\t\t\t\taction: bEnable === true ? 'REGISTER' : 'UNREGISTER',\n\t\t\t\tORDER_ID: ord.N,\n\t\t\t\tticket_id: tik.n\n\t\t\t};\n\t\t\tUTIL.ridQuery('?layer_id=5418', params, tik).done(function (result) {\n\t\t\t\tif (result.result === 'OK') {\n\t\t\t\t\tvm.getStatuses(ord);\n\t\t\t\t}\n\t\t\t}).always(function () {\n\t\t\t\ttik.LOADING_STATUS = false;\n\t\t\t});\n\t\t},\n\t\t/**\r\n  \ttik\t\t\t\t{object}\tбилет (APP_TICKET)\r\n  \tord\t\t\t\t{object}\tзаказ (APP_ORDER)\r\n  \tsord\t\t\t{object}\tпоездка (APP_SALE_ORDER)\r\n  \tbForceRefund\t{boolean}\tне запрашивать подтверждение пользователя\r\n  */\n\t\trefundTicket: function refundTicket(tik, ord, sord, bForceRefund) {\n\t\t\t//Todo создать отдельный признак для блокировки билета.\n\t\t\tif (tik.LOADING_REFUND_TICKET) return; // блокировка возврата билета за 1 час до отправления PIRS-14238\n\t\t\ttik.LOADING_REFUND_TICKET = true; // определено при запросе статуса билета.\n\t\t\tvar params = {\n\t\t\t\taction: bForceRefund === true ? 'REFUND' : 'PREVIEW',\n\t\t\t\tORDER_ID: ord.N,\n\t\t\t\tticket_id: tik.n\n\t\t\t};\n\t\t\tUTIL.ridQuery('?layer_id=5421', params, tik).done(function (result) {\n\t\t\t\ttik.HUMAN_ERROR = null;\n\t\t\t\tUTIL.log(result);\n\t\t\t\tvar msgTemplate = window.lang(['Ticket', 'The amount due for return: $summa$']);\n\t\t\t\tif ('lst' in result && 'sum' in result.lst[0]) {\n\t\t\t\t\t// то бишь action==='PREVIEW'\n\t\t\t\t\tvar rfnd = {\n\t\t\t\t\t\tbMulti: result.lst.length > 1,\n\t\t\t\t\t\tbDisabledCompanion: tik.disabledTypeId === 1,\n\t\t\t\t\t\tbYandex: sord.paymentMethod === 'YANDEX_MONEY',\n\t\t\t\t\t\tbDMS: tik.POLICY ? tik.POLICY.number && tik.POLICY.statusId == 40 : null,\n\t\t\t\t\t\tbDMS_cost: tik.POLICY ? tik.POLICY.cost : null,\n\t\t\t\t\t\tbINSUR: tik.INSUR ? tik.INSUR.bRefund == 0 : null,\n\t\t\t\t\t\tbINSUR_cost: tik.INSUR ? tik.INSUR.cost : null,\n\t\t\t\t\t\tord: ord,\n\t\t\t\t\t\tlist: []\n\t\t\t\t\t};\n\t\t\t\t\t// собираем все билеты заказа в билет для нахождения соответствия\n\t\t\t\t\t// респонса и возвращаемых билетов\n\t\t\t\t\tvar ordTicketList = [];\n\t\t\t\t\tfor (var k = 0, lenk = ord.lst.length; k < lenk; k++) {\n\t\t\t\t\t\tvar ticket = ord.lst[k];\n\t\t\t\t\t\tordTicketList[ticket.id] = ticket;\n\t\t\t\t\t}\n\t\t\t\t\tfor (var i = 0, len = result.lst.length; i < len; i++) {\n\t\t\t\t\t\tvar refundItem = result.lst[i];\n\t\t\t\t\t\tvar ticket = ordTicketList[refundItem.ticketNum];\n\t\t\t\t\t\trefundItem = $.extend(ticket, refundItem);\n\t\t\t\t\t\trefundItem.summa = refundItem.sum; // в лучших традициях нашего АПИ в словарном тексте написано $summa$ а в респонсе - sum.\n\t\t\t\t\t\trefundItem.text = UTIL.formatStr(msgTemplate, {\n\t\t\t\t\t\t\tsumma: refundItem.sum,\n\t\t\t\t\t\t\ttime: refundItem.time,\n\t\t\t\t\t\t\tdate: refundItem.date\n\t\t\t\t\t\t}, ['$', '$']);\n\t\t\t\t\t\trfnd.list.push(refundItem);\n\t\t\t\t\t}\n\t\t\t\t\tvm.$data.refundMsg = rfnd; // скармливаем данные вуЮ, он их рендерит\n\n\t\t\t\t\tvar confirmButtons = {};\n\t\t\t\t\tconfirmButtons[window.lang('Make refund')] = function (evt) {\n\t\t\t\t\t\tvm.refundTicket(tik, ord, sord, true);\n\t\t\t\t\t\t$(this).dialog('close');\n\t\t\t\t\t};\n\t\t\t\t\tconfirmButtons[window.lang('Cancel')] = function (evt) {\n\t\t\t\t\t\t$(this).dialog('close');\n\t\t\t\t\t};\n\t\t\t\t\tvm.$nextTick(function () {\n\t\t\t\t\t\tvar opts = {\n\t\t\t\t\t\t\tbuttons: confirmButtons\n\t\t\t\t\t\t};\n\t\t\t\t\t\tUTIL.dialogMessage($('.j-refund-popup'), opts);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// то бишь action==='REFUND'\n\t\t\t\t\tvm.getStatuses(ord);\n\t\t\t\t}\n\t\t\t\tif (bForceRefund && tik.INSUR) {\n\t\t\t\t\t// то бишь action==='REFUND'\n\t\t\t\t\tvm.$set(tik.INSUR, 'Refunded', 1); // ставим такой же признак как приходит с сервера PIRS-16888\n\t\t\t\t}\n\t\t\t}).always(function () {\n\t\t\t\ttik.LOADING_REFUND_TICKET = false;\n\t\t\t});\n\t\t},\n\t\trefundInsurance: function refundInsurance(tik, ord) {\n\t\t\tvar confirmButtons = {};\n\t\t\tconfirmButtons[lang('Make refund')] = function (evt) {\n\t\t\t\tvar dfInsrRef = $.ajax({\n\t\t\t\t\turl: '?layer_id=5664',\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tORDER_ID: ord.N,\n\t\t\t\t\t\tpassengerId: tik.INSUR.passId,\n\t\t\t\t\t\tticketNumber: tik.id,\n\t\t\t\t\t\tticket_id: tik.n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tdfInsrRef.success(function (insrRetundRes) {\n\t\t\t\t\tif (insrRetundRes.result === \"OK\") {\n\t\t\t\t\t\tvm.$set(tik.INSUR, 'Refunded', 1);\n\t\t\t\t\t}\n\t\t\t\t}).error(function (insrRetundRes) {\n\t\t\t\t\tUTIL.dialogMessage('В процессе возврата страховки произошла ошибка.<br/>Пожалуйста, повторите попытку позже.');\n\t\t\t\t});\n\t\t\t\t$(this).dialog('close');\n\t\t\t};\n\t\t\tconfirmButtons[lang('Cancel')] = function (evt) {\n\t\t\t\t$(this).dialog('close');\n\t\t\t};\n\t\t\tUTIL.dialogMessage('Осуществить возврат страховки?', {\n\t\t\t\tbuttons: confirmButtons\n\t\t\t});\n\t\t},\n\t\trefundDMS: function refundDMS(tik, ord) {\n\t\t\tvar confirmButtons = {},\n\t\t\t    result;\n\t\t\tconfirmButtons[lang('Make refund')] = function (evt) {\n\t\t\t\tvar params = {\n\t\t\t\t\tjourneyId: ord.journeyId,\n\t\t\t\t\tpolicyNumber: tik.POLICY.number\n\t\t\t\t};\n\t\t\t\tUTIL.ridQuery('?layer_id=5890', params, tik, {}).done(function (result) {\n\t\t\t\t\tif (result.result === \"OK\") {\n\t\t\t\t\t\ttik.policies[0].statusId = 70;\n\t\t\t\t\t\ttik.POLICY_STATUS = g_policyStatus[tik.policies[0].statusId];\n\t\t\t\t\t}\n\t\t\t\t\tif (result.statusText == 'OK') {\n\t\t\t\t\t\tresult = JSON.parse(result.responseText);\n\t\t\t\t\t\tUTIL.log('Ошибка при возврате полиса', result);\n\t\t\t\t\t\tUTIL.dialogMessage('В процессе возврата страховки произошла ошибка.<br/>Пожалуйста, обновите страницу и повторите попытку позже.');\n\t\t\t\t\t}\n\t\t\t\t}).always(function (result) {\n\t\t\t\t\ttik.LOADING_REFUND_TICKET = false;\n\t\t\t\t\tif (result.statusText == 'OK') {\n\t\t\t\t\t\tUTIL.log('Ошибка при возврате полиса.', result);\n\t\t\t\t\t\tUTIL.dialogMessage('В процессе возврата страховки произошла ошибка.<br/>Пожалуйста, обновите страницу и повторите попытку позже.');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$(this).dialog('close');\n\t\t\t};\n\t\t\tconfirmButtons[lang('Cancel')] = function (evt) {\n\t\t\t\t$(this).dialog('close');\n\t\t\t};\n\t\t\tvar msg = window.IFRMSG.POLICY_CABINET_REFUND_SUM + '&nbsp;' + tik.policies[0].cost + '&nbsp;руб.<br/>' + window.IFRMSG.REFUND_INFO_CABINET + '<br/>Осуществить возврат полиса?';\n\t\t\tUTIL.dialogMessage(msg, {\n\t\t\t\tbuttons: confirmButtons\n\t\t\t});\n\t\t},\n\t\tgetBlank_insurance: function getBlank_insurance(tik, format) {\n\t\t\tvar dlAddress = location.origin + '/blank/insurance/download/' + format + '/passenger/' + tik.INSUR.passId + '/' + window.PAGEDATA.lang;\n\t\t\tdownloadFile(dlAddress);\n\t\t},\n\t\tgetBlank_policy: function getBlank_policy(tik) {\n\t\t\tdownloadFile(tik.POLICY.link);\n\t\t},\n\t\tshowInsurances: function showInsurances(tik) {\n\t\t\tif (tik.SHOW_INSURANCES === true) {\n\t\t\t\ttik.SHOW_INSURANCES = false;\n\t\t\t} else {\n\t\t\t\ttik.SHOW_INSURANCES = true;\n\t\t\t}\n\t\t},\n\t\tshowRefundedOrder: function showRefundedOrder(ord) {\n\t\t\tif (ord.SHOW_REFUNDED_ORDER === true) {\n\t\t\t\tord.SHOW_REFUNDED_ORDER = false;\n\t\t\t} else {\n\t\t\t\tord.SHOW_REFUNDED_ORDER = true;\n\t\t\t}\n\t\t},\n\t\tgetBlank_ticket: function getBlank_ticket(format, ord, tik) {\n\t\t\t// при загрузке бланка критерий необходимости загрузки билета\n\t\t\t// отсутствие у билета статуса !tik.STATUS.CODE\n\t\t\t// значит, статус и неокончательный и притом не получен аяксом\n\t\t\tvar currentTimestamp = Date.now();\n\t\t\tvar statusCheckNeeded = false;\n\t\t\tif (!tik) {\n\t\t\t\t// билет не передан, значит скачать надо бланк заказа\n\t\t\t\t// проверяем все билеты заказа на предмет отсутствия статуса\n\t\t\t\tfor (var i = 0; i < ord.lst.length; i++) {\n\t\t\t\t\tif (!ord.lst[i].STATUS.CODE || ridTimestampInvalid(ord._statusRid_timestamp)) {\n\t\t\t\t\t\tstatusCheckNeeded = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// билет передан, значит скачать надо бланк билета\n\t\t\t\t// проверяем этот билет на предмет отсутствия статуса\n\t\t\t\tstatusCheckNeeded = !tik.STATUS.CODE || ridTimestampInvalid(ord._statusRid_timestamp);\n\t\t\t}\n\n\t\t\tif (statusCheckNeeded) {\n\t\t\t\tvm.getStatuses(ord, downloadBlankTicket);\n\t\t\t} else {\n\t\t\t\tdownloadBlankTicket();\n\t\t\t}\n\n\t\t\tfunction downloadBlankTicket() {\n\t\t\t\t// https://wiki.oooinex.ru/pages/viewpage.action?pageId=23825058\n\t\t\t\tvar urlParams = {\n\t\t\t\t\torigin: window.location.origin,\n\t\t\t\t\tformat: format,\n\t\t\t\t\torderId: ord.N,\n\t\t\t\t\tlang: window.PAGEDATA.lang,\n\t\t\t\t\trandom: Math.random() * 1e5 | 0\n\t\t\t\t};\n\t\t\t\tvar url = UTIL.formatStr('{origin}/blank/ticket/download/{format}/order/{orderId}/{lang}?_rnd={random}', urlParams);\n\t\t\t\tif (tik && tik.n) {\n\t\t\t\t\t// если билет не передан в getBlank_ticket\n\t\t\t\t\t// значит, скачиваем бланк не всего заказа, а одного билета\n\t\t\t\t\turl += '&ticketId=' + tik.n;\n\t\t\t\t}\n\t\t\t\tif (ord._statusRid) {\n\t\t\t\t\t// для показа актуального статуса у билетов с неокончательным статусом\n\t\t\t\t\t// Это свойство ord заполняется автоматом при запросе статусов\n\t\t\t\t\t// Иначе PIRS-14446 + PIRS-14447\n\t\t\t\t\turl += '&statusRid=' + ord._statusRid;\n\t\t\t\t}\n\t\t\t\tdownloadFile(url);\n\t\t\t}\n\n\t\t\t// грубое определение разницы во времени за которую протухнет statusRid\n\t\t\t// время в 5 минут взято из cabinet.js (см. function updateRid)\n\n\n\t\t\tfunction ridTimestampInvalid(ridTimestamp) {\n\t\t\t\tif (!ridTimestamp) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tvar diffMinutes = (currentTimestamp - ridTimestamp) / (1000 * 60);\n\t\t\t\treturn diffMinutes > 5;\n\t\t\t}\n\t\t},\n\n\t\t/*Дополнительное питание*/\n\t\tgetFoodDetails: function getFoodDetails(ord, tik, extendedService) {\n\t\t\tif (this.foodDetails.selectedMenuItems && this.foodDetails.ticketId === tik.n) {\n\t\t\t\t// заказ уже открыт, просто скрыть его.\n\t\t\t\treturn this.foodDetails.selectedMenuItems = false;\n\t\t\t}\n\n\t\t\t//var self = this;\n\t\t\tvar selectedMenuItems = extendedService.foodPattern.split('');\n\t\t\tvar selectedVariants = extendedService.foodType && extendedService.foodType.replace(/\\//g, '').split('');\n\t\t\tfor (var i = 0; i < selectedMenuItems.length; i++) {\n\t\t\t\tselectedMenuItems[i] = {\n\t\t\t\t\tfoodPattern: selectedMenuItems[i],\n\t\t\t\t\tfoodCode: selectedVariants[i]\n\t\t\t\t};\n\t\t\t}\n\t\t\tthis.foodDetails.ticketId = tik.n;\n\t\t\tthis.foodDetails.selectedMenuItems = extendedService.foodCount;\n\t\t},\n\t\t// Получение бланка дополнительного питания\n\t\t// причём в случае HTML возвращается ссылка\n\t\t// а в случае PDF производится загрузка\n\t\tgetFoodBlank: function getFoodBlank(tik, ord, format, extendedService) {\n\t\t\tif (format === 'pdf') {\n\t\t\t\tvar url = '/blank/extendedfood/download/pdf/order/' + ord.N + '/serviceId/' + extendedService.id + '?ticketId=' + tik.n;\n\t\t\t\t//console.log(url)\n\t\t\t\tdownloadFile(url);\n\t\t\t} else if (format === 'html') {\n\t\t\t\tvar refundParam = extendedService.statusId === 70 ? '&refund=1' : '';\n\t\t\t\treturn '?STRUCTURE_ID=735&layer_id=5962&tik_id=' + tik.id + '&ORDER_ID=' + ord.N + refundParam;\n\t\t\t}\n\t\t},\n\t\t// Сдать дополнительное питание\n\t\trefundFood: function refundFood(ord, tik, extendedService) {\n\t\t\tvar closeDialog = function closeDialog() {\n\t\t\t\t$(this).dialog('close');\n\t\t\t};\n\t\t\tvar self = this;\n\t\t\tvar refund = function refund(evt) {\n\t\t\t\tvar dialogElement = this;\n\t\t\t\t$(evt.currentTarget).hide();\n\t\t\t\tself.foodDetails.LOADING_REFUND = true;\n\t\t\t\tUTIL.ridQuery('/ticket/secure/ru?layer_id=5945&action=Return&orderId=' + ord.N + '&ticketId=' + tik.n + '&serviceId=' + extendedService.id, {}, {}).then(function () {\n\t\t\t\t\t//Успешный запрс возврата!\n\t\t\t\t\tself.foodDetails.LOADING_REFUND = false;\n\t\t\t\t\textendedService.statusId = 70;\n\t\t\t\t\t$(dialogElement).dialog('close');\n\t\t\t\t}, function (reason) {\n\t\t\t\t\tself.foodDetails.LOADING_REFUND = false;\n\t\t\t\t\t$(dialogElement).find('.jqui-dialog-message').html('При возврате дополнительного питания произошла ошибка: ' + reason);\n\t\t\t\t});\n\t\t\t};\n\t\t\tself.foodDetails.LOADING_REFUND = true;\n\t\t\tUTIL.ridQuery('/ticket/secure/ru?layer_id=5945&action=Info&orderId=' + ord.N + '&ticketId=' + tik.n + '&serviceId=' + extendedService.id, {}, {}).then(function (response) {\n\t\t\t\tself.foodDetails.LOADING_REFUND = false;\n\t\t\t\t// текущая дата сервера для проверки возврата еды\n\t\t\t\tvar ticDate = response.timestamp.substr(3, 2) + '/' + response.timestamp.substr(0, 2) + '/' + response.timestamp.substr(6, 4) + ' ' + response.timestamp.substr(11);\n\t\t\t\tvar dateTimeNow = new Date(Date.parse(ticDate)); // Date.parse принимает дату в формате MM.DD.YYYY, чтоб его..\n\n\t\t\t\tif (tik.dateTimeDeparture - dateTimeNow < 60 * 59 * 1000) {\n\t\t\t\t\t// проверка серверного времени и запрет возврата еды менее чем за час до отправления.\n\t\t\t\t\t// тут показываем сообщение о том, что время вышло\n\t\t\t\t\ttik.SHOW_REFUND_FOOD_MSG = true;\n\t\t\t\t\ttik.SHOW_REFUND_FOOD = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar cost = response.response.foodRefunds[0] && response.response.foodRefunds[0].refundAmount;\n\t\t\t\tvar params = {\n\t\t\t\t\tbuttons: {}\n\t\t\t\t};\n\t\t\t\tparams.buttons[lang('Make refund')] = refund;\n\t\t\t\tparams.buttons[lang('Cancel')] = closeDialog;\n\t\t\t\tUTIL.dialogMessage('Сумма к возврату за дополнительное питание: ' + cost + ' руб.', params);\n\t\t\t}, function (reason) {\n\t\t\t\tself.foodDetails.LOADING_REFUND = false;\n\t\t\t\tvar buttons = {};\n\t\t\t\tbuttons[lang('Ok')] = closeDialog;\n\t\t\t\tUTIL.dialogMessage('Ошибка при получении информации о возврате: ' + reason);\n\t\t\t});\n\t\t},\n\t\t// Видимость нижней плашки с кнопками типа \"Вернуть билет\" и \"Сменить ЭР\"\n\t\tisTicketActionsAvailable: function isTicketActionsAvailable(tik, ord) {\n\t\t\treturn !ord.left && !!tik.STATUS.CODE && tik.STATUS.CODE !== 'REFUNDED';\n\t\t},\n\t\t// Страховка НС приобретена и не возвращена\n\t\tisInsuranceActive: function isInsuranceActive(tik) {\n\t\t\treturn tik.INSUR && tik.INSUR.Refunded !== 1;\n\t\t},\n\t\t// Страховка ДМС приобретена и не возвращена\n\t\tisPolicyActive: function isPolicyActive(tik) {\n\t\t\treturn tik.POLICY && tik.POLICY.Refunded !== 1;\n\t\t},\n\t\t// Доступен возврат страховки ДМС\n\t\tisPolicyRefundAvailable: function isPolicyRefundAvailable(tik, ord) {\n\t\t\treturn this.isTicketActionsAvailable(tik, ord) && tik.POLICY_STATUS && tik.POLICY_STATUS.code == 'ISSUED';\n\t\t},\n\t\t// Доступен возврат страховки НС\n\t\tisInsuranceRefundAvailable: function isInsuranceRefundAvailable(tik, ord) {\n\t\t\tvar refundAllowed = window.PAGEDATA.BaseParams.is_insurance_refund === '1'; // PIRS-12830\n\t\t\treturn refundAllowed && this.isTicketActionsAvailable(tik, ord) && this.isInsuranceActive(tik) && tik.INSUR.bRefund === 1;\n\t\t},\n\t\tprepaidFood_visible: function prepaidFood_visible(tik, ord) {\n\t\t\tif (ord.left && !ord.foodId) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn tik.food;\n\t\t},\n\t\t// Видимость всего блока дополнительного питания\n\t\taddFood_visible: function addFood_visible(tik) {\n\t\t\tvar hasFood = false;\n\t\t\tif (tik.extendedServices && tik.extendedServices.length) {\n\t\t\t\tfor (var i = 0; i < tik.extendedServices.length; i++) {\n\t\t\t\t\tif (tik.extendedServices[i] && tik.extendedServices[i].typeId === 1) {\n\t\t\t\t\t\thasFood = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn tik.addFood || hasFood;\n\t\t},\n\t\taddFood_getArray: function addFood_getArray(tik) {\n\t\t\tvar i,\n\t\t\t    foodArray = [];\n\t\t\tif (tik.extendedServices && tik.extendedServices.length) {\n\t\t\t\tfor (i = 0; i < tik.extendedServices.length; i++) {\n\t\t\t\t\tif (tik.extendedServices[i] && tik.extendedServices[i].typeId === 1) {\n\t\t\t\t\t\tif (tik.extendedServices[i].statusId === 30) {\n\t\t\t\t\t\t\ttik.extendedServices[i].isPurchased = true;\n\t\t\t\t\t\t\ttik.extendedServices[i].isRefunded = false;\n\t\t\t\t\t\t} else if (tik.extendedServices[i].statusId === 70) {\n\t\t\t\t\t\t\ttik.extendedServices[i].isPurchased = false;\n\t\t\t\t\t\t\ttik.extendedServices[i].isRefunded = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttik.extendedServices[i].isLast = tik.extendedServices.length === i + 1;\n\t\t\t\t\t\tfoodArray.push(tik.extendedServices[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (foodArray.length === 0 && tik.addFood === true) {\n\t\t\t\t// TODO переделать\n\t\t\t\tfoodArray = [{\n\t\t\t\t\tisLast: true,\n\t\t\t\t\tisFake: true\n\t\t\t\t}];\n\t\t\t\t// фейковое значение чтобы отображался блок Доп.питания с кнопкой купить PIRS-17115\n\t\t\t\t// причём он должен отображаться если питание сдано И если питание не было куплено\n\t\t\t}\n\t\t\treturn foodArray;\n\t\t},\n\t\taddFood_isBuyPossible: function addFood_isBuyPossible(tik) {\n\t\t\tvar hasPurchased = false;\n\t\t\tif (tik.extendedServices && tik.extendedServices.length) {\n\t\t\t\tfor (var i = 0; i < tik.extendedServices.length; i++) {\n\t\t\t\t\tif (tik.extendedServices[i] && tik.extendedServices[i].typeId === 1 && tik.extendedServices[i].statusId === 30) {\n\t\t\t\t\t\thasPurchased = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn tik.addFood && !hasPurchased;\n\t\t},\n\t\taddFood_showMenuWindow: function addFood_showMenuWindow(url) {\n\t\t\t// см. также showMenuWindow из pass16/market-food.js\n\t\t\turl = url || '/catering/public/ru?layer_name=catering-menu';\n\t\t\twindow.open(url, 'Menu', '_blank, strWindowFeatures, height=400, width=737, scrollbars=1');\n\t\t},\n\t\t// PIRS-16873 Купить товары с маркета\n\t\tbuyAdditionals: function buyAdditionals(ordslot, ord, tik, addType) {\n\t\t\t// эмулируем структуру данных редизайна :(\n\t\t\t// можно попробовать брать данные о билете из слоя 5744, кот. используется в бланке\n\t\t\tvar _tik = $.extend({\n\t\t\t\tticketId: tik.n,\n\t\t\t\tpass: [$.extend({}, tik, { // пассажир в билете в петином коде выделяется в отдельный подобъект\n\t\t\t\t\tshortName: tik.name,\n\t\t\t\t\ttariff: tik.tariffId\n\t\t\t\t})] // лишний {} - чтобы не менять tik, иначе при нажатии на кнопку в поле тариф пишется Adult\n\t\t\t}, tik);\n\n\t\t\tvar _ord = $.extend({\n\t\t\t\torderId: ord.N,\n\t\t\t\ttickets: [_tik],\n\t\t\t\ttype: ord.carTypeRu, // additionals-store:194\n\t\t\t\tnumber2: ord.train //for additionals-store\n\t\t\t}, ord);\n\n\t\t\tvar pass16_ResResponse = {\n\t\t\t\tsaleOrderId: ordslot.id,\n\t\t\t\torders: [_ord],\n\t\t\t\tpaymentSystems: [{\n\t\t\t\t\t\"id\": 2,\n\t\t\t\t\t\"code\": \"BANK\",\n\t\t\t\t\t\"name\": \"Банковская карта\",\n\t\t\t\t\t\"tip\": \"Оплата картами банков.\" // Сейчас по факту товары нельзя купить за ЯД, вроде и не планируется\n\t\t\t\t}]\n\t\t\t};\n\n\t\t\tstore.session('pass16_ResResponse', pass16_ResResponse);\n\t\t\t//В URL добавляется параметр reduced=true он обрабатывается в js и указывает урезанный шаблон для VUE.\n\t\t\twindow.location.href = window.PAGEDATA.LayerLinks.additionals + '&reduced=true#/' + addType;\n\t\t},\n\n\t\t//Предоплаченное питание\n\t\t// PIRS-16436 food\n\t\tchangeMeal: function changeMeal(ord, tik, ordslot_index, ordslot) {\n\t\t\tvar self = this;\n\t\t\tUTIL.ridQuery('?layer_id=5713', {\n\t\t\t\tORDER_ID: tik.ORDER_ID\n\t\t\t}).then(function (responseData) {\n\t\t\t\tif (responseData.list && responseData.list.length === 0) {\n\t\t\t\t\tUTIL.dialogMessage('К сожалению, выбор типа питания для данного заказа недоступен');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tself.foodList = responseData;\n\t\t\t\tself.foodList.tikFoodName = tik.foodName;\n\t\t\t\tself.foodList.curSlotId = ordslot.id;\n\t\t\t\tself.foodList.curORDER_ID = ord.N;\n\t\t\t\tself.foodList.curTicketId = tik.n;\n\n\t\t\t\t// нексттик и вызов в коллбеке аякса потому что\n\t\t\t\t// иначе попап неверно вычисляет размер\n\t\t\t\tvm.$nextTick(function () {\n\t\t\t\t\tUTIL.dialogMessage($('#j-change-food-popup'), {\n\t\t\t\t\t\tbuttons: {\n\t\t\t\t\t\t\tOK: function OK() {\n\t\t\t\t\t\t\t\tself.setChangedFood();\n\t\t\t\t\t\t\t\t$(this).dialog('close');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}, function (reason) {\n\t\t\t\tUTIL.dialogMessage('Ошибка ' + reason);\n\t\t\t});\n\t\t},\n\t\tsetChangedFood: function setChangedFood() {\n\t\t\tvar self = this;\n\t\t\tconsole.log(this);\n\t\t\tvar val = self.foodListSelectedItem.split('_');\n\t\t\tvar foodName = val[0];\n\t\t\tvar foodId = val[1];\n\t\t\tfor (var n in self.slots) {\n\t\t\t\tif (self.slots[n].id === self.foodList.curSlotId) {\n\t\t\t\t\t// self.slots[n].lst[0].lst[0].foodName = foodName;\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\tORDER_ID: self.foodList.curORDER_ID,\n\t\t\t\t\t\tticket_id: self.foodList.curTicketId,\n\t\t\t\t\t\tfoodId: foodId\n\t\t\t\t\t};\n\t\t\t\t\tvar curN = n;\n\t\t\t\t\tUTIL.ridQuery('?layer_id=5718', params).done(function () {\n\t\t\t\t\t\tself.slots[curN].lst[0].lst[0].foodName = foodName;\n\t\t\t\t\t}).fail(function (err, res) {\n\t\t\t\t\t\tUTIL.dialogMessage('Во время сохранения данных произошла ошибка ' + res.info || err);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\r\n  \tПодготовка к превращению всего после банка в одностраничник\r\n  \tпотом вынесем в компоненты, а пока простыня\r\n  */\n\t\t// На шаге возврата из банка проверяется статус заказа в экспрессе и финализируется покупка у нас в системе\n\t\t// для яндекса перед этим действием случается дополнительная проверка статуса finalStep_checkPaymentYandex\n\t\tbankResult_finalizePayment: function bankResult_finalizePayment(bNoCostCheck) {\n\t\t\tvar vm = this;\n\t\t\t// на слое подтверждения с нулевой стоимостью помимо ВТТ и Лояльности обрабатывается также и Яндекс\n\t\t\tvar layerId = bNoCostCheck ? 5726 : 5752;\n\t\t\t// TODO сделать кнопку гашения в случае неуспеха, layerId = 5769\n\n\t\t\tvar params = {\n\t\t\t\torderId: vm.$data.form.saleOrderId\n\t\t\t};\n\n\t\t\t//Случай если оплачивались только доп услуги\n\t\t\tif (vm.$data.form.transactionId && vm.$data.form.type === 'SERVICE') {\n\t\t\t\tlayerId = 5954;\n\t\t\t\tparams.type = vm.$data.form.type;\n\t\t\t\tparams.transactionId = vm.$data.form.transactionId;\n\t\t\t}\n\n\t\t\tvar url = '?layer_id=' + layerId;\n\t\t\tvm.LOADING_ORDERS = true; // глобальная крутилка\n\t\t\tUTIL.ridQuery(url, params, vm.$data).done(function (result) {\n\t\t\t\tpaymentCheckDispatch(result);\n\t\t\t}).fail(function (result) {\n\t\t\t\tpaymentCheckDispatch(result, true);\n\t\t\t});\n\n\t\t\tfunction paymentCheckDispatch(result, bErrorMode) {\n\t\t\t\tvar allOk = REQ.result === 'OK' && result.result === 'OK' && !bErrorMode;\n\t\t\t\tif (allOk) {\n\t\t\t\t\t// window.UTIL.dialogMessage('Оплата успешно подтверждена');\n\t\t\t\t\tif (result.response && result.response[0] && result.response[0].saleOrderId) {\n\t\t\t\t\t\t// для проверямой покупки доп. услуг передан ID покупки билетов, которые нужно показать\n\t\t\t\t\t\tvm.$data.form.saleOrderId = result.response[0].saleOrderId;\n\t\t\t\t\t}\n\t\t\t\t\tvm.getOrders(); // Показ заказа\n\t\t\t\t} else {\n\t\t\t\t\t// window.UTIL.dialogMessage('Произошла ошибка при проверке платежа');\n\t\t\t\t\tvm.LOADING_ORDERS = false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// Кнопка \"Начать покупку сначала\"\n\t\tbankResult_goStart: function bankResult_goStart() {\n\t\t\tvar url;\n\t\t\tif (PAGEDATA.theme === 'SPECIAL') {\n\t\t\t\tvar steps = window.store.session('Steps');\n\t\t\t\turl = steps && steps.trains ? steps.trains + '|_PREVENT_FORM_SUBMIT_' : '/'; // TODO замена | на &\n\t\t\t} else if (PAGEDATA.theme === 'REDESIGN') {\n\t\t\t\turl = '?layer_name=e3-route';\n\t\t\t} else {\n\t\t\t\turl = '/';\n\t\t\t}\n\t\t\twindow.location.href = url;\n\t\t},\n\t\t// На шаге возврата из банка в случае Яндекса \n\t\t// первым делом проверяем статус платежа в Яндексе, см. PIRS-13679\n\t\tbankResult_checkPaymentYandex: function bankResult_checkPaymentYandex() {\n\t\t\tvar vm = this;\n\t\t\tvar url = '/ticket/services/status/journey/' + vm.$data.form.saleOrderId + '/payment/' + window.PAGEDATA.lang;\n\t\t\tvar params = {};\n\n\t\t\t//Случай если оплачивались только доп услуги\n\t\t\tif (vm.$data.form.transactionId && vm.$data.form.type === 'SERVICE') {\n\t\t\t\tparams.type = vm.$data.form.type;\n\t\t\t\tparams.transactionId = vm.$data.form.transactionId;\n\t\t\t}\n\t\t\tvm.LOADING_ORDERS = true; // глобальная крутилка\n\t\t\tUTIL.ridQuery(url, params, vm.$data).done(function (result) {\n\t\t\t\tif (result.result === 'Error') {\n\t\t\t\t\tonYaError();\n\t\t\t\t} else if (result.result === 'OK') {\n\t\t\t\t\tif (result.data === 'PAID_YANDEX') {\n\t\t\t\t\t\tvm.bankResult_finalizePayment(true);\n\t\t\t\t\t} else if (result.data === 'ISSUED') {\n\t\t\t\t\t\tvm.getOrders(); // Показ заказа\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvm.bankResult_checkPaymentYandex(); // Следующая попытка запроса статуса оплаты\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).fail(onYaError).always(function () {\n\t\t\t\tvm.LOADING_ORDERS = false;\n\t\t\t});\n\n\t\t\tfunction onYaError() {\n\t\t\t\twindow.UTIL.dialogMessage('Ошибка запроса статуса платежа Яндекс.Деньги');\n\t\t\t}\n\t\t},\n\t\t// алерт сделанный на жиквери-уи-диалоге\n\t\t// можно передать селектор (обязательно класс)\n\t\t// можно передать готовую строку\n\t\talert: window.UTIL.dialogMessage\n\t}\n};\n\nfunction getOrders(bNext) {\n\n\tvar data = this;\n\tif (bNext === true) {\n\t\tdata.form.page++;\n\t} else {\n\t\tdata.form.page = 1;\n\t\tdata.slots = [];\n\t}\n\tvar params = $.extend({}, data.form);\n\n\tif ('history' in window && 'replaceState' in window.history) {\n\t\t// Если браузер умеет менять урл без перезагрузки (ИЕ11+), делаем это\n\t\tvar params2url = $.extend(REQ, params);\n\t\tif (data.bPageAfterBank === false) {\n\t\t\tdelete params2url.xmlmsg;\n\t\t\tdelete params2url.orderId;\n\t\t\tdelete params2url.paymentSystem;\n\t\t\tdelete params2url.result;\n\t\t}\n\t\twindow.history.replaceState(null, null, '?' + $.param(params2url));\n\t}\n\n\tvm.LOADING_ORDERS = true;\n\tUTIL.ridQuery(PAGEDATA.LayerLinks.orderList, params, vm).done(function (responseData) {\n\t\tUTIL.log('Ответ на запрос списка заказов', responseData);\n\t\tvar ticDate = responseData.timestamp.substr(3, 2) + '/' + responseData.timestamp.substr(0, 2) + '/' + responseData.timestamp.substr(6, 4) + ' ' + responseData.timestamp.substr(11);\n\t\tvar dateTimeNow = new Date(Date.parse(ticDate)); // Date.parse принимает дату в формате MM.DD.YYYY, чтоб его..\n\t\tdata.HUMAN_ERROR = null; // обнуление ошибки\n\n\t\tif (responseData.slots && !responseData.slots.length && window.location.search.indexOf('tD=1') != -1 && window.sessionStorage['mobile_Test'] != undefined) {\n\t\t\tresponseData = window.sessionStorage['mobile_Test'] ? JSON.parse(window.sessionStorage['mobile_Test']) : responseData;\n\t\t\tUTIL.log('Восстановлено из Хранилища', responseData);\n\t\t}\n\n\t\tif (typeof responseData.slots === 'undefined') {\n\t\t\tvar herr = 'Произошла ошибка. Пожалуйста, попробуйте выполнить запрос позже.';\n\t\t\tif (window.PAGEDATA.showErrors === true) {\n\t\t\t\therr += '\\n' + JSON.stringify(responseData, null, 2);\n\t\t\t}\n\t\t\tdata.HUMAN_ERROR = herr;\n\t\t} else {\n\t\t\t// Перемывка данных нашего доблестного API\n\t\t\t// Свойства, которые создаются в результате перемывки, названы капсом\n\t\t\tfor (var i = 0; i < responseData.slots.length; i++) {\n\t\t\t\tvar sord = responseData.slots[i]; // это запись в APP_SALE_ORDER, в шаблонах зачем-то называется ordslot\n\t\t\t\tif (sord.jstatus === 'ON_AVISO') {\n\t\t\t\t\t// PIRS-13686. jstatus - это journey_status\n\t\t\t\t\tON_AVISO_cnt++;\n\t\t\t\t\t// заказы в статусе ON_AVISO, см. PIRS-13686\n\t\t\t\t\tUTIL.log('В ответе найдена поездка в статусе ON_AVISO', sord);\n\t\t\t\t}\n\t\t\t\t//сортировка по дате билетов в заказе\n\t\t\t\tif (sord.lst.length > 1) {\n\t\t\t\t\tsord.lst.sort(sortByDate);\n\t\t\t\t}\n\t\t\t\tif (sord.refunds && sord.refunds.length !== 0) {\n\t\t\t\t\tvar sordRefund = sord.refunds[0];\n\t\t\t\t\t// Ваш возврат по платежной транзакции {{./../../transactionId}} обработан. и т.п.\n\t\t\t\t\t// Сообщение на боевом содержит разметку для мусташа\n\t\t\t\t\tsord.REFUND_MESSAGE = window.IFRMSG._orderRefundMessage.replace('{{./../../transactionId}}', ordslot.transactionId).replace('{{transferDate}}', sordRefund.transferDate).replace('{{amount}}', sordRefund.amount);\n\t\t\t\t}\n\t\t\t\tsord.LINK_REFUND_REGISTER = '?STRUCTURE_ID=735&layer_id=5963&transaction_id=' + sord.transactionId; // PIRS-16410\n\t\t\t\tsord.defShowTime = responseData.defShowTime; // переношу сюда чтобы не срать в корень\n\t\t\t\tsord.mskTimeSuffix = responseData.mskTimeSuffix; // переношу сюда чтобы не срать в корень\n\t\t\t\tvar routeNames = [];\n\t\t\t\tfor (var k = 0; k < sord.lst.length; k++) {\n\t\t\t\t\tvar ord = sord.lst[k]; // это запись в APP_ORDER\n\t\t\t\t\tord.ELREG_IFRMSG = '';\n\t\t\t\t\t// Внимание! Здесь надо перечислять все свойства, которые отсутствуют в API, \n\t\t\t\t\t// иначе они не станут реактивными (т.е. не будут на лету обновляться в шаблоне) \n\t\t\t\t\t// TODO по уму создавать их конструктором\n\t\t\t\t\tord.LOADING_STATUSES = false; // initial\n\t\t\t\t\tord.STATUS = null;\n\t\t\t\t\tord.HIDE = false; // скрываем в списке\n\t\t\t\t\tord.LOADER = false; // initial\n\t\t\t\t\tord.LINK_BLANK = '?layer_id=5422&ORDER_ID=' + ord.N;\n\t\t\t\t\tord.LINK_PDF = '/blank/ticket/download/pdf/order/' + ord.N;\n\t\t\t\t\tord.LINK_AUTORACK = '?STRUCTURE_ID=5235&layer_id=5473&app_order_id=' + ord.N;\n\t\t\t\t\tif (window.PAGEDATA.BaseParams.UFS_HOTELS === '1' && !ord.arrived) {\n\t\t\t\t\t\tord.LINK_HOTEL = getHotelLink(sord);\n\t\t\t\t\t}\n\t\t\t\t\tord.HUMAN_ERROR = '';\n\t\t\t\t\tord.SHOW_REFUNDED_ORDER = false;\n\t\t\t\t\tord.journeyId = sord.id;\n\t\t\t\t\tif (vm.$data.DEBUG) {\n\t\t\t\t\t\tord.ORDER_LINK = window.location.href + '&saleOrderId=' + sord.id;\n\t\t\t\t\t}\n\n\t\t\t\t\trouteNames.push({\n\t\t\t\t\t\t'from': ord.parentStation0 || ord.station0,\n\t\t\t\t\t\t'to': ord.parentStation1 || ord.station1,\n\t\t\t\t\t\t'dir': ord.dir\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (var j = 0; j < ord.lst.length; j++) {\n\t\t\t\t\t\tvar tik = ord.lst[j]; // это запись в APP_TICKET\n\t\t\t\t\t\tvar ticDate = ord.date0.substr(3, 2) + '/' + ord.date0.substr(0, 2) + '/' + ord.date0.substr(6, 4);\n\t\t\t\t\t\t// Date.parse принимает дату в формате MM.DD.YYYY, чтоб его..\n\t\t\t\t\t\ttik.dateTimeDeparture = new Date(Date.parse(ticDate + ' ' + ord.time0));\n\t\t\t\t\t\t// нужно для активации/дезактивации кнопки \"Сдать билет\", за 1 час до выезда должна блокироваться\n\n\t\t\t\t\t\ttik.LINK_BLANK = '?layer_id=5422&ORDER_ID=' + ord.N + '&ticket_id=' + tik.n;\n\n\t\t\t\t\t\tif (tik.goodsTotalCost) {\n\t\t\t\t\t\t\ttik.goodsTotalCost;\n\t\t\t\t\t\t\ttik.LINK_GOODS_LIST = '?layer_id=5972&ticket_id=' + tik.n + '&order_id=' + ord.N;\n\t\t\t\t\t\t\ttik.LINK_GOODS_BLANK_PDF = '/blank/extendedService/download/pdf/serviceOrder/' + ord.N;\n\t\t\t\t\t\t\t// tik.LINK_GOODS_BLANK_PDF = '/blank/extendedService/display/pdf/serviceOrder/' + ord.N;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttik.HUMAN_ERROR = '';\n\t\t\t\t\t\ttik.STATUS = {\n\t\t\t\t\t\t\t// первоначальный статус может быть null (если он не окончательный)\n\t\t\t\t\t\t\t// а может быть и сразу нормальный (если окончательный, например REFUNDED)\n\t\t\t\t\t\t\tNAME: tik.status ? window.lang(['TicketStatus', tik.status]) : '',\n\t\t\t\t\t\t\tCODE: tik.status\n\t\t\t\t\t\t};\n\t\t\t\t\t\tord.STATUS = !tik.status ? false : true;\n\n\t\t\t\t\t\ttik.ORDER_ID = ord.N;\n\t\t\t\t\t\ttik.LOADING_STATUS = false; // initial\n\t\t\t\t\t\ttik.LOADER = false; // initial\n\t\t\t\t\t\ttik.LOADING_REFUND_TICKET = false; // initial\n\t\t\t\t\t\ttik.LOADING_REFUND_INSURANCE = false; // initial\n\t\t\t\t\t\ttik.LINK_PDF = '/blank/ticket/download/pdf/order/' + ord.N + '/' + window.PAGEDATA.lang;\n\t\t\t\t\t\ttik.LINK_PNG = '/blank/ticket/download/png/order/' + ord.N + '/' + window.PAGEDATA.lang;\n\t\t\t\t\t\ttik.SHOW_INSURANCES = false;\n\t\t\t\t\t\ttik.SHOW_REFUND_FOOD = true;\n\t\t\t\t\t\ttik.SHOW_REFUND_FOOD_MSG = false;\n\n\t\t\t\t\t\tif (tik.extendedServices && tik.extendedServices.length && tik.dateTimeDeparture - dateTimeNow < 60 * 59 * 1000) {\n\t\t\t\t\t\t\t// запрет возврата еды менее чем за час до отправления.\n\t\t\t\t\t\t\ttik.SHOW_REFUND_FOOD = false;\n\t\t\t\t\t\t\ttik.SHOW_REFUND_FOOD_MSG = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (tik.insurances[0]) {\n\t\t\t\t\t\t\ttik.INSUR = tik.insurances[0];\n\t\t\t\t\t\t\ttik.LINK_INSURANCE = '?layer_id=5666&passenger_id=' + tik.insurances[0].passId;\n\t\t\t\t\t\t\tif (tik.INSUR.passId) {\n\t\t\t\t\t\t\t\ttik.LINK_INS_PDF = '/blank/insurance/download/pdf/passenger/' + tik.INSUR.passId + '/' + window.PAGEDATA.lang;\n\t\t\t\t\t\t\t\t// UTIL.log('LINK_INS_PDF', tik.LINK_INS_PDF)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (tik.policies[0] && tik.number == tik.policies[0].ticketNumber) {\n\t\t\t\t\t\t\tif (tik.policies[0]) {\n\t\t\t\t\t\t\t\ttik.POLICY = tik.policies[0];\n\t\t\t\t\t\t\t\ttik.POLICY_DATE = tik.policies[0].startDate + ' — ' + tik.policies[0].finishDate;\n\t\t\t\t\t\t\t\ttik.POLICY_AREA = data.DMSAREA[tik.policies[0].areaId];\n\t\t\t\t\t\t\t\ttik.POLICY_STATUS = data.POLICY_STATUSES[tik.policies[0].statusId];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (tik.policies[0]) {\n\t\t\t\t\t\t\t//delete tik.policies[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar routeName = routeNames[0].from,\n\t\t\t\t    directional = routeNames[0].dir;\n\t\t\t\tif (routeNames.length > 1) {\n\t\t\t\t\tfor (var r = 1; r < routeNames.length; r++) {\n\t\t\t\t\t\tif (routeNames[r].dir != directional) {\n\t\t\t\t\t\t\trouteName += ' — ' + routeNames[r].from;\n\t\t\t\t\t\t\tdirectional = routeNames[r].dir;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\trouteName += ' — ' + routeNames[routeNames.length - 1].to;\n\t\t\t\t\t//UTIL.log(routeNames, routeName); // название сложных маршрутов\n\t\t\t\t\tsord.routeNames = routeName;\n\t\t\t\t}\n\n\t\t\t\tif (bNext === true) {\n\t\t\t\t\t// рисуем след. страницу\n\t\t\t\t\tdata.slots.push(sord);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (bNext !== true) {\n\t\t\t\t// первоначальная отрисовка\n\t\t\t\tdata.slots = responseData.slots;\n\t\t\t}\n\t\t\tif (ON_AVISO_cnt !== ON_AVISO_cnt_prev) {\n\t\t\t\tUTIL.dialogMessage($('.j-on-aviso-popup')); // PIRS-13686\n\t\t\t\tON_AVISO_cnt = ON_AVISO_cnt_prev;\n\t\t\t}\n\t\t\tdata.lastPage = responseData.lastPage;\n\n\t\t\tif (window.location.search.indexOf('tD=1') != -1 && !window.sessionStorage['mobile_Test']) {\n\t\t\t\twindow.sessionStorage['mobile_Test'] = JSON.stringify(responseData);\n\t\t\t}\n\t\t}\n\n\t\t// Формирование ссылки \"Забронировать отель\"\n\t\t// Изначально она с разметкой и закодированным хрефом\n\t\t// лежит в сообщении UFS_HOTELS_ORDERS\n\t\t// Формат хрефа - Петин, кастомные разделители \n\t\t// передаются третьим аргументом UTIL.formatStr\n\t\t// аргумент - SALE_ORDER (в нашем апи это элемент slots)\n\t\tfunction getHotelLink(sord) {\n\t\t\tvar ord = sord.lst[0];\n\t\t\tvar ordBack = sord.lst[1];\n\n\t\t\tif (ord.arrived || !window.IFRMSG.UFS_HOTELS_ORDERS) {\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tvar bdarray = [];\n\t\t\tfor (var i = 0; i < ord.lst.length; i++) {\n\t\t\t\tbdarray.push(ord.lst[i].birthday);\n\t\t\t}\n\n\t\t\tvar parametrizedMsg = UTIL.formatStr(window.IFRMSG.UFS_HOTELS_ORDERS, {\n\t\t\t\tcode1: ord.code1,\n\t\t\t\tdate1: ord.date1,\n\t\t\t\ttime1: ord.time1,\n\t\t\t\tbirthdays: bdarray.join(),\n\t\t\t\tbk_date0: ordBack ? ordBack.date0 : '',\n\t\t\t\tbk_time0: ordBack ? ordBack.time0 : ''\n\t\t\t}, ['$%', '$']).replace(/http:\\/\\/pass/gm, window.location.protocol + '//pass'); // чтобы ссылки на БДММ не вызывали варнинга\n\t\t\treturn parametrizedMsg;\n\t\t}\n\n\t\tfunction sortByDate(a, b) {\n\t\t\tvar date1 = TDate.parse(a.date0),\n\t\t\t    date2 = TDate.parse(b.date0);\n\t\t\treturn date1 - date2;\n\t\t}\n\t}).always(function () {\n\t\tdata.LOADING_ORDERS = false;\n\t});\n};\n\nfunction downloadFile(url) {\n\tdocument.querySelector('#download-iframe').setAttribute('src', url);\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (component);\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(0)();\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(0)();\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(0)();\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(0)();\n// imports\n\n\n// module\nexports.push([module.i, \".devbar[data-v-9fdb1872]{z-index:777;position:fixed;top:0;right:0;background:#fff;padding:15px 20px;border-radius:0 0 0 14px;box-shadow:-2px 2px 9px 1px #666;line-height:26px}.devbar .glyphicon[data-v-9fdb1872]{cursor:pointer}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(30)\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(11),\n  /* template */\n  __webpack_require__(26),\n  /* scopeId */\n  \"data-v-0589a51d\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(33)\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(12),\n  /* template */\n  __webpack_require__(29),\n  /* scopeId */\n  \"data-v-9fdb1872\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(31)\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(13),\n  /* template */\n  __webpack_require__(27),\n  /* scopeId */\n  \"data-v-2a4e4196\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [(_vm.showForm) ? _c('div', {\n    staticClass: \"login\"\n  }, [_c('div', {\n    staticClass: \"j-inp login-box\"\n  }, [_c('form', {\n    staticClass: \"j-form\",\n    attrs: {\n      \"name\": \"auth_form\",\n      \"data-type\": \"Auth\"\n    },\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.submitForm(_vm.form)\n      }\n    }\n  }, [_c('div', [_c('div', [_c('div', {\n    staticClass: \"form-group\"\n  }, [_c('label', [_vm._v(\"Логин\")]), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.name),\n      expression: \"form.name\"\n    }],\n    staticClass: \"form-control\",\n    attrs: {\n      \"type\": \"text\",\n      \"name\": \"nm\",\n      \"size\": \"20\",\n      \"title\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.form.name)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.form.name = $event.target.value\n      }\n    }\n  })])]), _vm._v(\" \"), _c('div', [_c('div', {\n    staticClass: \"form-group\"\n  }, [_c('label', [_vm._v(\"Пароль\")]), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.password),\n      expression: \"form.password\"\n    }],\n    staticClass: \"form-control\",\n    attrs: {\n      \"type\": \"password\",\n      \"name\": \"psw\",\n      \"size\": \"20\",\n      \"title\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.form.password)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.form.password = $event.target.value\n      }\n    }\n  })])]), _vm._v(\" \"), _c('div', [_c('div', {\n    staticClass: \"checkbox\"\n  }, [_c('label', [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.save),\n      expression: \"form.save\"\n    }],\n    attrs: {\n      \"type\": \"checkbox\",\n      \"name\": \"sv\"\n    },\n    domProps: {\n      \"checked\": Array.isArray(_vm.form.save) ? _vm._i(_vm.form.save, null) > -1 : (_vm.form.save)\n    },\n    on: {\n      \"__c\": function($event) {\n        var $$a = _vm.form.save,\n          $$el = $event.target,\n          $$c = $$el.checked ? (true) : (false);\n        if (Array.isArray($$a)) {\n          var $$v = null,\n            $$i = _vm._i($$a, $$v);\n          if ($$el.checked) {\n            $$i < 0 && (_vm.form.save = $$a.concat([$$v]))\n          } else {\n            $$i > -1 && (_vm.form.save = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n          }\n        } else {\n          _vm.form.save = $$c\n        }\n      }\n    }\n  }), _vm._v(\"Запомнить\")])])]), _vm._v(\" \"), _vm._m(0), _vm._v(\" \"), _vm._m(1), _vm._v(\" \"), _c('div', {\n    staticClass: \"text-center\"\n  }, [_c('div', {\n    staticClass: \"btn-group buttons-box\"\n  }, [_c('a', {\n    staticClass: \"btn btn-wide\",\n    attrs: {\n      \"type\": \"button\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.closeForm()\n      }\n    }\n  }, [_vm._v(\"Отмена\")]), _c('input', {\n    staticClass: \"btn btn-wide btn-red-rzd\",\n    attrs: {\n      \"type\": \"submit\",\n      \"value\": \"Вход\"\n    }\n  })])])])])])]) : _vm._e(), _vm._v(\" \"), (_vm.onRequest) ? _c('div', {\n    staticClass: \"j-wait main-content margin-content\"\n  }, [_c('div', {\n    staticClass: \"alert alert-plain text-center\"\n  }, [_vm._m(2), _vm._v(\" \"), _c('p', [_vm._v(\"Запрос авторизации...\")]), _vm._v(\" \"), _c('div', [_c('a', {\n    staticClass: \"j-cancel btn btn-red-rzd\",\n    on: {\n      \"click\": function($event) {\n        _vm.closeForm()\n      }\n    }\n  }, [_vm._v(\"Отмена\")])])])]) : _vm._e(), _vm._v(\" \"), (_vm.errorAuth) ? _c('div', {\n    staticClass: \"j-error main-content margin-content\"\n  }, [_vm._m(3)]) : _vm._e(), _vm._v(\" \"), (_vm.authSuccess) ? _c('div', {\n    staticClass: \"j-success main-content margin-content\"\n  }, [_vm._m(4)]) : _vm._e(), _vm._v(\" \"), (_vm.showNotAuthMsg) ? _c('div', {\n    staticClass: \"j-noneAuth main-content margin-content\"\n  }, [_vm._m(5)]) : _vm._e()])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('a', {\n    attrs: {\n      \"href\": \"/selfcare/pwdRemind/ru\"\n    }\n  }, [_vm._v(\"Забыли пароль?\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('a', {\n    attrs: {\n      \"href\": \"/selfcare/register/ru\"\n    }\n  }, [_vm._v(\"Регистрация\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('img', {\n    attrs: {\n      \"src\": \"/images/please-wait.gif\"\n    }\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"alert alert-danger\"\n  }, [_c('div', [_c('span', {\n    staticClass: \"glyphicon glyphicon-exclamation-sign\"\n  }), _vm._v(\" Ошибка в процессе авторизации!\"), _c('br'), _vm._v(\"\\n\\t\\t\\t\\tПопробуйте ещё раз ввести логин и пароль.\\n\\n\\t\\t\\t\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"alert alert-info\"\n  }, [_c('div', [_c('span', {\n    staticClass: \"glyphicon glyphicon-exclamation-sign\"\n  }), _vm._v(\" Вы успешно авторизованы.\\n\\n\\t\\t\\t\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"alert alert-info\"\n  }, [_c('div', [_c('span', {\n    staticClass: \"glyphicon glyphicon-exclamation-sign\"\n  }), _vm._v(\" Авторизуйтесь, пожалуйста.\\n\\n\\t\\t\\t\")])])\n}]}\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [(_vm.paymentAvailable) ? [_c('div', {\n    staticClass: \"page-reserv\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_vm._l((_vm.list), function(ps) {\n    return _c('div', {\n      staticClass: \"col-sm-4 col-xs-6 payment-systems__item\",\n      class: {\n        'selected': _vm.curCode === ps.code\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.select(ps)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"payment-systems__item-cont\"\n    }, [_c('label', {\n      attrs: {\n        \"title\": ps.tip\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": '/dbmm/images/61/28054/' + ps.id\n      }\n    })])])])\n  }), _vm._v(\" \"), (_vm.yandexMoney) ? _c('form', {\n    ref: \"yaform\",\n    attrs: {\n      \"action\": _vm.yandexMoney.url || 'https://money.yandex.ru/eshop.xml',\n      \"method\": \"post\"\n    }\n  }, _vm._l((_vm.yandexMoney), function(val, key) {\n    return (key !== 'url') ? _c('input', {\n      attrs: {\n        \"name\": key,\n        \"type\": \"hidden\"\n      },\n      domProps: {\n        \"value\": val\n      }\n    }) : _vm._e()\n  })) : _vm._e()], 2), _vm._v(\" \"), (_vm.HUMAN_ERROR) ? _c('pre', {\n    staticClass: \"pre-message pre-message-common\"\n  }, [_vm._v(_vm._s(_vm.HUMAN_ERROR))]) : _vm._e()])] : _vm._e()], 2)\n},staticRenderFns: []}\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    staticClass: \"main-content\"\n  }, [_c('auth-handler'), _vm._v(\" \"), (!_vm.bAuthFormVisible) ? [(_vm.bShowForm) ? [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-xs-12\"\n  }, [_c('form', {\n    staticClass: \"pass-cabinet-form\",\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.getOrders($event)\n      }\n    }\n  }, [_c('div', {}, [_c('div', {\n    staticClass: \"form-group col-xs-12 col-md-6\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"id-date0\"\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"Departure Date\"\n    }\n  }), _vm._v(\" \"), _c('dict', {\n    attrs: {\n      \"name\": \"predlog/ot\"\n    }\n  })], 1), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"jqui-datepicker\",\n      rawName: \"v-jqui-datepicker\",\n      value: (_vm.form.date0),\n      expression: \"form.date0\"\n    }],\n    staticClass: \"form-control input-lg\",\n    attrs: {\n      \"data-custom-default-value\": \"true\",\n      \"id\": \"id-date0\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-group col-xs-12 col-md-6\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"id-date1\"\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"predlog/do\"\n    }\n  })], 1), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"jqui-datepicker\",\n      rawName: \"v-jqui-datepicker\",\n      value: (_vm.form.date1),\n      expression: \"form.date1\"\n    }],\n    staticClass: \"form-control input-lg\",\n    attrs: {\n      \"id\": \"id-date1\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-group col-xs-12 text-right\"\n  }, [_c('label', [_vm._v(\" \")]), _vm._v(\" \"), _c('button', {\n    staticClass: \"btn btn-with-icon btn-rzd-round\",\n    attrs: {\n      \"type\": \"submit\"\n    }\n  }, [_c('span', {\n    staticClass: \"glyphicon glyphicon-search\"\n  }), _c('dict', {\n    attrs: {\n      \"name\": \"Find\"\n    }\n  })], 1)])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-xs-12 text-center\"\n  }, [_c('div', {\n    staticClass: \"btn-group\"\n  }, [_c('a', {\n    staticClass: \"btn\",\n    class: {\n      active: _vm.form.mode === 'active'\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.changeMode('active')\n      }\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"CabinetMode_active\"\n    }\n  })], 1), _vm._v(\" \"), _c('a', {\n    staticClass: \"btn\",\n    class: {\n      active: _vm.form.mode === 'archive'\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.changeMode('archive')\n      }\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"CabinetMode_archive\"\n    }\n  })], 1)])])])])])])] : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"margin-content\"\n  }, [(_vm.PAYMENT_RESULT) ? _c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-xs-12\"\n  }, [(_vm.PAYMENT_RESULT === 'OK') ? _c('h1', [_c('dict', {\n    attrs: {\n      \"name\": \"Ticket/headerPaymentOk\"\n    }\n  })], 1) : _c('div', {\n    staticClass: \"alert alert-danger\"\n  }, [(_vm.PAYMENT_RESULT === 'CANCEL') ? _c('ifrmsg', {\n    attrs: {\n      \"name\": \"PSTKT_BANK_CANCEL\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.PAYMENT_RESULT === 'DECLINE') ? _c('ifrmsg', {\n    attrs: {\n      \"name\": \"PSTKT_BANK_CANCEL\"\n    }\n  }) : _vm._e()], 1)])]) : _vm._e()]), _vm._v(\" \"), (_vm.HUMAN_ERROR) ? _c('div', {\n    staticClass: \"row\"\n  }, [_c('pre', {\n    staticClass: \"col-xs-12 pre-message pre-message-common\"\n  }, [_vm._v(_vm._s(_vm.HUMAN_ERROR))])]) : _vm._e(), _vm._v(\" \"), (_vm.slots.length && _vm.bShowForm) ? _c('h3', {\n    staticClass: \"orders-header\"\n  }, [_vm._v(\"Список заказов\")]) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.slots), function(ordslot, ordslot_index) {\n    return _c('div', {\n      staticClass: \"order-items\",\n      attrs: {\n        \"id\": 'hash-sord-' + ordslot.id\n      }\n    }, _vm._l((ordslot.lst), function(ord, index) {\n      return _c('div', {\n        staticClass: \"order\"\n      }, [(index == 0 && ordslot.routeNames) ? _c('div', {\n        staticClass: \"margin-content text-bold route-header\"\n      }, [_vm._v(_vm._s(ordslot.routeNames))]) : _vm._e(), _vm._v(\" \"), _c('div', {\n        staticClass: \"order-item\"\n      }, [_c('div', {\n        staticClass: \"order-item-content clearfix\",\n        class: {\n          'order-refunded': ord.STATUS, 'order-refunded-show': ord.SHOW_REFUNDED_ORDER\n        }\n      }, [(ord.STATUS) ? _c('div', {\n        staticClass: \"icon-show-refunded\",\n        on: {\n          \"click\": function($event) {\n            if (!('button' in $event) && _vm._k($event.keyCode, \"keyup\") && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n            _vm.showRefundedOrder(ord)\n          }\n        }\n      }, [_c('div', {\n        staticClass: \"glyphicon\",\n        class: {\n          'glyphicon-chevron-up': ord.SHOW_REFUNDED_ORDER, 'glyphicon-chevron-down': !ord.SHOW_REFUNDED_ORDER\n        }\n      })]) : _vm._e(), _vm._v(\" \"), _c('div', {\n        staticClass: \"onrefund-row clearfix\"\n      }, [_c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-xs-12 text-bigger\"\n      }, [_c('dict', {\n        attrs: {\n          \"name\": \"Train\"\n        }\n      }), _vm._v(\" \"), _c('b', [_vm._v(_vm._s(ord.train))]), (ord.brand) ? _c('b', {\n        staticClass: \"text-red\"\n      }, [_vm._v(\" \" + _vm._s(ord.brand))]) : _vm._e()], 1)]), _vm._v(\" \"), _c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-xs-12 text-bigger\"\n      }, [_c('dict', {\n        attrs: {\n          \"name\": \"Ticket/Car\"\n        }\n      }), _vm._v(\" \\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\"), _c('b', [(ord.bWithoutPlaces) ? _c('ifrmsg', {\n        attrs: {\n          \"name\": \"ANY_VAGON_LASTOCHKA\"\n        }\n      }) : [_vm._v(_vm._s(ord.car) + \" (\" + _vm._s(ord.carCls) + \")\")]], 2)], 1)])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"row form-group onrefund-one-line\"\n      }, [_c('div', {\n        staticClass: \"col-xs-6 text-bigger\"\n      }, [_vm._v(_vm._s(ord.station0))]), _vm._v(\" \"), _c('div', {\n        staticClass: \"col-xs-6 text-bigger\"\n      }, [_vm._v(_vm._s(ord.station1))])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"row form-group onrefund-show\"\n      }, [_c('div', {\n        staticClass: \"col-xs-5\"\n      }, [_c('div', {\n        class: 'datetime-wrap datetime-wrap_first-' + ordslot.defShowTime\n      }, [(ord.localDate0) ? _c('div', {\n        staticClass: \"datetime-local\"\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(ord.localDate0) + \" \"), _c('b', [_vm._v(_vm._s(ord.localTime0))]), _vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t \"), _c('span', {\n        staticClass: \"color-grey\"\n      }, [_vm._v(_vm._s(ord.timeDeltaString0))])]) : _vm._e(), _vm._v(\" \"), _c('div', {\n        staticClass: \"datetime-msk\"\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(ord.date0) + \" \"), _c('b', [_vm._v(_vm._s(ord.time0))]), _vm._v(\" \"), (ord.Msk0) ? _c('span', {\n        staticClass: \"color-grey\"\n      }, [_vm._v(_vm._s(ordslot.mskTimeSuffix))]) : _vm._e()])])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"col-xs-1\"\n      }, [_vm._v(\" → \")]), _vm._v(\" \"), _c('div', {\n        staticClass: \"col-xs-6\"\n      }, [_c('div', {\n        class: 'datetime-wrap datetime-wrap_first-' + ordslot.defShowTime\n      }, [(ord.localDate1) ? _c('div', {\n        staticClass: \"datetime-local\"\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(ord.localDate1) + \" \"), _c('b', [_vm._v(_vm._s(ord.localTime1))]), _vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t \"), _c('span', {\n        staticClass: \"color-grey\"\n      }, [_vm._v(_vm._s(ord.timeDeltaString1))])]) : _vm._e(), _vm._v(\" \"), _c('div', {\n        staticClass: \"datetime-msk\"\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(ord.date1) + \" \"), _c('b', [_vm._v(_vm._s(ord.time1))]), _vm._v(\" \"), (ord.Msk1) ? _c('span', {\n        staticClass: \"color-grey\"\n      }, [_vm._v(_vm._s(ordslot.mskTimeSuffix))]) : _vm._e()])])])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"row form-group hdn\"\n      }, [_c('div', {\n        staticClass: \"col-xs-12 text-right\"\n      }, [_c('div', {\n        staticClass: \"btn-group\"\n      }, [_c('a', {\n        staticClass: \"btn\",\n        attrs: {\n          \"target\": \"_blank\",\n          \"href\": ord.LINK_BLANK\n        }\n      }, [_c('dict', {\n        attrs: {\n          \"name\": \"Order form\"\n        }\n      })], 1), _vm._v(\" \"), _c('button', {\n        staticClass: \"btn\",\n        attrs: {\n          \"disabled\": ord.LOADING_STATUSES\n        },\n        on: {\n          \"click\": function($event) {\n            _vm.getBlank_ticket('pdf', ord)\n          },\n          \"keyup\": function($event) {\n            if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n            _vm.getBlank_ticket('pdf', ord)\n          }\n        }\n      }, [_vm._v(\"PDF\")])])])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"row form-group\"\n      }, [_c('div', {\n        staticClass: \"col-xs-12\"\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tСтоимость заказа: \"), _c('span', {\n        staticClass: \"text-red\"\n      }, [_vm._v(_vm._s(ord.cost) + \" руб.\")])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"col-xs-12 text-small\"\n      }, [_c('dict', {\n        attrs: {\n          \"name\": \"Ticket/transactionId\"\n        }\n      }), _vm._v(\": \"), _c('span', [_vm._v(_vm._s(ordslot.transactionId))])], 1)]), _vm._v(\" \"), (!ord.left) ? _c('div', {\n        staticClass: \"row form-group\"\n      }, [_c('div', {\n        staticClass: \"col-xs-12 text-right\"\n      }, [(!ord.left) ? _c('button', {\n        staticClass: \"btn-with-icon btn\",\n        attrs: {\n          \"disabled\": ord.LOADING_STATUSES\n        },\n        on: {\n          \"click\": function($event) {\n            _vm.getStatuses(ord)\n          }\n        }\n      }, [_c('i', {\n        staticClass: \"glyphicon glyphicon-info-sign\"\n      }), _vm._v(\" \"), _c('dict', {\n        attrs: {\n          \"name\": \"Ticket/Request for ticket status\"\n        }\n      })], 1) : _vm._e()])]) : _vm._e(), _vm._v(\" \"), (ordslot.REFUND_MESSAGE) ? _c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-xs-12\"\n      }, [_c('div', {\n        staticClass: \"pass-orderList-refund-msg__cont\"\n      }, [_c('div', {\n        staticClass: \"refund-msg__item\",\n        domProps: {\n          \"innerHTML\": _vm._s(ordslot.REFUND_MESSAGE)\n        }\n      })])])]) : _vm._e(), _vm._v(\" \"), (!ord.left && ord.avisoTimer) ? _c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-xs-12\"\n      }, [_c('h3', [_c('i', {\n        staticClass: \"glyphicon glyphicon-time\"\n      }), _vm._v(\" Заказ подтверждается.\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t \" + _vm._s(ord.avisoTimer) + \" мин.\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])])]) : _vm._e(), _vm._v(\" \"), (ord.HUMAN_ERROR) ? _c('pre', {\n        staticClass: \"pre-message pre-message-common\"\n      }, [_vm._v(_vm._s(ord.HUMAN_ERROR))]) : _vm._e(), _vm._v(\" \"), _vm._l((ord.lst), function(tik) {\n        return _c('div', {\n          staticClass: \"order-item-ticket\"\n        }, [_c('div', {\n          class: {\n            'ticket-refunded': tik.status === 'REFUNDED'\n          }\n        }, [_c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-xs-7 text-bold\"\n        }, [_vm._v(_vm._s(tik.name))]), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-xs-5 text-right text-small\"\n        }, [_vm._v(\"(док. \" + _vm._s(tik.doc) + \")\")])]), _vm._v(\" \"), _c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-xs-4\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Ticket/Car\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-xs-8\"\n        }, [(ord.bWithoutPlaces) ? _c('ifrmsg', {\n          attrs: {\n            \"name\": \"ANY_VAGON_LASTOCHKA\"\n          }\n        }) : [_c('span', {\n          staticClass: \"text-bold\"\n        }, [_vm._v(_vm._s(ord.car) + \" (\" + _vm._s(ord.carCls) + \")\")])]], 2)]), _vm._v(\" \"), _c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-xs-4\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Place\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-xs-8\"\n        }, [(ord.bWithoutPlaces) ? _c('ifrmsg', {\n          attrs: {\n            \"name\": \"VAGON_NO_SEATS_LASTOCHKA\"\n          }\n        }) : (tik.place) ? [_c('span', {\n          staticClass: \"text-bold\"\n        }, [_vm._v(_vm._s(tik.place))]), _vm._v(\" \" + _vm._s(tik.seatsTypeName) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")] : [_c('dict', {\n          attrs: {\n            \"name\": \"Ticket/withoutPlace\"\n          }\n        })]], 2)]), _vm._v(\" \"), _c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-xs-4\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Ticket/Cost\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-xs-8\"\n        }, [_c('span', {\n          staticClass: \"text-red\"\n        }, [_vm._v(_vm._s(_vm._f(\"FORMAT_SUM\")(tik.cost)) + \" руб.\")]), _vm._v(\" (\" + _vm._s(tik.tariff) + \")\")])]), _vm._v(\" \"), _c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-xs-4\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Status\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-xs-8\"\n        }, [(true) ? _c('div', [(tik.LOADER || ord.LOADER) ? _c('i', {\n          staticClass: \"spin\"\n        }) : _c('div', [_c('b', [_vm._v(_vm._s(tik.STATUS.NAME))]), _vm._v(\"   \\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])]) : _vm._e()])]), _vm._v(\" \"), _c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-xs-12\"\n        }, [_c('div', {\n          staticClass: \"text-right\"\n        }, [_c('div', {\n          staticClass: \"form-group btn-group\"\n        }, [_c('a', {\n          staticClass: \"btn\",\n          attrs: {\n            \"target\": \"_blank\",\n            \"href\": tik.LINK_BLANK\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Ticket blank\"\n          }\n        })], 1), _vm._v(\" \"), _c('button', {\n          staticClass: \"btn\",\n          attrs: {\n            \"disabled\": ord.LOADING_STATUSES\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.getBlank_ticket('pdf', ord, tik)\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.getBlank_ticket('pdf', ord, tik)\n            }\n          }\n        }, [_vm._v(\"PDF\")]), _vm._v(\" \"), _c('button', {\n          staticClass: \"btn\",\n          attrs: {\n            \"disabled\": ord.LOADING_STATUSES\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.getBlank_ticket('png', ord, tik)\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.getBlank_ticket('png', ord, tik)\n            }\n          }\n        }, [_vm._v(\"PNG\")])]), _vm._v(\" \"), (tik.STATUS.CODE === 'REFUNDED') ? _c('div', {\n          staticClass: \"form-group form-group\"\n        }, [_c('a', {\n          staticClass: \"btn\",\n          attrs: {\n            \"target\": \"_blank\",\n            \"href\": ord.LINK_BLANK\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Ticket/Refund coupon\"\n          }\n        })], 1)]) : _vm._e()])])]), _vm._v(\" \"), (tik.INSUR || tik.POLICY) ? _c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"text-bold clickable\",\n          on: {\n            \"click\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"keyup\") && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.showInsurances(tik)\n            }\n          }\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tСтраховки\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\"), _c('div', {\n          staticClass: \"glyphicon\",\n          class: {\n            'glyphicon-chevron-up': tik.SHOW_INSURANCES, 'glyphicon-chevron-down': !tik.SHOW_INSURANCES\n          }\n        })]), _vm._v(\" \"), (tik.SHOW_INSURANCES) ? _c('div', {\n          staticClass: \"ticket-insurances clearfix\"\n        }, [(tik.INSUR) ? _c('div', {\n          staticClass: \"clearfix\"\n        }, [_c('div', {\n          staticClass: \"col-xs-12\"\n        }, [_c('span', {\n          staticClass: \"text-bold\"\n        }, [_vm._v(\"Страховка \")]), _vm._v(\" \"), (tik.INSUR.Refunded == 1) ? _c('span', [_c('ifrmsg', {\n          attrs: {\n            \"name\": \"POLICY_CABINET_RETURN_STATUS\"\n          }\n        })], 1) : _c('span', [_vm._v(_vm._s(tik.INSUR.shortName))])]), _vm._v(\" \"), (tik.INSUR.cost) ? _c('div', {\n          staticClass: \"col-xs-12\"\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tСтоимость: \"), _c('span', {\n          staticClass: \"text-red\"\n        }, [_vm._v(_vm._s(_vm._f(\"FORMAT_SUM\")(tik.INSUR.cost)) + \" руб.\")])]) : _vm._e(), _vm._v(\" \"), (_vm.isInsuranceActive(tik)) ? _c('div', {\n          staticClass: \"col-xs-12 text-right\"\n        }, [_c('div', {\n          staticClass: \"btn-group\"\n        }, [_c('a', {\n          staticClass: \"btn\",\n          attrs: {\n            \"target\": \"_blank\",\n            \"href\": tik.LINK_INSURANCE\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Insurance policy\"\n          }\n        })], 1), _vm._v(\" \"), _c('a', {\n          staticClass: \"btn\",\n          on: {\n            \"click\": function($event) {\n              _vm.getBlank_insurance(tik, 'pdf')\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.getBlank_insurance(tik, 'pdf')\n            }\n          }\n        }, [_vm._v(\"PDF\")])])]) : _vm._e()]) : _vm._e(), _vm._v(\" \"), (tik.POLICY) ? _c('div', {\n          staticClass: \"clearfix\"\n        }, [_c('div', {\n          staticClass: \"col-xs-12\"\n        }, [_c('b', [_c('ifrmsg', {\n          attrs: {\n            \"name\": \"POLICY_TITLE\"\n          }\n        })], 1), _vm._v(\" \"), _c('xsl:text'), _vm._v(\" \"), _c('ifrmsg', {\n          attrs: {\n            \"name\": \"POLICY_COMPANY\"\n          }\n        })], 1), _vm._v(\" \"), (tik.POLICY_STATUS.code != 'ISSUED') ? _c('div', {\n          staticClass: \"col-xs-12 text-bold\",\n          domProps: {\n            \"innerHTML\": _vm._s(tik.POLICY_STATUS.name)\n          }\n        }) : _c('div', [_c('div', {\n          staticClass: \"col-xs-12\"\n        }, [_c('ifrmsg', {\n          attrs: {\n            \"name\": \"POLICY_FORM_PRICE\"\n          }\n        }), _vm._v(\" \"), _c('span', {\n          staticClass: \"text-red\"\n        }, [_vm._v(_vm._s(_vm._f(\"FORMAT_SUM\")(tik.POLICY.cost)) + \" руб.\")])], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-xs-12\"\n        }, [_c('ifrmsg', {\n          attrs: {\n            \"name\": \"POLICY_FORM_TERRITORY\"\n          }\n        }), _vm._v(\": \"), _c('b', [_vm._v(_vm._s(tik.POLICY_AREA))])], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-xs-12\"\n        }, [_vm._v(\"Срок действия полиса: \"), _c('b', [_vm._v(_vm._s(tik.POLICY_DATE))])])]), _vm._v(\" \"), (tik.POLICY_STATUS.code == 'ISSUED') ? _c('div', {\n          staticClass: \"col-xs-12 text-right\"\n        }, [_c('div', {\n          staticClass: \"btn-group\"\n        }, [(tik.POLICY_STATUS.code == 'ISSUED') ? _c('a', {\n          staticClass: \"btn\",\n          attrs: {\n            \"target\": \"_blank\",\n            \"href\": tik.POLICY.link\n          }\n        }, [_vm._v(\"PDF\")]) : _vm._e()])]) : _vm._e()]) : _vm._e()]) : _vm._e()]) : _vm._e(), _vm._v(\" \"), (tik.HUMAN_ERROR) ? _c('pre', {\n          staticClass: \"pre-message pre-message-common\"\n        }, [_vm._v(_vm._s(tik.HUMAN_ERROR))]) : _vm._e(), _vm._v(\" \"), (!ord.left) ? _c('div', [_c('div', {\n          staticClass: \"row\",\n          staticStyle: {\n            \"margin-top\": \"15px\"\n          }\n        }, [(_vm.isTicketActionsAvailable(tik, ord)) ? _c('div', {\n          staticClass: \"col-xs-12 form-group text-right\"\n        }, [_c('button', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (tik.STATUS.CODE === 'PAID'),\n            expression: \"tik.STATUS.CODE==='PAID'\"\n          }],\n          staticClass: \"btn\",\n          attrs: {\n            \"disabled\": tik.LOADING_STATUS\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.changeStatus(tik, ord, true)\n            }\n          }\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tПройти электронную регистрацию\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), _c('button', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (tik.STATUS.CODE === 'REGISTERED'),\n            expression: \"tik.STATUS.CODE==='REGISTERED'\"\n          }],\n          staticClass: \"btn\",\n          attrs: {\n            \"disabled\": tik.LOADING_STATUS\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.changeStatus(tik, ord, false)\n            }\n          }\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tОтменить электронную регистрацию\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])]) : _vm._e(), _vm._v(\" \"), (!ord.bNonRefundable && tik.status != 'REFUNDED') ? _c('div', {\n          staticClass: \"col-xs-12 form-group text-right\"\n        }, [_c('span', {\n          staticStyle: {\n            \"margin-right\": \"10px\"\n          }\n        }, [_c('i', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (tik.LOADING_REFUND_TICKET),\n            expression: \"tik.LOADING_REFUND_TICKET\"\n          }],\n          staticClass: \"spin spin-sm\"\n        })]), _vm._v(\" \"), _c('button', {\n          staticClass: \"btn\",\n          attrs: {\n            \"disabled\": tik.LOADING_REFUND_TICKET\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.refundTicket(tik, ord, ordslot)\n            }\n          }\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tОформить возврат билета \\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])]) : _vm._e(), _vm._v(\" \"), _c('div', {\n          staticStyle: {\n            \"display\": \"none\"\n          }\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(tik) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), (_vm.isInsuranceRefundAvailable(tik, ord)) ? _c('div', {\n          staticClass: \"col-xs-12 form-group text-right\"\n        }, [(tik.INSUR.Refunded != 1) ? _c('a', {\n          staticClass: \"btn\",\n          on: {\n            \"click\": function($event) {\n              _vm.refundInsurance(tik, ord)\n            }\n          }\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tОформить возврат страховки\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]) : _vm._e()]) : _vm._e(), _vm._v(\" \"), (_vm.isPolicyRefundAvailable(tik, ord)) ? _c('div', {\n          staticClass: \"col-xs-12 form-group text-right\"\n        }, [_c('span', [_c('button', {\n          staticClass: \"btn\",\n          staticStyle: {\n            \"white-space\": \"normal\",\n            \"text-align\": \"left\"\n          },\n          attrs: {\n            \"target\": \"_blank\",\n            \"disabled\": ord.LOADING_STATUSES\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.refundDMS(tik, ord)\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.refundDMS(tik, ord)\n            }\n          }\n        }, [_c('ifrmsg', {\n          attrs: {\n            \"name\": \"POLICY_CABINET_RETURN_TITLE\"\n          }\n        })], 1)])]) : _vm._e()])]) : _vm._e()])])\n      }), _vm._v(\" \"), (ord.ELREG_IFRMSG) ? _c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-xs-12 msg-mobile-block\"\n      }, [_c('ifrmsg', {\n        attrs: {\n          \"name\": ord.ELREG_IFRMSG\n        }\n      })], 1)]) : _vm._e()], 2)])])\n    }))\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-xs-12 text-center\",\n    staticStyle: {\n      \"margin-top\": \"1em\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.LOADING_ORDERS === false),\n      expression: \"LOADING_ORDERS===false\"\n    }]\n  }, [_c('a', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.lastPage),\n      expression: \"!lastPage\"\n    }],\n    staticClass: \"btn\",\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.getOrders(true)\n      }\n    }\n  }, [_vm._v(\"Показать ещё\")]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.slots.length === 0 && _vm.bShowForm === true),\n      expression: \"slots.length===0  && bShowForm === true\"\n    }]\n  }, [_c('ifrmsg', {\n    attrs: {\n      \"name\": \"PSTKT_CABINET_MSG_EMPTY_SLOTS\"\n    }\n  })], 1)]), _vm._v(\" \"), _c('i', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.LOADING_ORDERS === true),\n      expression: \"LOADING_ORDERS===true\"\n    }],\n    staticClass: \"spin spin-lg\"\n  })]), _vm._v(\" \"), (_vm.bShowBankResultBtns) ? [_c('div', {\n    staticClass: \"col-xs-12\"\n  }, [(_vm.bShowRetryPayment) ? _c('payment-handler', {\n    ref: \"paymentHandler\",\n    attrs: {\n      \"jr\": _vm.journeyReservation\n    }\n  }) : _vm._e()], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"clearfix text-center\"\n  }, [_c('div', {\n    staticClass: \"btn-group\",\n    staticStyle: {\n      \"font-size\": \".9em\"\n    }\n  }, [(_vm.bShowRetryPayment) ? _c('a', {\n    staticClass: \"btn btn-md\",\n    on: {\n      \"click\": _vm.retryPayment\n    }\n  }, [_vm._v(\"Попытаться оплатить ещё раз\")]) : _vm._e(), _vm._v(\" \"), (_vm.bShowRetryPayment && _vm.LOADING_ORDERS) ? _c('i', {\n    staticClass: \"spin spin-xs\"\n  }) : _vm._e(), _vm._v(\" \"), _c('a', {\n    staticClass: \"btn btn-md\",\n    attrs: {\n      \"href\": _vm.LINK('route')\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.bankResult_goStart($event)\n      }\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"Ticket/start ticket processing first\"\n    }\n  })], 1), _vm._v(\" \"), _c('a', {\n    staticClass: \"btn btn-md\",\n    attrs: {\n      \"href\": \"LINK('cabinet')\"\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"Go to My orders\"\n    }\n  })], 1)])])] : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"hdn\"\n  }, [_c('div', {\n    staticClass: \"j-on-aviso-popup\"\n  }, [_c('ifrmsg', {\n    attrs: {\n      \"name\": \"PST_WAIT_TRIP_STATUS_BLIND\"\n    }\n  }), _vm._v(\" \"), _vm._l((_vm.slots), function(ordslot, ordslot_index) {\n    return _c('div', {\n      attrs: {\n        \"id\": 'hash-sord-' + ordslot.id\n      }\n    }, [(ordslot.jstatus === 'ON_AVISO') ? _c('div', [_c('a', {\n      staticClass: \"link-dotted\",\n      on: {\n        \"click\": function($event) {\n          _vm.getStatusesForSaleOrder(ordslot)\n        }\n      }\n    }, [_c('dict', {\n      attrs: {\n        \"name\": \"Ticket/transactionId\"\n      }\n    }), _vm._v(\" \" + _vm._s(ordslot.transactionId) + \"\\n\\t\\t\\t\\t\\t\\t\\t\")], 1)]) : _vm._e()])\n  })], 2), _vm._v(\" \"), (_vm.refundMsg) ? _c('div', {\n    staticClass: \"j-refund-popup\"\n  }, [(_vm.refundMsg.bMulti) ? _c('p', [(_vm.refundMsg.bDisabledCompanion) ? _c('ifrmsg', {\n    attrs: {\n      \"name\": \"DPEOPLE_TICKET_SIMULTANEOUS_RETURN\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (!_vm.refundMsg.bDisabledCompanion) ? _c('dict', {\n    attrs: {\n      \"name\": \"Only the simultaneous return of several tickets at once is possible!\"\n    }\n  }) : _vm._e()], 1) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.refundMsg.list), function(ritem) {\n    return _c('div', {\n      staticClass: \"form-group\"\n    }, [_c('div', {\n      staticClass: \"row\"\n    }, [_c('div', {\n      staticClass: \"col-xs-4\"\n    }, [_c('dict', {\n      attrs: {\n        \"name\": \"Departure\"\n      }\n    })], 1), _c('div', {\n      staticClass: \"col-xs-8 text-bold\"\n    }, [_vm._v(_vm._s(_vm.refundMsg.ord.date0) + \" \" + _vm._s(_vm.refundMsg.ord.time0))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"col-xs-4\"\n    }, [_c('dict', {\n      attrs: {\n        \"name\": \"Train\"\n      }\n    })], 1), _c('div', {\n      staticClass: \"col-xs-8 text-bold\"\n    }, [_vm._v(_vm._s(_vm.refundMsg.ord.train))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"col-xs-4\"\n    }, [_c('dict', {\n      attrs: {\n        \"name\": \"Ticket/Car\"\n      }\n    })], 1), _c('div', {\n      staticClass: \"col-xs-8 text-bold\"\n    }, [_vm._v(_vm._s(_vm.refundMsg.ord.car))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"col-xs-4\"\n    }, [_c('dict', {\n      attrs: {\n        \"name\": \"Place\"\n      }\n    })], 1), _c('div', {\n      staticClass: \"col-xs-8 text-bold\"\n    }, [_vm._v(_vm._s(ritem.place))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"col-xs-12 text-bold\"\n    }, [_vm._v(_vm._s(ritem.name))])]), _vm._v(\" \"), _c('div', {\n      domProps: {\n        \"innerHTML\": _vm._s(ritem.text)\n      }\n    }), _vm._v(\" \"), _c('br')])\n  }), _vm._v(\" \"), (_vm.refundMsg.bINSUR) ? _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('ifrmsg', {\n    attrs: {\n      \"name\": \"INSURANCE_REFUND_SUM\"\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"text-bold\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.refundMsg.bINSUR_cost)\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"text-bold\"\n  }, [_vm._v(\"руб.\")])], 1) : _vm._e(), _vm._v(\" \"), (_vm.refundMsg.bDMS) ? _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('ifrmsg', {\n    attrs: {\n      \"name\": \"POLICY_CABINET_REFUND_SUM\"\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"text-bold\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.refundMsg.bDMS_cost)\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"text-bold\"\n  }, [_vm._v(\"руб.\")])], 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('ifrmsg', {\n    attrs: {\n      \"name\": \"REFUND_INFO_CABINET\"\n    }\n  })], 1), _vm._v(\" \"), (_vm.refundMsg.bYandex) ? _c('ifrmsg', {\n    attrs: {\n      \"name\": \"REFUND_RULES_YANDEX_MONEY\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (!_vm.refundMsg.bYandex) ? _c('ifrmsg', {\n    attrs: {\n      \"name\": \"REFUND_RULES_BANK\"\n    }\n  }) : _vm._e()], 2) : _vm._e()])] : _vm._e()], 2)])\n},staticRenderFns: []}\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    staticClass: \"devbar\"\n  }, [_c('a', {\n    attrs: {\n      \"href\": _vm.homeUrl\n    }\n  }, [_c('i', {\n    staticClass: \"glyphicon glyphicon-home\"\n  })]), _vm._v(\"  \\n\\t\\t\"), _c('a', {\n    attrs: {\n      \"href\": _vm.realUrl\n    }\n  }, [_c('i', {\n    staticClass: \"glyphicon glyphicon-new-window\",\n    attrs: {\n      \"title\": \"Перейти на реальную (непроксированную) страницу. Не забудь сбилдить изменения\"\n    }\n  })])])])\n},staticRenderFns: []}\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(19);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"1218c73c\", content, true);\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(20);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"3e90b756\", content, true);\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(21);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"28021029\", content, true);\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(22);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"152fd8b0\", content, true);\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports) {\n\n/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nmodule.exports = function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n\n\n/***/ })\n],[17]);\n\n\n// WEBPACK FOOTER //\n// cabinet_mobile--bundle.js","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/css-loader/lib/css-base.js\n// module id = 0\n// module chunks = 0","module.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  scopeId,\n  cssModules\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  // inject cssModules\n  if (cssModules) {\n    var computed = options.computed || (options.computed = {})\n    Object.keys(cssModules).forEach(function (key) {\n      var module = cssModules[key]\n      computed[key] = function () { return module }\n    })\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/component-normalizer.js\n// module id = 1\n// module chunks = 0","/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\nvar listToStyles = require('./listToStyles')\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nmodule.exports = function (parentId, list, _isProduction) {\n  isProduction = _isProduction\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[data-vue-ssr-id~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-style-loader/lib/addStylesClient.js\n// module id = 2\n// module chunks = 0","/**\r\n\tГлобальные миксины\r\n\tИмена глобальных методов и функций - капсом\r\n*/\r\n\r\n//const moment = require('moment')\r\n//moment.locale('ru');\r\n\r\nexport default {\r\n\tmethods: {\r\n\t\tDICT: function(key) { // для вывода слов лучше использовать компонент <dict name=\"MY_DICT_KEY\"/>, функция нужна например для вывода в атрибуты\r\n\t\t\tif (key.indexOf('/') !== -1) {\r\n\t\t\t\tkey = key.split('/');\r\n\t\t\t}\r\n\t\t\treturn window.lang(key)\r\n\t\t},\r\n\t\tLINK: function(key) {\r\n\t\t\tif (window.PAGEDATA && window.PAGEDATA.LayerLinks && window.PAGEDATA.LayerLinks[key]) {\r\n\t\t\t\treturn window.PAGEDATA.LayerLinks;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.error('Не найдена ссылка window.PAGEDATA.LayerLinks.' + key);\r\n\t\t\t\treturn ''\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tfilters: {\r\n\t\tDF_FULL: function(val) { // DateFormat_full\r\n\t\t\tif (!val) {\r\n\t\t\t\treturn ''\r\n\t\t\t}\r\n\t\t\tvar date = new Date(val);\r\n\t\t\tif (date.toLocaleString) {\r\n\t\t\t\treturn date.toLocaleString()\r\n\t\t\t}\r\n\t\t\t//return moment(val).format('MM.DD.YYYY hh:mm');\r\n\t\t},\r\n\t\tCAPITALIZE: UTIL.capitalizeEachWord,\r\n\t\tFORMAT_SUM: UTIL.formatSum\r\n\t},\r\n\tcomponents: {\r\n\t\t'dict': {\r\n\t\t\tprops: {\r\n\t\t\t\tname: {\r\n\t\t\t\t\ttype: String\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdata: function() {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcontent: ''\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcreated: function() {\r\n\t\t\t\tvar key = this.$props.name;\r\n\t\t\t\tif (key.indexOf('/') !== -1) {\r\n\t\t\t\t\tkey = key.split('/');\r\n\t\t\t\t}\r\n\t\t\t\tvar value = window.lang(key);\r\n\t\t\t\tvar comment = this.IS_DEV ? `<!--${key}-->` : '';\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tthis.$data.content = comment + value;\r\n\t\t\t\t}\r\n\t\t\t\telse if (this.IS_DEV) {\r\n\t\t\t\t\tthis.$data.content = `Словарная запись с ключом «${key}» не найдена`;\r\n\t\t\t\t\tconsole.error(this.$data.content);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttemplate: `<span v-html=\"content\"></span>`\r\n\t\t},\r\n\t\t'ifrmsg': {\r\n\t\t\tprops: {\r\n\t\t\t\tname: {\r\n\t\t\t\t\ttype: String\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdata: function() {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcontent: ''\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcreated: function() {\r\n\t\t\t\tvar key = this.$props.name;\r\n\t\t\t\tvar value = window.IFRMSG[key];\r\n\t\t\t\tvar comment = this.IS_DEV ? `<!--${key}-->` : '';\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tthis.$data.content = comment + value;\r\n\t\t\t\t}\r\n\t\t\t\telse if (this.IS_DEV) {\r\n\t\t\t\t\tthis.$data.content = `Сообщение ИФР «${key}» не найдено в window.IFRMSG`;\r\n\t\t\t\t\tconsole.error(this.$data.content);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttemplate: `<span v-html=\"content\"></span>`\r\n\t\t}\r\n\t},\r\n\tcomputed: { // отвечает за показ стектрейсов, подробный вывод в консоль, глобальные переменные - ссылки на инстанс VUEI и всякое такое\r\n\t\tIS_DEV: function() {\r\n\t\t\treturn window.PAGEDATA && window.PAGEDATA.showErrors\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/mixins/index.js","import Vue from 'vue'\r\nimport devmenu from '@comps/devmenu.vue'\r\nimport globalMixins from '@mixins'\r\n\r\n/** Функция, создающая корневой инстанс Vue, призвана избежать дублирования кода */\r\n\r\nexport default function(pageComponent) {\r\n\r\n\tvar vm = new Vue({\r\n\t\tel: '#vue-app',\r\n\t\tmixins: [globalMixins],\r\n\t\tcomponents: {\r\n\t\t\tdevmenu,\r\n\t\t\t'page-component': pageComponent\r\n\t\t},\r\n\t\ttemplate: '<div><devmenu v-if=\"IS_DEV\"/><page-component/></div>'\r\n\t});\r\n\r\n\tif (window && window.PAGEDATA && window.PAGEDATA.showErrors) {\r\n\t\twindow.VUEI = vm;\r\n\t};\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/*\r\n\timport Vue from 'vue'\r\n\timport router from './cabinet-router.js'\r\n\timport store from '@store.js'\r\n\timport devmenu from '@comps/devmenu.vue'\r\n\timport mixins from '@mixins'\r\n\r\n\tvar vm = new Vue({\r\n\t\tel: '#vue-app',\r\n\t\trouter,\r\n\t\tstore,\t\r\n\t\tmixins: [mixins],\r\n\t\tcomponents: {devmenu},\r\n\t\ttemplate: '<div><devmenu v-if=\"IS_DEV\"/><router-view/></div>'\r\n\t\t// вместо темплейте, если компонент один, можно указать render: (h) => h(Theme),\r\n\t});\r\n\r\n\tif (window && window.PAGEDATA && window.PAGEDATA.showErrors) {\r\n\t\twindow.VUEI = vm;\r\n\t}\r\n*/\n\n\n// WEBPACK FOOTER //\n// ./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/entry-points/_makeRoot.js","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?minimize!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-5e48d1ae&scoped=true!less-loader!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./cabinet-mobile.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./cabinet-mobile.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-5e48d1ae!../../node_modules/vue-loader/lib/selector?type=template&index=0!./cabinet-mobile.vue\"),\n  /* scopeId */\n  \"data-v-5e48d1ae\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/pages/cabinet-mobile.vue\n// module id = 7\n// module chunks = 0","module.exports = {\r\n\t// Хосты также указаны в секции scripts в package.json, тут уж никак от дублирования не избавишься\r\n\tfake: {\r\n\t\tdomain: 'pass2.psi.oooinex.ru',\r\n\t\tport: ':8090', // :1488,\r\n\t\tprotocol: 'http://',\r\n\t\tget siteUrl() {\r\n\t\t\treturn this.protocol + this.domain + (this.port || '');\r\n\t\t}\r\n\t},\r\n\treal: {\r\n\t\tdomain: 'pass.psi.oooinex.ru',\r\n\t\tprotocol: 'https://',\r\n\t\tget siteUrl() {\r\n\t\t\treturn this.protocol + this.domain;\r\n\t\t}\r\n\t},\r\n\tpsiIp: '172.22.2.92'\r\n}\n\n\n// WEBPACK FOOTER //\n// ./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/hosts.js","\r\n<script>\r\n\texport default {\r\n\t\tname: 'AuthHandlerMobile',\r\n\t\tdata: function() {\r\n\t\t\treturn {\r\n\t\t\t\tform: { // поля формы можно задать в урле\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tpassword: '',\r\n\t\t\t\t\tsave: ''\r\n\t\t\t\t},\r\n\t\t\t\tisAuth: window.getAuth(),\r\n\t\t\t\tauthCookie: window.getAuthCookie(),\r\n\t\t\t\tauthFields: [\r\n\t\t\t\t['nm', 'j_username'],\r\n\t\t\t\t['psw', 'j_password'],\r\n\t\t\t\t['c', 'CAPTCHA']\r\n\t\t\t\t],\r\n\t\t\t\tonRequest: false,\r\n\t\t\t\terrorAuth: false,\r\n\t\t\t\tshowForm: false,\r\n\t\t\t\tauthSuccess: false,\r\n\t\t\t\tshowNotAuthMsg: window.getAuth() ? false : true\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted: function() {\r\n\t\t\twindow.vueAuthInstance = this;  // глобальная ссылка используется в common2016.js (ridQuery)\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tgetAuth: function() {\r\n\t\t\t\t// Получить объект авторизации, если он есть\r\n\t\t\t\t// Поля: nm, psw, sv=true|false\r\n\t\t\t\tvar authKey = 'auth',\r\n\t\t\t\tauthObj = Session.get(authKey);\r\n\t\t\t\tif (!authObj) {\r\n\t\t\t\t\tauthObj = Storage.get(authKey);\r\n\t\t\t\t\tif (authObj) {\r\n\t\t\t\t\t\tSession.set(authKey, authObj);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn authObj;\r\n\t\t\t},\r\n\t\t\tgetAuthCookie: function() {\r\n\t\t\t\tvar i, p, key, lst = document.cookie.split(';')\r\n\t\t\t\tfor (i in lst) {\r\n\t\t\t\t\tp = lst[i].split('=');\r\n\t\t\t\t\tkey = $.trim(p[0]);\r\n\t\t\t\t\tif (key == 'LtpaToken2') {\r\n\t\t\t\t\t\treturn p[1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\ttitlePage: function(isVisible) {\r\n\t\t\t\tvar pageTitle = isVisible ? 'Авторизация' : $('#CommonTitle').data('title');\r\n\t\t\t\t$('#CommonTitle').text(pageTitle);\r\n\t\t\t},\r\n\t\t\ttoggleForm: function(isVisible) { // isVisible - активна форма авторизации\r\n\t\t\t\tthis.showForm = !!isVisible;\r\n\t\t\t\tthis.$parent.bAuthFormVisible = !!isVisible;\r\n\t\t\t\tthis.titlePage(isVisible);\r\n\t\t\t\tthis.showAuthMsg(this.isAuthF());\r\n\t\t\t},\r\n\t\t\ttoggleBlocks: function(showForm, onRequest, errorAuth) { // toggleBlocks(1, 0, 0)\r\n\t\t\t\tthis.showForm = showForm ? true : false;\r\n\t\t\t\tthis.onRequest = onRequest ? true : false;\r\n\t\t\t\tthis.errorAuth = errorAuth ? true : false;\r\n\t\t\t},\r\n\t\t\tisAuthF: function() {\r\n\t\t\t\treturn !!getAuth();\r\n\t\t\t},\r\n\t\t\tshowAuthMsg: function(isAuth) {\r\n\t\t\t\tthis.showNotAuthMsg = this.showForm ? false : !isAuth; // подсказка об авторизации должна выводится только в списке\r\n\t\t\t},\r\n\t\t\tsubmitForm: function(form) {\r\n\t\t\t\t// Алгоритм авторизации:\r\n\t\t\t\t// 1. Запрос auth\r\n\t\t\t\t// 2. Проверка куки\r\n\t\t\t\t// 3. Если кука есть, сохранить объект авторизации и закрыть модальное окно\r\n\t\t\t\tvar data = this,\r\n\t\t\t\tauthObj = {\r\n\t\t\t\t\tnm: form.name,\r\n\t\t\t\t\tpsw: form.password,\r\n\t\t\t\t\tsv: form.save\r\n\t\t\t\t};\r\n\t\t\t\tthis.toggleBlocks(0, 1, 0); // показать [форму авторизации, лоадер, ошибки]\r\n\r\n\t\t\t\t_request('auth', copyFields({}, authObj, AuthFields), 0, 0, function() {\r\n\t\t\t\t\tif (isAuthCookie()) {\r\n\t\t\t\t\t\t\t// Авторизация на сервере выполнена успешно. Сохраняем объект авторизации для Радона\r\n\t\t\t\t\t\t\tsaveAuth(authObj);\r\n\t\t\t\t\t\t\tupdateMMenu();\r\n\t\t\t\t\t\t\tdata.closeForm(true);\r\n\t\t\t\t\t\t\tdata.$parent.getOrders(); // после успешной авторизации получить заново список заказов\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t// Ошибка авторизации. Либо неправильные логин с паролем, либо ошибка на сервере... не имеет значения\r\n\t\t\t\t\t\t\t// TODO: Тут нужно предусмотреть механизм показа капчи\r\n\t\t\t\t\t\t\tthis.toggleBlocks(1, 0, 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// Возвращает 1, если клиент авторизован в системе (есть нужная кука, проставленная сервером)\r\n\t\t\t\t\tfunction isAuthCookie() {\r\n\t\t\t\t\t\treturn !!getAuthCookie();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfunction getAuthCookie() {\r\n\t\t\t\t\t\tvar i, p, key, lst = document.cookie.split(';')\r\n\t\t\t\t\t\tfor (i in lst) {\r\n\t\t\t\t\t\t\tp = lst[i].split('=');\r\n\t\t\t\t\t\t\tkey = $.trim(p[0]);\r\n\t\t\t\t\t\t\tif (key == 'LtpaToken2') {\r\n\t\t\t\t\t\t\t\treturn p[1];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn '';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\tfunction saveAuth(authObj) { // необходимо для авторизации Радона и вывода логина в меню.\r\n\t\t\t\t\tvar authKey = 'auth';\r\n\t\t\t\t\tSession.set(authKey, authObj);\r\n\t\t\t\t\tStorage.set(authKey, (authObj && authObj.sv) ? authObj : 0);\r\n\t\t\t\t}\r\n\t\t\t}, // submitForm\r\n\t\t\tclearAuthCookie: function() {\r\n\t\t\t\tdocument.cookie = \"LtpaToken2=; expires=Thu, 01-Jan-1970 00:00:01 GMT;\";\r\n\t\t\t},\r\n\t\t\topenForm: function(st) {\r\n\t\t\t\tthis.toggleForm(true);\r\n\t\t\t},\r\n\t\t\tcloseForm: function(success) {\r\n\t\t\t\tvar data = this;\r\n\t\t\t\tdata.toggleBlocks(0, 0, 0);\r\n\t\t\t\tif (success) {\r\n\t\t\t\t\tdata.authSuccess = true;\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tdata.authSuccess = false;\r\n\t\t\t\t\t\tdata.toggleForm(false);\r\n\t\t\t\t\t}, 1000);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tdata.toggleForm(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"less\">/* здесь можно писать scoped стили, либо указать src внешнего файла */</style> \r\n\r\n<template>\t\r\n\t<div>\r\n\t\t<div class=\"login\" v-if=\"showForm\">\r\n\t\t\t<div class=\"j-inp login-box\">\r\n\t\t\t\t<form class=\"j-form\" name=\"auth_form\" data-type=\"Auth\" v-on:submit.prevent=\"submitForm(form)\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div class=\"form-group\"><label>Логин</label><input v-model=\"form.name\" type=\"text\" class=\"form-control\" name=\"nm\" size=\"20\" title=\"\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div class=\"form-group\"><label>Пароль</label><input v-model=\"form.password\" type=\"password\" class=\"form-control\" name=\"psw\" size=\"20\" title=\"\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div class=\"checkbox\"><label><input v-model=\"form.save\" type=\"checkbox\" name=\"sv\">Запомнить</label></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div><a href=\"/selfcare/pwdRemind/ru\">Забыли пароль?</a></div>\r\n\t\t\t\t\t\t<div><a href=\"/selfcare/register/ru\">Регистрация</a></div>\r\n\t\t\t\t\t\t<div class=\"text-center\">\r\n\t\t\t\t\t\t\t<div class=\"btn-group buttons-box\"><a class=\"btn btn-wide\" type=\"button\" v-on:click=\"closeForm()\">Отмена</a><input class=\"btn btn-wide btn-red-rzd\" type=\"submit\" value=\"Вход\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"j-wait main-content margin-content\" v-if=\"onRequest\">\r\n\t\t\t<div class=\"alert alert-plain text-center\">\r\n\t\t\t\t<div><img src=\"/images/please-wait.gif\"></div>\r\n\t\t\t\t<p>Запрос авторизации...</p>\r\n\t\t\t\t<div><a class=\"j-cancel btn btn-red-rzd\" v-on:click=\"closeForm()\">Отмена</a></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"j-error main-content margin-content\" v-if=\"errorAuth\">\r\n\t\t\t<div class=\"alert alert-danger\">\r\n\t\t\t\t<div><span class=\"glyphicon glyphicon-exclamation-sign\"></span> Ошибка в процессе авторизации!<br>\r\n\t\t\t\t\tПопробуйте ещё раз ввести логин и пароль.\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"j-success main-content margin-content\" v-if=\"authSuccess\">\r\n\t\t\t<div class=\"alert alert-info\">\r\n\t\t\t\t<div><span class=\"glyphicon glyphicon-exclamation-sign\"></span> Вы успешно авторизованы.\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"j-noneAuth main-content margin-content\" v-if=\"showNotAuthMsg\">\r\n\t\t\t<div class=\"alert alert-info\">\r\n\t\t\t\t<div><span class=\"glyphicon glyphicon-exclamation-sign\"></span> Авторизуйтесь, пожалуйста.\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\n\n\n// WEBPACK FOOTER //\n// auth-handler-mobile.vue?8532ec20","<script>\r\n\tconst Hosts = require('@src/../hosts.js');\r\n\texport default {\r\n\t\tname: 'DevMenu',\r\n\t\tcomputed: {\r\n\t\t\thomeUrl: function(){\r\n\t\t\t\treturn Hosts.fake.siteUrl\r\n\t\t\t},\r\n\t\t\trealUrl: function(){\r\n\t\t\t\treturn window.location.href.replace(Hosts.fake.siteUrl, Hosts.real.siteUrl);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t/*function getCabinetUrlPrefix(layerId, bAccessible) { // 5901, 5975\r\n\t\tvar formatContext = bAccessible ? '/accessible' : '';\r\n\t\treturn `${Hosts.fake.siteUrl}/sale/secure/ru${formatContext}?STRUCTURE_ID=704&layer_id=${layerId}`;\r\n\t}*/\r\n</script>\r\n\r\n\r\n<template>\r\n\t<div>\r\n\t\t<div class=\"devbar\">\r\n\t\t\t<a :href=\"homeUrl\"><i class=\"glyphicon glyphicon-home\"></i></a> &nbsp;\r\n\t\t\t<a :href=\"realUrl\"><i class=\"glyphicon glyphicon-new-window\" title=\"Перейти на реальную (непроксированную) страницу. Не забудь сбилдить изменения\"></i></a>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<style scoped lang=\"less\"> /* Изолированные (scoped) стили обвязки */\r\n.devbar {\r\n\tz-index: 777;\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbackground: #fff;\t\r\n\tpadding: 15px 20px;\r\n\tborder-radius: 0 0 0 14px;\r\n\tbox-shadow: -2px 2px 9px 1px #666;\t\r\n\tline-height: 26px;\t\r\n\t.glyphicon {\r\n\t\tcursor: pointer;\r\n\t}\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// devmenu.vue?3b3de2d5","<script>import componentMixin from './payment-handler.js';export default {name:'PaymentHandlerMobile', mixins: [componentMixin]}</script>\r\n<style scoped lang=\"less\">/* здесь можно писать scoped стили, либо указать src внешнего файла */</style> \r\n\r\n<template>\t\r\n\t<div>\r\n\t\t<template v-if=\"paymentAvailable\">\t\t\t\r\n\t\t\t<div class=\"page-reserv\">\r\n\t\t\t\t<div class=\"row\">\r\n\r\n\t\t\t\t\t<div class=\"col-sm-4 col-xs-6 payment-systems__item\" \r\n\t\t\t\t\t\tv-for=\"ps in list\" \r\n\t\t\t\t\t\tv-on:click=\"select(ps)\"\r\n\t\t\t\t\t\tv-bind:class=\"{'selected': curCode === ps.code}\">\r\n\t\t\t\t\t\t<div class=\"payment-systems__item-cont\">\r\n\t\t\t\t\t\t\t<label v-bind:title=\"ps.tip\">\r\n\t\t\t\t\t\t\t\t<img v-bind:src=\"'/dbmm/images/61/28054/' + ps.id\"/>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<form v-if=\"yandexMoney\" v-bind:action=\"yandexMoney.url || 'https://money.yandex.ru/eshop.xml'\" method=\"post\" ref=\"yaform\">\r\n\t\t\t\t\t\t<input v-for=\"(val, key) in yandexMoney\" v-bind:name=\"key\" v-bind:value=\"val\" v-if=\"key !== 'url'\" type=\"hidden\" />\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<pre v-if=\"HUMAN_ERROR\" class=\"pre-message pre-message-common\">{{HUMAN_ERROR}}</pre>\r\n\r\n\t\t\t</div>\r\n\t\t</template>\r\n\t</div>\t\r\n</template>\n\n\n// WEBPACK FOOTER //\n// payment-handler-mobile.vue?0d759a6d","<!-- что к чему в ответе на запрос заказа: slots.id === APP_SALE_ORDER.ID, slots.lst. === APP_ORDER.ID, slots.lst.lst.n\t=== APP_TICKET.ID -->\r\n<template>\r\n\t<div>\r\n\t\t\r\n\t\t<div class=\"main-content\">\r\n\r\n\t\t\t<auth-handler></auth-handler>\r\n\r\n\t\t\t<template v-if=\"!bAuthFormVisible\">\r\n\r\n\t\t\t\t<template v-if=\"bShowForm\">\r\n\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<div class=\"col-xs-12\">\t\r\n\t\t\t\t\t\t\t<form class=\"pass-cabinet-form\" v-on:submit.prevent=\"getOrders\">\r\n\t\t\t\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"form-group col-xs-12 col-md-6\">\r\n\t\t\t\t\t\t\t\t\t\t<label for=\"id-date0\"><dict name=\"Departure Date\"/>&#160;<dict name=\"predlog/ot\"/></label>\r\n\t\t\t\t\t\t\t\t\t\t<input class=\"form-control input-lg\" v-jqui-datepicker=\"form.date0\" data-custom-default-value=\"true\" id=\"id-date0\"/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"form-group col-xs-12 col-md-6\">\r\n\t\t\t\t\t\t\t\t\t\t<label for=\"id-date1\"><dict name=\"predlog/do\"/></label> \r\n\t\t\t\t\t\t\t\t\t\t<input class=\"form-control input-lg\" v-jqui-datepicker=\"form.date1\" id=\"id-date1\"/> \r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"form-group col-xs-12 text-right\">\r\n\t\t\t\t\t\t\t\t\t\t<label>&#160;</label> \r\n\t\t\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"btn btn-with-icon btn-rzd-round\"><span class=\"glyphicon glyphicon-search\"/><dict name=\"Find\"/></button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12 text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"btn-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t<a class=\"btn\" v-on:click=\"changeMode('active')\" v-bind:class=\"{active:form.mode==='active'}\" ><dict name=\"CabinetMode_active\"/></a>\r\n\t\t\t\t\t\t\t\t\t\t\t<a class=\"btn\" v-on:click=\"changeMode('archive')\" v-bind:class=\"{active:form.mode==='archive'}\" ><dict name=\"CabinetMode_archive\"/></a>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</template>\r\n\r\n\t\t\t\t<div class=\"margin-content\">\r\n\t\t\t\t\t<div class=\"row\" v-if=\"PAYMENT_RESULT\">\r\n\t\t\t\t\t\t<div class=\"col-xs-12\">\r\n\t\t\t\t\t\t\t<h1 v-if=\"PAYMENT_RESULT === 'OK'\"><dict name=\"Ticket/headerPaymentOk\"/></h1>\r\n\t\t\t\t\t\t\t<div v-else class=\"alert alert-danger\">\t\r\n\t\t\t\t\t\t\t\t<ifrmsg v-if=\"PAYMENT_RESULT === 'CANCEL'\" name=\"PSTKT_BANK_CANCEL\"/>\r\n\t\t\t\t\t\t\t\t<ifrmsg v-if=\"PAYMENT_RESULT === 'DECLINE'\" name=\"PSTKT_BANK_CANCEL\"/>\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"row\" v-if=\"HUMAN_ERROR\">\r\n\t\t\t\t\t<pre class=\"col-xs-12 pre-message pre-message-common\">{{HUMAN_ERROR}}</pre>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<h3 class=\"orders-header\" v-if=\"slots.length && bShowForm\">Список заказов</h3>\r\n\r\n\t\t\t\t<div v-for=\"(ordslot, ordslot_index) in slots\" v-bind:id=\"'hash-sord-'+ordslot.id\" class=\"order-items\"> \r\n\t\t\t\t\t<!-- TODO: здесь надо бы вывести заголовок маршрута, если он туда-обратно или с пересадкой -->\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div v-for=\"(ord, index) in ordslot.lst\" class=\"order\">\r\n\t\t\t\t\t\t<div v-if=\"index == 0 && ordslot.routeNames\" class=\"margin-content text-bold route-header\">{{ordslot.routeNames}}</div>\r\n\t\t\t\t\t\t<div class=\"order-item\">\r\n\t\t\t\t\t\t\t<div class=\"order-item-content clearfix\" v-bind:class=\"{'order-refunded': ord.STATUS, 'order-refunded-show': ord.SHOW_REFUNDED_ORDER}\">\r\n\t\t\t\t\t\t\t\t<div class=\"icon-show-refunded\" v-if=\"ord.STATUS\" v-on:click.keyup.enter.space=\"showRefundedOrder(ord)\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"glyphicon\" v-bind:class=\"{'glyphicon-chevron-up' : ord.SHOW_REFUNDED_ORDER, 'glyphicon-chevron-down' : !ord.SHOW_REFUNDED_ORDER }\"></div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"onrefund-row clearfix\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12 text-bigger\">\r\n\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Train\" />&#160;<b>{{ord.train}}</b><b v-if=\"ord.brand\" class=\"text-red\">&#160;{{ord.brand}}</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12 text-bigger\">\r\n\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Ticket/Car\" />&#160;\r\n\t\t\t\t\t\t\t\t\t\t\t<b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ifrmsg v-if=\"ord.bWithoutPlaces\" name=\"ANY_VAGON_LASTOCHKA\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<template v-else=\"\">{{ord.car}} ({{ord.carCls}})</template>\r\n\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"row form-group onrefund-one-line\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-6 text-bigger\">{{ord.station0}}</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-6 text-bigger\">{{ord.station1}}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"row form-group onrefund-show\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-5\">\r\n\t\t\t\t\t\t\t\t\t\t<!-- ЕСЛИ класс datetime-wrap_first-msk ТО CSS (flex) выводит блок с местным временем после московского, ЕСЛИ класс datetime-wrap_first-local то порядок как в разметке (сначала местное) -->\r\n\t\t\t\t\t\t\t\t\t\t<div v-bind:class=\"'datetime-wrap datetime-wrap_first-' + ordslot.defShowTime\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- время местное -->\r\n\t\t\t\t\t\t\t\t\t\t\t<div v-if=\"ord.localDate0\" class=\"datetime-local\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ord.localDate0}}&#160;<b>{{ord.localTime0}}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t&#160;<span class=\"color-grey\">{{ord.timeDeltaString0}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- время московское -->\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"datetime-msk\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ord.date0}}&#160;<b>{{ord.time0}}</b>&#160;<span class=\"color-grey\" v-if=\"ord.Msk0\">{{ordslot.mskTimeSuffix}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-1\"> → </div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-6\">\r\n\t\t\t\t\t\t\t\t\t\t<!-- ЕСЛИ класс datetime-wrap_first-msk ТО CSS (flex) выводит блок с местным временем после московского, ЕСЛИ класс datetime-wrap_first-local то порядок как в разметке (сначала местное) -->\r\n\t\t\t\t\t\t\t\t\t\t<div v-bind:class=\"'datetime-wrap datetime-wrap_first-' + ordslot.defShowTime\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- время местное -->\r\n\t\t\t\t\t\t\t\t\t\t\t<div v-if=\"ord.localDate1\" class=\"datetime-local\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ord.localDate1}}&#160;<b>{{ord.localTime1}}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t&#160;<span class=\"color-grey\">{{ord.timeDeltaString1}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- время московское -->\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"datetime-msk\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ord.date1}}&#160;<b>{{ord.time1}}</b>&#160;<span class=\"color-grey\" v-if=\"ord.Msk1\">{{ordslot.mskTimeSuffix}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"row form-group hdn\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12 text-right\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"btn-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t<a class=\"btn\" target=\"_blank\"  v-bind:href=\"ord.LINK_BLANK\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Order form\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn\"  v-on:click=\"getBlank_ticket('pdf', ord)\" v-on:keyup.enter.space=\"getBlank_ticket('pdf', ord)\" v-bind:disabled=\"ord.LOADING_STATUSES\">PDF</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"row form-group\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\">\r\n\t\t\t\t\t\t\t\t\t\tСтоимость заказа: <span class=\"text-red\">{{ord.cost}} руб.</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12 text-small\">\r\n\t\t\t\t\t\t\t\t\t\t<dict name=\"Ticket/transactionId\"/>: <span>{{ordslot.transactionId}}</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div class=\"row form-group\" v-if=\"!ord.left\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12 text-right\">\r\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn-with-icon btn\" \r\n\t\t\t\t\t\t\t\t\t\t\tv-on:click=\"getStatuses(ord)\" \r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"!ord.left\" \r\n\t\t\t\t\t\t\t\t\t\t\tv-bind:disabled=\"ord.LOADING_STATUSES\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"glyphicon glyphicon-info-sign\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Ticket/Request for ticket status\"/> <!-- Запросить статус билетов -->\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"row\" v-if=\"ordslot.REFUND_MESSAGE\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"pass-orderList-refund-msg__cont\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- сообщение Ваш возврат по платежной транзакции XXXX обработан и т.п., собирается из PSTKT_CABINET_MSG_REFUND_* -->\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"refund-msg__item\" v-html=\"ordslot.REFUND_MESSAGE\"></div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"row\" v-if=\"!ord.left && ord.avisoTimer\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\">\r\n\t\t\t\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"glyphicon glyphicon-time\"></i>&#160;Заказ подтверждается.\r\n\t\t\t\t\t\t\t\t\t\t\t&#160;{{ord.avisoTimer}} мин.\r\n\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<pre v-if=\"ord.HUMAN_ERROR\" class=\"pre-message pre-message-common\">{{ord.HUMAN_ERROR}}</pre>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"order-item-ticket\" v-for=\"tik in ord.lst\">\r\n\t\t\t\t\t\t\t\t\t<div v-bind:class=\"{'ticket-refunded': tik.status === 'REFUNDED'}\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-7 text-bold\">{{tik.name}}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-5 text-right text-small\">(док. {{tik.doc}})</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Ticket/Car\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-8\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ifrmsg v-if=\"ord.bWithoutPlaces\" name=\"ANY_VAGON_LASTOCHKA\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<template v-else=\"\"><span class=\"text-bold\">{{ord.car}} ({{ord.carCls}})</span></template>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-4\"><dict name=\"Place\"/></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-8\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ifrmsg v-if=\"ord.bWithoutPlaces\" name=\"VAGON_NO_SEATS_LASTOCHKA\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<template v-else-if=\"tik.place\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-bold\">{{tik.place}}</span> {{tik.seatsTypeName}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<template v-else=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- Без указания места -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Ticket/withoutPlace\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-4\"><dict name=\"Ticket/Cost\" /></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-8\"><span class=\"text-red\">{{tik.cost | FORMAT_SUM}}&#160;руб.</span> ({{tik.tariff}})</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-4\"><dict name=\"Status\" /></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-8\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div v-if=\"true\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"spin\" v-if=\"tik.LOADER || ord.LOADER\"></i><!-- ord.LOADING_STATUSES || tik.LOADING_STATUS -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div v-else=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>{{tik.STATUS.NAME}}</b> &#160; \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- <a v-on:click=\"getStatuses(ord)\" class=\"link-dotted\">Обновить</a> -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\"><!--кнопки к билету-->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"text-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group btn-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"btn\" target=\"_blank\"  v-bind:href=\"tik.LINK_BLANK\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Ticket blank\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn\"  v-on:click=\"getBlank_ticket('pdf', ord, tik)\" v-on:keyup.enter.space=\"getBlank_ticket('pdf', ord, tik)\" v-bind:disabled=\"ord.LOADING_STATUSES\">PDF</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn\"  v-on:click=\"getBlank_ticket('png', ord, tik)\" v-on:keyup.enter.space=\"getBlank_ticket('png', ord, tik)\" v-bind:disabled=\"ord.LOADING_STATUSES\">PNG</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!--PIRS-11575-->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group form-group\" v-if=\"tik.STATUS.CODE==='REFUNDED'\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"btn\" target=\"_blank\"  v-bind:href=\"ord.LINK_BLANK\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Ticket/Refund coupon\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"row\" v-if=\"tik.INSUR || tik.POLICY\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"text-bold clickable\" v-on:click.keyup.enter.space=\"showInsurances(tik)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tСтраховки\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"glyphicon\" v-bind:class=\"{'glyphicon-chevron-up' : tik.SHOW_INSURANCES, 'glyphicon-chevron-down' : !tik.SHOW_INSURANCES }\"></div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"ticket-insurances clearfix\" v-if=\"tik.SHOW_INSURANCES\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"clearfix\" v-if=\"tik.INSUR\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-bold\">Страховка&#160;</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span v-if=\"tik.INSUR.Refunded == 1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ifrmsg name=\"POLICY_CABINET_RETURN_STATUS\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span v-else=\"\">{{tik.INSUR.shortName}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\" v-if=\"tik.INSUR.cost\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tСтоимость: <span class=\"text-red\">{{tik.INSUR.cost | FORMAT_SUM}} руб.</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12 text-right\" v-if=\"isInsuranceActive(tik)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"btn-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"btn\" target=\"_blank\"  v-bind:href=\"tik.LINK_INSURANCE\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<dict name=\"Insurance policy\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!--кнопки скачивания бланков страховки  -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"btn\"  v-on:click=\"getBlank_insurance(tik, 'pdf')\" v-on:keyup.enter.space=\"getBlank_insurance(tik, 'pdf')\">PDF</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"clearfix\" v-if=\"tik.POLICY\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><ifrmsg name=\"POLICY_TITLE\" /></b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<xsl:text> </xsl:text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ifrmsg name=\"POLICY_COMPANY\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12 text-bold\" v-if=\"tik.POLICY_STATUS.code != 'ISSUED'\" v-html=\"tik.POLICY_STATUS.name\"></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div v-else=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ifrmsg name=\"POLICY_FORM_PRICE\" />&#160;<span class=\"text-red\">{{tik.POLICY.cost | FORMAT_SUM}} руб.</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ifrmsg name=\"POLICY_FORM_TERRITORY\" />: <b>{{tik.POLICY_AREA}}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\">Срок действия полиса: <b>{{tik.POLICY_DATE}}</b></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12 text-right\" v-if=\"tik.POLICY_STATUS.code == 'ISSUED'\"> <!-- tik.POLICY.Refunded!==1 -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"btn-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"btn\" target=\"_blank\"  v-if=\"tik.POLICY_STATUS.code == 'ISSUED'\" v-bind:href=\"tik.POLICY.link\">PDF</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- если статус ISSUED, то можно вернуть // вернуть можно при обновлении статуса -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- <button class=\"btn\" target=\"_blank\"  v-if=\"tik.POLICY_STATUS.code == 'ISSUED'\" v-on:click=\"refundDMS(tik, ord)\" v-on:keyup.enter.space=\"refundDMS(tik, ord)\" v-bind:disabled=\"ord.LOADING_STATUSES\">Возврат</button> -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<pre v-if=\"tik.HUMAN_ERROR\" class=\"pre-message pre-message-common\">{{tik.HUMAN_ERROR}}</pre>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div v-if=\"!ord.left\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"row\" style=\"margin-top: 15px;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12 form-group text-right\" v-if=\"isTicketActionsAvailable(tik, ord)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-on:click=\"changeStatus(tik, ord, true)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-show=\"tik.STATUS.CODE==='PAID'\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-bind:disabled=\"tik.LOADING_STATUS\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tПройти электронную регистрацию\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-on:click=\"changeStatus(tik, ord, false)\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-show=\"tik.STATUS.CODE==='REGISTERED'\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-bind:disabled=\"tik.LOADING_STATUS\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tОтменить электронную регистрацию\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12 form-group text-right\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"!ord.bNonRefundable && tik.status != 'REFUNDED'\"><!-- PIRS-16411 && PIRS-16852 -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span style=\"margin-right: 10px;\"><i v-show=\"tik.LOADING_REFUND_TICKET\" class=\"spin spin-sm\"></i></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-on:click=\"refundTicket(tik, ord, ordslot)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-bind:disabled=\"tik.LOADING_REFUND_TICKET\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tОформить возврат билета \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style=\"display: none;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ tik }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12 form-group text-right\" v-if=\"isInsuranceRefundAvailable(tik, ord)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"btn\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-on:click=\"refundInsurance(tik, ord)\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"tik.INSUR.Refunded!=1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tОформить возврат страховки\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12 form-group text-right\" v-if=\"isPolicyRefundAvailable(tik, ord)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn\" target=\"_blank\" style=\"white-space: normal; text-align: left;\"  v-on:click=\"refundDMS(tik, ord)\" v-on:keyup.enter.space=\"refundDMS(tik, ord)\" v-bind:disabled=\"ord.LOADING_STATUSES\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ifrmsg name=\"POLICY_CABINET_RETURN_TITLE\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t</div> <!-- pass-orderList-ticket -->\r\n\t\t\t\t\t\t\t\t</div><!-- tik in ord -->\r\n\t\t\t\t\t\t\t\t<div class=\"row\" v-if=\"ord.ELREG_IFRMSG\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12 msg-mobile-block\">\r\n\t\t\t\t\t\t\t\t\t\t<!-- здесь сообщение ИФР про электронную регистрацию -->\r\n\t\t\t\t\t\t\t\t\t\t<ifrmsg :name=\"ord.ELREG_IFRMSG\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div> <!-- ord in lst\t -->\r\n\t\t\t\t</div> <!-- ordslots in slots -->\r\n\r\n\t\t\t\t<div class=\"col-xs-12 text-center\" style=\"margin-top: 1em;\">\r\n\t\t\t\t\t<div v-show=\"LOADING_ORDERS===false\">\r\n\t\t\t\t\t\t<a class=\"btn\"  v-show=\"!lastPage\" v-on:click.prevent=\"getOrders(true)\">Показать ещё</a>\r\n\t\t\t\t\t\t<div v-show=\"slots.length===0  && bShowForm === true\">\r\n\t\t\t\t\t\t\t<ifrmsg name=\"PSTKT_CABINET_MSG_EMPTY_SLOTS\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<i v-show=\"LOADING_ORDERS===true\" class=\"spin spin-lg\"></i>\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<template v-if=\"bShowBankResultBtns\">\r\n\t\t\t\t\t<div class=\"col-xs-12\">\r\n\t\t\t\t\t\t<payment-handler v-if=\"bShowRetryPayment\" v-bind:jr=\"journeyReservation\" ref=\"paymentHandler\"></payment-handler>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"clearfix text-center\">\r\n\t\t\t\t\t\t<div class=\"btn-group\" style=\"font-size: .9em;\">\r\n\t\t\t\t\t\t\t<a v-if=\"bShowRetryPayment\" v-on:click=\"retryPayment\" class=\"btn btn-md\">Попытаться оплатить ещё раз</a>&#160;<i v-if=\"bShowRetryPayment && LOADING_ORDERS\" class=\"spin spin-xs\"></i>\r\n\t\t\t\t\t\t\t<a class=\"btn btn-md\"  :href=\"LINK('route')\" v-on:click.prevent=\"bankResult_goStart\">\r\n\t\t\t\t\t\t\t\t<dict name=\"Ticket/start ticket processing first\"/>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t<a class=\"btn btn-md\" href=\"LINK('cabinet')\"><dict name=\"Go to My orders\"/></a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</template>\r\n\r\n\r\n\t\t\t\t<div class=\"hdn\">\r\n\t\t\t\t\t<div class=\"j-on-aviso-popup\">\r\n\t\t\t\t\t\t<ifrmsg name=\"PST_WAIT_TRIP_STATUS_BLIND\"/>\r\n\t\t\t\t\t\t<div v-for=\"(ordslot, ordslot_index) in slots\" v-bind:id=\"'hash-sord-'+ordslot.id\"> \r\n\t\t\t\t\t\t\t<div v-if=\"ordslot.jstatus === 'ON_AVISO'\">\r\n\t\t\t\t\t\t\t\t<a class=\"link-dotted\" v-on:click=\"getStatusesForSaleOrder(ordslot)\">\r\n\t\t\t\t\t\t\t\t\t<dict name=\"Ticket/transactionId\"/> {{ordslot.transactionId}}\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"j-refund-popup\" v-if=\"refundMsg\">\r\n\t\t\t\t\t\t<p v-if=\"refundMsg.bMulti\">\r\n\t\t\t\t\t\t\t<!-- сообщение при попытке возврата билета инвалида мол, билет сопровождающего тоже надо вернуть -->\r\n\t\t\t\t\t\t\t<ifrmsg name=\"DPEOPLE_TICKET_SIMULTANEOUS_RETURN\" v-if=\"refundMsg.bDisabledCompanion\"/>\r\n\t\t\t\t\t\t\t<dict name=\"Only the simultaneous return of several tickets at once is possible!\"  v-if=\"!refundMsg.bDisabledCompanion\"/>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div v-for=\"ritem in refundMsg.list\" class=\"form-group\">\r\n\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t<div class=\"col-xs-4\"><dict name=\"Departure\"/></div><div class=\"col-xs-8 text-bold\">{{refundMsg.ord.date0}} {{refundMsg.ord.time0}}</div>\r\n\t\t\t\t\t\t\t\t<div class=\"col-xs-4\"><dict name=\"Train\"/></div><div class=\"col-xs-8 text-bold\">{{refundMsg.ord.train}}</div>\r\n\t\t\t\t\t\t\t\t<div class=\"col-xs-4\"><dict name=\"Ticket/Car\"/></div><div class=\"col-xs-8 text-bold\">{{refundMsg.ord.car}}</div>\r\n\t\t\t\t\t\t\t\t<div class=\"col-xs-4\"><dict name=\"Place\"/></div><div class=\"col-xs-8 text-bold\">{{ritem.place}}</div>\r\n\t\t\t\t\t\t\t\t<div class=\"col-xs-12 text-bold\">{{ritem.name}}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div v-html=\"ritem.text\"></div><!-- \"Сумма, причитающаяся к возврату...\" - берётся из словаря и шаблонизируется в cabinet.js  -->\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"form-group\" v-if=\"refundMsg.bINSUR\">\r\n\t\t\t\t\t\t\t<!-- сообщение при попытке возврата билета со страховкой -->\r\n\t\t\t\t\t\t\t<ifrmsg name=\"INSURANCE_REFUND_SUM\"/>&#160;<span class=\"text-bold\" v-html=\"refundMsg.bINSUR_cost\"></span>&#160;<span class=\"text-bold\">руб.</span></b>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"form-group\" v-if=\"refundMsg.bDMS\">\r\n\t\t\t\t\t\t\t<!-- сообщение при попытке возврата билета со страховкой ВТБ ДМС -->\r\n\t\t\t\t\t\t\t<ifrmsg name=\"POLICY_CABINET_REFUND_SUM\"/>&#160;<span class=\"text-bold\" v-html=\"refundMsg.bDMS_cost\"></span>&#160;<span class=\"text-bold\">руб.</span></b>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"form-group\"> <!-- общее сообщение -->\r\n\t\t\t\t\t\t\t<ifrmsg name=\"REFUND_INFO_CABINET\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ifrmsg name=\"REFUND_RULES_YANDEX_MONEY\" v-if=\"refundMsg.bYandex\" /><!-- текст для яндекс -->\r\n\t\t\t\t\t\t<ifrmsg name=\"REFUND_RULES_BANK\" v-if=\"!refundMsg.bYandex\" /><!-- текст для ТКБ -->\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</template>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport componentMixin from './cabinet.js';\r\n\timport paymentHandler from '@comps/payment-handler/payment-handler-mobile.vue'\r\n\timport authHandler from '@comps/auth-handler/auth-handler-mobile.vue'\r\n\r\n\texport default {\r\n\t\tname:'CabinetMobile',\t\t\r\n\t\tcomponents: {\r\n\t\t\t'payment-handler': paymentHandler,\r\n\t\t\t'auth-handler': authHandler\r\n\t\t},\r\n\t\tmixins: [componentMixin]\r\n\t}\r\n</script>\r\n<style scoped lang=\"less\">/* здесь можно писать scoped стили, либо указать src внешнего файла */</style> \n\n\n// WEBPACK FOOTER //\n// cabinet-mobile.vue?271138be","// Компонент выбора платёжной системы и перехода к оплате\r\n// минимально необходимый вызов:\r\n// <payment-handler v-bind:jr=\"jr\" ref=\"paymentHandler\"></payment-handler> где jr - journeyReservation\r\n\r\nexport default {\r\n\tprops: {\r\n\t\t// Ответ на запрос бронирования\r\n\t\t// TODO возможно имеет смысл не пихать в пропс весь объект, а только то что нужно\r\n\t\tjr: {\r\n\t\t\ttype: Object,\r\n\t\t\t'default': function() { // Props with type Object/Array must use a factory function to return the default value.\r\n\t\t\t\treturn {}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// Флаг повторной попытки оплаты\r\n\t\t// Случается на странице возврата из банка\r\n\t\t// Если результат неуспешный\r\n\t\tretry: {\r\n\t\t\ttype: Boolean,\r\n\t\t\t'default': false\r\n\t\t},\r\n\t\t// Тип клиента (эктора)\r\n\t\t// бывает:\r\n\t\t// * desktop_2016\r\n\t\t// * MOBILE_USER\r\n\t\t// * INSPECTOR\r\n\t\t// * TRAINMASTER\r\n\t\tactor: {\r\n\t\t\ttype: String\r\n\t\t\t\t// 'default': 'desktop_2016'\r\n\t\t}\r\n\t},\r\n\tdata: function() {\r\n\t\treturn {\r\n\t\t\tcurCode: store.local.get('paymethod') || 'BANK',\r\n\t\t\tbRetry: this.$props.retry,\r\n\t\t\tpaymentAvailable: true,\r\n\t\t\tLOADER: false, // изменяется в т.ч. из ridQuery\r\n\t\t\tHUMAN_ERROR: '' // изменяется в т.ч. из ridQuery\r\n\t\t}\r\n\t},\r\n\tcomputed: { // в компьютед попадают те пропсы которые могут быть изменены извне\r\n\t\t// Список платёжных систем.\r\n\t\t// Получается на этапе бронирования, сохраняется в сторедж\r\n\t\tlist: function() {\r\n\t\t\treturn this.$props.jr.paymentSystems\r\n\t\t},\r\n\t\t// Параметры для перехода в яндекс\r\n\t\t// Получается на этапе бронирования, сохраняется в сторедж\r\n\t\tyandexMoney: function() {\r\n\t\t\treturn this.$props.jr.yandexMoney\r\n\t\t},\r\n\t\t// Айди заказа\r\n\t\t// Получается на этапе бронирования\r\n\t\t// на этапе возврата берётся из урла\r\n\t\tsaleOrderId: function() {\r\n\t\t\treturn this.$props.jr.saleOrderId || UTIL.pageData.orderid || UTIL.pageData.orderId || UTIL.pageData.saleOrderId; // vuex\r\n\t\t},\r\n\t\t//полная сумма к оплате\r\n\t\ttotalSum: function() {\r\n\t\t\treturn this.$props.jr.totalSum;\r\n\t\t},\r\n\t\t//тип платежа по своей сути за что платеж.\r\n\t\ttype: function() {\r\n\t\t\treturn this.$props.jr.type || 'TICKET';\r\n\t\t},\r\n\r\n\t\t//!НЕ РАБОТАЕТ!\r\n\t\ttransactionId: function() {\r\n\t\t\treturn this.$props.jr.transactionId; // Я не знаю поечму этот параметр не передается, я передаю его в как аргумент к функции submit\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tselect: function(ps) {\r\n\t\t\tif (yaCheckRequest) {\r\n\t\t\t\t// пользователь после яндекса сам кликает-переключается на банк\r\n\t\t\t\tyaCheckRequest.cancel();\r\n\t\t\t}\r\n\t\t\tthis.$data.curCode = ps.code;\r\n\t\t},\r\n\t\t// Нажатие на кнопку оплатить\r\n\t\t// авторизация в банке, затем goPay\r\n\t\tsubmit: function(transactionId) { // вызов из родителя: this.$refs.paymentHandler.submit();\r\n\t\t\tvar vm = this;\r\n\t\t\t// TODO дизейбл кнопки (у родителя)\r\n\t\t\tstore.local.set('paymethod', vm.$data.curCode);\r\n\t\t\t// Если НЕ яндекс\r\n\t\t\t// значит или BANK или вообще ВТТ либо лояльность (безденежная оплата, сумма заказа 0)\r\n\t\t\tif (vm.$data.curCode !== 'YANDEX') {\r\n\t\t\t\tvm.goPay(transactionId);\r\n\t\t\t}\r\n\t\t\telse { // Если яндекс, перед переходом надо спросить у него, можно ли попробовать ещё раз\r\n\t\t\t\tUTIL.log('Проверка возможности оплаты Яндексом');\r\n\t\t\t\t// TODO крутилка\r\n\t\t\t\tvar url = '/ticket/services/payment/possibility/check/journey/' + vm.saleOrderId + '/' + UTIL.pageData.lang + UTIL.getServiceParams();\r\n\t\t\t\tyaCheckRequest = UTIL.ridQuery(url)\r\n\t\t\t\t\t.fail(function() { // вызывается когда response.error непустой\r\n\t\t\t\t\t\tUTIL.dialogMessage('Оплата Яндекс.Деньгами невозможна');\r\n\t\t\t\t\t\tvm.curCode = 'BANK'; // TODO вообще скрыть яндекс?\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.done(function() {\r\n\t\t\t\t\t\tvm.goPay(transactionId)\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t// Переход на страницу платёжной системы\r\n\t\t// происходит после авторизации в банке\r\n\t\tgoPay: function(transactionId) {\r\n\t\t\tvar vm = this,\r\n\t\t\t\turl;\r\n\t\t\t// --- идём на страницу подтверждения оплаты (если общая сумма заказа равна 0, это по всей видимости - ВТТ, лояльность)\r\n\t\t\tif (!vm.totalSum) {\r\n\t\t\t\turl = '?layer_name=e3-result&zero=1&result=OK&orderId=' + vm.saleOrderId + UTIL.getServiceParams();\r\n\t\t\t\twindow.location.href = url;\r\n\t\t\t\t// Важен параметр zero, т.к. с его помошью выбирается адрес запроса на подтверждение payment0 в orders.js\r\n\t\t\t}\r\n\t\t\telse if (vm.$data.curCode === 'YANDEX') { // --- идём в Яндекс\r\n\t\t\t\tthis.$refs.yaform.submit();\r\n\t\t\t}\r\n\t\t\telse if (vm.$data.curCode === 'BANK') { // --- Идём в банк\r\n\t\t\t\turl = window.UTIL.pageData.LayerLinks.bankAuth || '?layer_id=5734'; // правильнее брать из метаданных, т.к. в случае 'неправильного' path (например если из редизайна просить слой 152 ИФР) случается редирект и POST-параметры попадают в кверистринг\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\ttype: vm.type,\r\n\t\t\t\t\torderId: vm.saleOrderId,\r\n\t\t\t\t\tactorType: vm.$props.actor\r\n\t\t\t\t};\r\n\t\t\t\tif (transactionId) {\r\n\t\t\t\t\tparams.transactionId = transactionId;\r\n\t\t\t\t}\r\n\t\t\t\twindow.UTIL.ridQuery(url, params, vm.$data)\r\n\t\t\t\t\t.done(function(response) {\r\n\t\t\t\t\t\twindow.location.href = response.url;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.always(function() { // чтобы при ошибке у родителя скрывалась крутилка. Кривовато, но...\r\n\t\t\t\t\t\tif (vm.$parent && vm.$parent.$data.LOADING_NEXT === true) {\r\n\t\t\t\t\t\t\tvm.$parent.$data.LOADING_NEXT = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.fail(function(error, errData) {\r\n\t\t\t\t\t\tif (vm.$parent && error === 'Оплата заказа невозможна') {\r\n\t\t\t\t\t\t\tvm.$data.paymentAvailable = false;\r\n\t\t\t\t\t\t\tvm.$parent.$data.paymentAvailable = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthrow new Error('Не найден обработчик для кода ' + curCode);\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetImageSrc: function(ps) {\r\n\t\t\treturn '/dbmm/images/61/28054/' + ps.id;\r\n\t\t}\r\n\t},\r\n\tmounted: function() {\r\n\t\twindow.UTIL.log('payment-handler mounted');\r\n\t\tif (window.UTIL.pageData.showErrors === true) { // сервер разработческий или в урле есть err\r\n\t\t\twindow.VUEI_paymentHandler = this;\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/payment-handler/payment-handler.js","export default {\r\n\tbind: function(el, binding, vnode) {\r\n\t\tvar opts = window.datePickerLoc({\r\n\t\t\tdateFormat: 'dd.mm.yy',\r\n\t\t\tonClose: function(dateStr) {\r\n\t\t\t\t_setBodyClass(false);\r\n\t\t\t\t_parsePathAndSet(vnode.context, binding.expression, dateStr);\r\n\t\t\t},\r\n\t\t\tbeforeShow: function() {\r\n\t\t\t\t_setBodyClass(true);\r\n\t\t\t}\r\n\t\t})\r\n\t\tvar $inp = $(el);\r\n\t\t$inp.datepicker(opts);\r\n\t\t/**\r\n\t\t\tПример использования\r\n\t\t\tvar obj = {prop1:{anotherProp:1}};\r\n\t\t\tparsePathAndSet(obj, 'prop1.anotherProp', 2)\r\n\t\t\tconsole.log(obj) // {prop1:{anotherProp:2}}\r\n\t\t*/\r\n\t\tfunction _parsePathAndSet(obj, key, value) {\r\n\t\t\tvar keyArr = key.split('.');\r\n\t\t\tvar lastKey = keyArr.pop();\r\n\t\t\tfor (var i = 0, len = keyArr.length; i < len; i++) {\r\n\t\t\t\tobj = obj[keyArr[i]];\r\n\t\t\t}\r\n\t\t\tobj[lastKey] = value;\r\n\t\t}\r\n\r\n\t\tfunction _setBodyClass(boo) {\r\n\t\t\t$(document.body).toggleClass('jqui-datepicker-active', boo); // для мобилки\r\n\t\t}\r\n\t},\r\n\tupdate: function(el, binding, vnode) {\r\n\t\t$(el).datepicker('setDate', binding.value);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/directives/jqui-datepicker.js","import makeApp from './_makeRoot.js'\r\nimport pageMixin from '@pages/cabinet-mobile.vue'\r\n\r\nmakeApp(pageMixin);\n\n\n// WEBPACK FOOTER //\n// ./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/entry-points/cabinet-mobile.js","import mixins from '@mixins' // глобальные миксины\r\nimport jquiDatepicker from '@directives/jqui-datepicker.js'\r\n\r\nvar REQ = window.PAGEDATA.params;\r\nvar ON_AVISO_cnt = 0;\r\nvar ON_AVISO_cnt_prev = 0;\r\nvar vm;\r\n\r\nvar component = {\r\n\tdata: function() {\r\n\t\treturn {\r\n\t\t\tform: { // поля формы можно задать в урле\r\n\t\t\t\tdate0: REQ.date0 || '',\r\n\t\t\t\tdate1: REQ.date1 || '',\r\n\t\t\t\tnumber: REQ.number || '',\r\n\t\t\t\tname: REQ.name || '',\r\n\t\t\t\tmode: REQ.mode || '', // бывает archive и active\r\n\t\t\t\ttype: REQ.type, //параметр передаются для покупки из личного кабинета (например питание)\r\n\t\t\t\ttransactionId: REQ.transactionId, //параметр передаются для покупки из личного кабинета (например питание)\r\n\t\t\t\tsaleOrderId: REQ.saleOrderId || REQ.orderId || '', // TODO избавиться от зоопарка, это в яве\r\n\t\t\t\tresult: REQ.result // отладка: чтобы страница после банка не становилась кабинетом после F5\r\n\t\t\t},\r\n\t\t\tslots: [], // сюда помещаются поездки (название слотс взято тупо из апи)\r\n\t\t\tLOADING_ORDERS: false,\r\n\t\t\tHUMAN_ERROR: '', // человекопонятный текст глобальной ошибки\r\n\t\t\tDMSAREA: g_dmsArea,\r\n\t\t\tPOLICY_STATUSES: g_policyStatus,\r\n\t\t\trefundMsg: false,\r\n\t\t\tlastPage: true,\r\n\t\t\tDEBUG: PAGEDATA.showErrors,\r\n\r\n\t\t\t/* Страница после банка */\r\n\t\t\tbPageAfterBank: !!REQ.result, // считаем что если в урле есть result, то страница после банка\r\n\t\t\tbShowRetryPayment: false, // возврат к оплате\r\n\t\t\tPAYMENT_RESULT: REQ.result,\r\n\r\n\t\t\t/* Дополнительное питание */\r\n\t\t\tfoodDetails: {\r\n\t\t\t\tselectedMenuItems: false,\r\n\t\t\t\tLOADING_REFUND: false\r\n\t\t\t},\r\n\t\t\t/* Предоплаченное питание */\r\n\t\t\tfoodList: [],\r\n\t\t\tfoodListSelectedItem: '',\r\n\t\t\tbAuthFormVisible: false\r\n\t\t}\r\n\t},\r\n\tfilters: {},\r\n\tcomputed: {\r\n\t\t// Показ формы - для ЛК\t\r\n\t\tbShowForm: function() {\r\n\t\t\treturn this.bPageAfterBank === false;\r\n\t\t},\r\n\t\t// Показ кнопок \"Купить новый билет\" и \"Перейти в «Мои заказы»\" - для страницы после банка\r\n\t\tbShowBankResultBtns: function() {\r\n\t\t\treturn this.bPageAfterBank === true;\r\n\t\t},\r\n\t\tjourneyReservation: function() {\r\n\t\t\t// Достаём из сессии резултаты бронирования \r\n\t\t\t// для того чтобы нарисовать кнопку возврата к платежу\r\n\t\t\t// ключи разные. Просто Reservation - это слепые, ResPg.result - это мобилка\r\n\t\t\tvar storedReservation = store.session('Reservation') || store.session('ResPg.result') || store.session('pass16_ResResponse');\r\n\t\t\treturn storedReservation;\r\n\t\t}\r\n\t},\r\n\tmixins: [mixins], // глобальные миксины\r\n\tmounted: function() {\r\n\t\tvm = this;\r\n\t\tif (this.IS_DEV) {\r\n\t\t\twindow['VUEI_' + this.$options.name] = this; // на дев-сервере будет переменная VUEI_CabinetRedesign со ссылкой на компонент\r\n\t\t}\r\n\t\tthis.changeMode('active', true);\r\n\t\t// Страница после оплаты\r\n\t\tif (vm.$data.bPageAfterBank) {\r\n\t\t\tif (REQ.result === 'OK') {\r\n\t\t\t\tif (REQ.paymentSystem === 'YANDEX') {\r\n\t\t\t\t\tvm.bankResult_checkPaymentYandex();\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvm.bankResult_finalizePayment();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvm.bShowRetryPayment = true; // показ кнопки \"Попытаться оплатить ещё раз\"\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Обычный личный кабинет\r\n\t\telse {\r\n\t\t\tvm.getOrders();\r\n\t\t}\r\n\t},\r\n\tdirectives: {\r\n\t\t'jqui-datepicker': jquiDatepicker\r\n\t},\r\n\tmethods: {\r\n\t\tgetOrders: getOrders,\r\n\t\t// Кнопка \"Перейти в Мои Заказы\" на странице возврата из банка\r\n\t\tgotoCabinet: function() {\r\n\t\t\tthis.$data.HUMAN_ERROR = '';\r\n\t\t\t$('html,body').animate({\r\n\t\t\t\tscrollTop: 0\r\n\t\t\t}, 300);\r\n\t\t\tthis.$data.bPageAfterBank = false;\r\n\t\t\tthis.$data.form.saleOrderId = '';\r\n\t\t\tthis.$data.PAYMENT_RESULT = '';\r\n\t\t\tthis.getOrders();\r\n\t\t},\r\n\t\tretryPayment: function() {\r\n\t\t\tthis.$refs.paymentHandler.submit();\r\n\t\t},\r\n\t\tchangeMode: function(newMode, bDontMakeRequest) {\r\n\t\t\tif (this.$data.form.mode !== newMode) {\r\n\t\t\t\tthis.$data.form.mode = newMode;\r\n\t\t\t\tvar bActive = newMode === 'active';\r\n\r\n\t\t\t\tvar d = new Date();\r\n\t\t\t\tvar formattedDate = [UTIL.leftpad(d.getDate()), UTIL.leftpad(d.getMonth() + 1), d.getFullYear()].join('.');\r\n\t\t\t\tthis.$data.form.date0 = bActive ? formattedDate : '';\r\n\t\t\t\tthis.$data.form.date1 = bActive ? '' : formattedDate;\r\n\r\n\t\t\t\tif (!bDontMakeRequest) {\r\n\t\t\t\t\tthis.getOrders();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// получить статусы для всего заказа (APP_SALE_ORDER)\r\n\t\tgetStatusesForSaleOrder: function(sord) {\r\n\t\t\tvar $activeDialog = $('.ui-dialog-content:visible');\r\n\t\t\tif ($activeDialog.length !== 0) { // это сделано для PIRS-13686 (ON_AVISO_LIST)\r\n\t\t\t\t$activeDialog.dialog('close');\r\n\t\t\t}\r\n\t\t\tif (typeof $.scrollTo === 'function') {\r\n\t\t\t\tvar $sord = $('#hash-sord-' + sord.id);\r\n\t\t\t\t$.scrollTo($sord, 200, {\r\n\t\t\t\t\toffset: -50 // высота верхней панели с настройками слепых, иначе она перекрывает\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tfor (var k = 0; k < sord.lst.length; k++) {\r\n\t\t\t\tvar ord = sord.lst[k]; // это запись в APP_ORDER\r\n\t\t\t\tthis.getStatuses(ord);\r\n\t\t\t}\r\n\t\t},\r\n\t\t// получить статусы для поездки (APP_ORDER)\r\n\t\t// TODO PIRS-13714\r\n\t\tgetStatuses: function(ord, callback) {\r\n\t\t\tord.LOADING_STATUSES = true;\r\n\t\t\tord.LOADER = true;\r\n\t\t\tord.HUMAN_ERROR = null;\r\n\t\t\tvar url = '?layer_id=5417';\r\n\t\t\tvar params = {\r\n\t\t\t\tORDER_ID: ord.N\r\n\t\t\t}\r\n\t\t\tvar requestRidOptions = {\r\n\t\t\t\tonIdle: function(res) {\r\n\t\t\t\t\t// запоминаем RID для загрузки PDF и PNG бланков, иначе PIRS-14446\r\n\t\t\t\t\tord._statusRid = res.RID;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tUTIL.ridQuery(url, params, ord, requestRidOptions)\r\n\t\t\t\t.done(function(result) {\r\n\t\t\t\t\tUTIL.log(result);\r\n\t\t\t\t\trequestRidOptions.HUMAN_ERROR = null;\r\n\t\t\t\t\tord._statusRid_timestamp = Date.now(); // для проверки протухших rid\r\n\t\t\t\t\tvar ticDate = result.timestamp.substr(3, 2) + '/' + result.timestamp.substr(0, 2) + '/' + result.timestamp.substr(6, 4) + ' ' + result.timestamp.substr(11);\r\n\t\t\t\t\tvar dateTimeNow = new Date(Date.parse(ticDate)); // Date.parse принимает дату в формате MM.DD.YYYY, чтоб его..\r\n\r\n\t\t\t\t\tord.LOADER = false;\r\n\t\t\t\t\tvar hasWithER = false;\r\n\t\t\t\t\tvar hasWithoutER = false;\r\n\t\t\t\t\tvar statuses = result.lst;\r\n\t\t\t\t\tfor (var i = 0; i < statuses.length; i++) {\r\n\t\t\t\t\t\tvar stat = statuses[i];\r\n\t\t\t\t\t\tfor (var k = 0; k < ord.lst.length; k++) {\r\n\t\t\t\t\t\t\tvar tik = ord.lst[k];\r\n\t\t\t\t\t\t\t// сопоставляем айди билета в данных и в ответе по статусам, чтобы нарисовать статусы там где нужно\r\n\t\t\t\t\t\t\tvar blockRefund = (tik.dateTimeDeparture - dateTimeNow < 60 * 59 * 1000) ? true : false; // блокировка сдачи билета за час до отправления\r\n\t\t\t\t\t\t\tif (tik.n === stat.n) {\r\n\t\t\t\t\t\t\t\ttik.STATUS.NAME = stat['name_' + window.PAGEDATA.lang];\r\n\t\t\t\t\t\t\t\ttik.STATUS.CODE = stat.status;\r\n\t\t\t\t\t\t\t\ttik.LOADING_STATUS = false;\r\n\t\t\t\t\t\t\t\t// update POLICY\r\n\t\t\t\t\t\t\t\tif (stat.policies && stat.policies.length && tik.POLICY && stat.policies[0].number == tik.POLICY.number) {\r\n\t\t\t\t\t\t\t\t\ttik.POLICY.statusId = stat.policies[0].statusId;\r\n\t\t\t\t\t\t\t\t\ttik.POLICY_STATUS = g_policyStatus[stat.policies[0].statusId];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttik.LOADER = false;\r\n\t\t\t\t\t\t\t// блокировать сдачу билета, если до отправления меньше 1 часа PIRS-14238\r\n\t\t\t\t\t\t\tif (blockRefund) {\r\n\t\t\t\t\t\t\t\ttik.LOADING_REFUND_TICKET = blockRefund;\r\n\t\t\t\t\t\t\t\ttik.SHOW_REFUND_FOOD = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (stat.status === 'REGISTERED') {\r\n\t\t\t\t\t\t\thasWithER = true;\r\n\t\t\t\t\t\t\t// блокировать отмену регистрации, если до отправления меньше 1 часа PIRS-14238\r\n\t\t\t\t\t\t\tif (blockRefund) {\r\n\t\t\t\t\t\t\t\ttik.LOADING_STATUS = blockRefund;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (stat.status === 'PAID') {\r\n\t\t\t\t\t\t\thasWithoutER = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (stat.status === 'REFUNDED') {\r\n\t\t\t\t\t\t\ttik.status = stat.status;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (hasWithER === true && hasWithoutER === true) {\r\n\t\t\t\t\t\tord.ELREG_IFRMSG = 'PST_ELREG_BOTH';\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (hasWithER === true) {\r\n\t\t\t\t\t\tord.ELREG_IFRMSG = 'PST_ELREG_ETICKET_A4';\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (hasWithoutER === true) {\r\n\t\t\t\t\t\tord.ELREG_IFRMSG = 'PST_ELREG_GET_COUPON';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.always(function() {\r\n\t\t\t\t\tord.LOADING_STATUSES = false;\r\n\t\t\t\t})\r\n\r\n\t\t},\r\n\t\tchangeStatus: function(tik, ord, bEnable) {\r\n\t\t\tif (tik.LOADING_STATUS && bEnable === false) return; // блокировка отмены пройденной регистрации за 1 час до отправления PIRS-14238\r\n\t\t\ttik.LOADING_STATUS = true;\r\n\t\t\ttik.LOADER = true;\r\n\t\t\tvar params = {\r\n\t\t\t\taction: bEnable === true ? 'REGISTER' : 'UNREGISTER',\r\n\t\t\t\tORDER_ID: ord.N,\r\n\t\t\t\tticket_id: tik.n\r\n\t\t\t}\r\n\t\t\tUTIL.ridQuery('?layer_id=5418', params, tik)\r\n\t\t\t\t.done(function(result) {\r\n\t\t\t\t\tif (result.result === 'OK') {\r\n\t\t\t\t\t\tvm.getStatuses(ord);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.always(function() {\r\n\t\t\t\t\ttik.LOADING_STATUS = false;\r\n\t\t\t\t})\r\n\t\t},\r\n\t\t/**\r\n\t\t\ttik\t\t\t\t{object}\tбилет (APP_TICKET)\r\n\t\t\tord\t\t\t\t{object}\tзаказ (APP_ORDER)\r\n\t\t\tsord\t\t\t{object}\tпоездка (APP_SALE_ORDER)\r\n\t\t\tbForceRefund\t{boolean}\tне запрашивать подтверждение пользователя\r\n\t\t*/\r\n\t\trefundTicket: function(tik, ord, sord, bForceRefund) {\r\n\t\t\t//Todo создать отдельный признак для блокировки билета.\r\n\t\t\tif (tik.LOADING_REFUND_TICKET) return; // блокировка возврата билета за 1 час до отправления PIRS-14238\r\n\t\t\ttik.LOADING_REFUND_TICKET = true; // определено при запросе статуса билета.\r\n\t\t\tvar params = {\r\n\t\t\t\taction: bForceRefund === true ? 'REFUND' : 'PREVIEW',\r\n\t\t\t\tORDER_ID: ord.N,\r\n\t\t\t\tticket_id: tik.n\r\n\t\t\t}\r\n\t\t\tUTIL.ridQuery('?layer_id=5421', params, tik)\r\n\t\t\t\t.done(function(result) {\r\n\t\t\t\t\ttik.HUMAN_ERROR = null;\r\n\t\t\t\t\tUTIL.log(result);\r\n\t\t\t\t\tvar msgTemplate = window.lang(['Ticket', 'The amount due for return: $summa$']);\r\n\t\t\t\t\tif ('lst' in result && 'sum' in result.lst[0]) { // то бишь action==='PREVIEW'\r\n\t\t\t\t\t\tvar rfnd = {\r\n\t\t\t\t\t\t\tbMulti: result.lst.length > 1,\r\n\t\t\t\t\t\t\tbDisabledCompanion: tik.disabledTypeId === 1,\r\n\t\t\t\t\t\t\tbYandex: sord.paymentMethod === 'YANDEX_MONEY',\r\n\t\t\t\t\t\t\tbDMS: tik.POLICY ? tik.POLICY.number && tik.POLICY.statusId == 40 : null,\r\n\t\t\t\t\t\t\tbDMS_cost: tik.POLICY ? tik.POLICY.cost : null,\r\n\t\t\t\t\t\t\tbINSUR: tik.INSUR ? tik.INSUR.bRefund == 0 : null,\r\n\t\t\t\t\t\t\tbINSUR_cost: tik.INSUR ? tik.INSUR.cost : null,\r\n\t\t\t\t\t\t\tord: ord,\r\n\t\t\t\t\t\t\tlist: []\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\t// собираем все билеты заказа в билет для нахождения соответствия\r\n\t\t\t\t\t\t// респонса и возвращаемых билетов\r\n\t\t\t\t\t\tvar ordTicketList = [];\r\n\t\t\t\t\t\tfor (var k = 0, lenk = ord.lst.length; k < lenk; k++) {\r\n\t\t\t\t\t\t\tvar ticket = ord.lst[k];\r\n\t\t\t\t\t\t\tordTicketList[ticket.id] = ticket;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (var i = 0, len = result.lst.length; i < len; i++) {\r\n\t\t\t\t\t\t\tvar refundItem = result.lst[i];\r\n\t\t\t\t\t\t\tvar ticket = ordTicketList[refundItem.ticketNum];\r\n\t\t\t\t\t\t\trefundItem = $.extend(ticket, refundItem)\r\n\t\t\t\t\t\t\trefundItem.summa = refundItem.sum; // в лучших традициях нашего АПИ в словарном тексте написано $summa$ а в респонсе - sum.\r\n\t\t\t\t\t\t\trefundItem.text = UTIL.formatStr(msgTemplate, {\r\n\t\t\t\t\t\t\t\tsumma: refundItem.sum,\r\n\t\t\t\t\t\t\t\ttime: refundItem.time,\r\n\t\t\t\t\t\t\t\tdate: refundItem.date\r\n\t\t\t\t\t\t\t}, ['$', '$']);\r\n\t\t\t\t\t\t\trfnd.list.push(refundItem)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvm.$data.refundMsg = rfnd; // скармливаем данные вуЮ, он их рендерит\r\n\r\n\t\t\t\t\t\tvar confirmButtons = {};\r\n\t\t\t\t\t\tconfirmButtons[window.lang('Make refund')] = function(evt) {\r\n\t\t\t\t\t\t\tvm.refundTicket(tik, ord, sord, true);\r\n\t\t\t\t\t\t\t$(this).dialog('close');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconfirmButtons[window.lang('Cancel')] = function(evt) {\r\n\t\t\t\t\t\t\t$(this).dialog('close');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvm.$nextTick(function() {\r\n\t\t\t\t\t\t\tvar opts = {\r\n\t\t\t\t\t\t\t\tbuttons: confirmButtons\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tUTIL.dialogMessage($('.j-refund-popup'), opts)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse { // то бишь action==='REFUND'\r\n\t\t\t\t\t\tvm.getStatuses(ord);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (bForceRefund && tik.INSUR) { // то бишь action==='REFUND'\r\n\t\t\t\t\t\tvm.$set(tik.INSUR, 'Refunded', 1); // ставим такой же признак как приходит с сервера PIRS-16888\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.always(function() {\r\n\t\t\t\t\ttik.LOADING_REFUND_TICKET = false;\r\n\t\t\t\t})\r\n\t\t},\r\n\t\trefundInsurance: function(tik, ord) {\r\n\t\t\tvar confirmButtons = {};\r\n\t\t\tconfirmButtons[lang('Make refund')] = function(evt) {\r\n\t\t\t\tvar dfInsrRef = $.ajax({\r\n\t\t\t\t\turl: '?layer_id=5664',\r\n\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tORDER_ID: ord.N,\r\n\t\t\t\t\t\tpassengerId: tik.INSUR.passId,\r\n\t\t\t\t\t\tticketNumber: tik.id,\r\n\t\t\t\t\t\tticket_id: tik.n\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tdfInsrRef\r\n\t\t\t\t\t.success(function(insrRetundRes) {\r\n\t\t\t\t\t\tif (insrRetundRes.result === \"OK\") {\r\n\t\t\t\t\t\t\tvm.$set(tik.INSUR, 'Refunded', 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(insrRetundRes) {\r\n\t\t\t\t\t\tUTIL.dialogMessage('В процессе возврата страховки произошла ошибка.<br/>Пожалуйста, повторите попытку позже.');\r\n\t\t\t\t\t});\r\n\t\t\t\t$(this).dialog('close');\r\n\t\t\t}\r\n\t\t\tconfirmButtons[lang('Cancel')] = function(evt) {\r\n\t\t\t\t$(this).dialog('close');\r\n\t\t\t}\r\n\t\t\tUTIL.dialogMessage('Осуществить возврат страховки?', {\r\n\t\t\t\tbuttons: confirmButtons\r\n\t\t\t})\r\n\t\t},\r\n\t\trefundDMS: function(tik, ord) {\r\n\t\t\tvar confirmButtons = {},\r\n\t\t\t\tresult;\r\n\t\t\tconfirmButtons[lang('Make refund')] = function(evt) {\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\tjourneyId: ord.journeyId,\r\n\t\t\t\t\tpolicyNumber: tik.POLICY.number\r\n\t\t\t\t};\r\n\t\t\t\tUTIL.ridQuery('?layer_id=5890', params, tik, {})\r\n\t\t\t\t\t.done(function(result) {\r\n\t\t\t\t\t\tif (result.result === \"OK\") {\r\n\t\t\t\t\t\t\ttik.policies[0].statusId = 70;\r\n\t\t\t\t\t\t\ttik.POLICY_STATUS = g_policyStatus[tik.policies[0].statusId];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (result.statusText == 'OK') {\r\n\t\t\t\t\t\t\tresult = JSON.parse(result.responseText);\r\n\t\t\t\t\t\t\tUTIL.log('Ошибка при возврате полиса', result);\r\n\t\t\t\t\t\t\tUTIL.dialogMessage('В процессе возврата страховки произошла ошибка.<br/>Пожалуйста, обновите страницу и повторите попытку позже.');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.always(function(result) {\r\n\t\t\t\t\t\ttik.LOADING_REFUND_TICKET = false;\r\n\t\t\t\t\t\tif (result.statusText == 'OK') {\r\n\t\t\t\t\t\t\tUTIL.log('Ошибка при возврате полиса.', result);\r\n\t\t\t\t\t\t\tUTIL.dialogMessage('В процессе возврата страховки произошла ошибка.<br/>Пожалуйста, обновите страницу и повторите попытку позже.');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t$(this).dialog('close');\r\n\t\t\t}\r\n\t\t\tconfirmButtons[lang('Cancel')] = function(evt) {\r\n\t\t\t\t$(this).dialog('close');\r\n\t\t\t}\r\n\t\t\tvar msg = window.IFRMSG.POLICY_CABINET_REFUND_SUM + '&nbsp;' + tik.policies[0].cost + '&nbsp;руб.<br/>' + window.IFRMSG.REFUND_INFO_CABINET + '<br/>Осуществить возврат полиса?';\r\n\t\t\tUTIL.dialogMessage(msg, {\r\n\t\t\t\tbuttons: confirmButtons\r\n\t\t\t})\r\n\t\t},\r\n\t\tgetBlank_insurance: function(tik, format) {\r\n\t\t\tvar dlAddress = location.origin + '/blank/insurance/download/' + format + '/passenger/' + tik.INSUR.passId + '/' + window.PAGEDATA.lang;\r\n\t\t\tdownloadFile(dlAddress);\r\n\t\t},\r\n\t\tgetBlank_policy: function(tik) {\r\n\t\t\tdownloadFile(tik.POLICY.link)\r\n\t\t},\r\n\t\tshowInsurances: function(tik) {\r\n\t\t\tif (tik.SHOW_INSURANCES === true) {\r\n\t\t\t\ttik.SHOW_INSURANCES = false;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\ttik.SHOW_INSURANCES = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tshowRefundedOrder: function(ord) {\r\n\t\t\tif (ord.SHOW_REFUNDED_ORDER === true) {\r\n\t\t\t\tord.SHOW_REFUNDED_ORDER = false;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tord.SHOW_REFUNDED_ORDER = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetBlank_ticket: function(format, ord, tik) {\r\n\t\t\t// при загрузке бланка критерий необходимости загрузки билета\r\n\t\t\t// отсутствие у билета статуса !tik.STATUS.CODE\r\n\t\t\t// значит, статус и неокончательный и притом не получен аяксом\r\n\t\t\tvar currentTimestamp = Date.now();\r\n\t\t\tvar statusCheckNeeded = false;\r\n\t\t\tif (!tik) {\r\n\t\t\t\t// билет не передан, значит скачать надо бланк заказа\r\n\t\t\t\t// проверяем все билеты заказа на предмет отсутствия статуса\r\n\t\t\t\tfor (var i = 0; i < ord.lst.length; i++) {\r\n\t\t\t\t\tif (!ord.lst[i].STATUS.CODE || ridTimestampInvalid(ord._statusRid_timestamp)) {\r\n\t\t\t\t\t\tstatusCheckNeeded = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// билет передан, значит скачать надо бланк билета\r\n\t\t\t\t// проверяем этот билет на предмет отсутствия статуса\r\n\t\t\t\tstatusCheckNeeded = !tik.STATUS.CODE || ridTimestampInvalid(ord._statusRid_timestamp);\r\n\t\t\t}\r\n\r\n\t\t\tif (statusCheckNeeded) {\r\n\t\t\t\tvm.getStatuses(ord, downloadBlankTicket);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tdownloadBlankTicket()\r\n\t\t\t}\r\n\r\n\t\t\tfunction downloadBlankTicket() {\r\n\t\t\t\t// https://wiki.oooinex.ru/pages/viewpage.action?pageId=23825058\r\n\t\t\t\tvar urlParams = {\r\n\t\t\t\t\torigin: window.location.origin,\r\n\t\t\t\t\tformat: format,\r\n\t\t\t\t\torderId: ord.N,\r\n\t\t\t\t\tlang: window.PAGEDATA.lang,\r\n\t\t\t\t\trandom: Math.random() * 1e5 | 0\r\n\t\t\t\t}\r\n\t\t\t\tvar url = UTIL.formatStr('{origin}/blank/ticket/download/{format}/order/{orderId}/{lang}?_rnd={random}', urlParams);\r\n\t\t\t\tif (tik && tik.n) {\r\n\t\t\t\t\t// если билет не передан в getBlank_ticket\r\n\t\t\t\t\t// значит, скачиваем бланк не всего заказа, а одного билета\r\n\t\t\t\t\turl += '&ticketId=' + tik.n;\r\n\t\t\t\t}\r\n\t\t\t\tif (ord._statusRid) {\r\n\t\t\t\t\t// для показа актуального статуса у билетов с неокончательным статусом\r\n\t\t\t\t\t// Это свойство ord заполняется автоматом при запросе статусов\r\n\t\t\t\t\t// Иначе PIRS-14446 + PIRS-14447\r\n\t\t\t\t\turl += '&statusRid=' + ord._statusRid;\r\n\t\t\t\t}\r\n\t\t\t\tdownloadFile(url);\r\n\t\t\t}\r\n\r\n\t\t\t// грубое определение разницы во времени за которую протухнет statusRid\r\n\t\t\t// время в 5 минут взято из cabinet.js (см. function updateRid)\r\n\r\n\r\n\t\t\tfunction ridTimestampInvalid(ridTimestamp) {\r\n\t\t\t\tif (!ridTimestamp) {\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\t\t\t\tvar diffMinutes = (currentTimestamp - ridTimestamp) / (1000 * 60);\r\n\t\t\t\treturn diffMinutes > 5;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/*Дополнительное питание*/\r\n\t\tgetFoodDetails: function(ord, tik, extendedService) {\r\n\t\t\tif (this.foodDetails.selectedMenuItems && this.foodDetails.ticketId === tik.n) { // заказ уже открыт, просто скрыть его.\r\n\t\t\t\treturn this.foodDetails.selectedMenuItems = false;\r\n\t\t\t}\r\n\r\n\t\t\t//var self = this;\r\n\t\t\tvar selectedMenuItems = extendedService.foodPattern.split('');\r\n\t\t\tvar selectedVariants = extendedService.foodType && extendedService.foodType.replace(/\\//g, '').split('');\r\n\t\t\tfor (var i = 0; i < selectedMenuItems.length; i++) {\r\n\t\t\t\tselectedMenuItems[i] = {\r\n\t\t\t\t\tfoodPattern: selectedMenuItems[i],\r\n\t\t\t\t\tfoodCode: selectedVariants[i]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.foodDetails.ticketId = tik.n;\r\n\t\t\tthis.foodDetails.selectedMenuItems = extendedService.foodCount;\r\n\r\n\t\t},\r\n\t\t// Получение бланка дополнительного питания\r\n\t\t// причём в случае HTML возвращается ссылка\r\n\t\t// а в случае PDF производится загрузка\r\n\t\tgetFoodBlank: function(tik, ord, format, extendedService) {\r\n\t\t\tif (format === 'pdf') {\r\n\t\t\t\tvar url = '/blank/extendedfood/download/pdf/order/' + ord.N + '/serviceId/' + extendedService.id + '?ticketId=' + tik.n;\r\n\t\t\t\t//console.log(url)\r\n\t\t\t\tdownloadFile(url);\r\n\t\t\t}\r\n\t\t\telse if (format === 'html') {\r\n\t\t\t\tvar refundParam = extendedService.statusId === 70 ? '&refund=1' : '';\r\n\t\t\t\treturn '?STRUCTURE_ID=735&layer_id=5962&tik_id=' + tik.id + '&ORDER_ID=' + ord.N + refundParam;\r\n\t\t\t}\r\n\t\t},\r\n\t\t// Сдать дополнительное питание\r\n\t\trefundFood: function(ord, tik, extendedService) {\r\n\t\t\tvar closeDialog = function() {\r\n\t\t\t\t$(this).dialog('close');\r\n\t\t\t};\r\n\t\t\tvar self = this;\r\n\t\t\tvar refund = function(evt) {\r\n\t\t\t\tvar dialogElement = this;\r\n\t\t\t\t$(evt.currentTarget).hide();\r\n\t\t\t\tself.foodDetails.LOADING_REFUND = true;\r\n\t\t\t\tUTIL.ridQuery(\r\n\t\t\t\t\t\t'/ticket/secure/ru?layer_id=5945&action=Return&orderId=' + ord.N + '&ticketId=' + tik.n + '&serviceId=' + extendedService.id, {}, {})\r\n\t\t\t\t\t.then(\r\n\t\t\t\t\t\tfunction() {\r\n\t\t\t\t\t\t\t//Успешный запрс возврата!\r\n\t\t\t\t\t\t\tself.foodDetails.LOADING_REFUND = false;\r\n\t\t\t\t\t\t\textendedService.statusId = 70;\r\n\t\t\t\t\t\t\t$(dialogElement).dialog('close');\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfunction(reason) {\r\n\t\t\t\t\t\t\tself.foodDetails.LOADING_REFUND = false;\r\n\t\t\t\t\t\t\t$(dialogElement).find('.jqui-dialog-message').html(\r\n\t\t\t\t\t\t\t\t'При возврате дополнительного питания произошла ошибка: ' + reason);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\r\n\t\t\t};\r\n\t\t\tself.foodDetails.LOADING_REFUND = true;\r\n\t\t\tUTIL.ridQuery(\r\n\t\t\t\t\t'/ticket/secure/ru?layer_id=5945&action=Info&orderId=' + ord.N + '&ticketId=' + tik.n + '&serviceId=' + extendedService.id, {}, {})\r\n\t\t\t\t.then(\r\n\t\t\t\t\tfunction(response) {\r\n\t\t\t\t\t\tself.foodDetails.LOADING_REFUND = false;\r\n\t\t\t\t\t\t// текущая дата сервера для проверки возврата еды\r\n\t\t\t\t\t\tvar ticDate = response.timestamp.substr(3, 2) + '/' + response.timestamp.substr(0, 2) + '/' + response.timestamp.substr(6, 4) + ' ' + response.timestamp.substr(11);\r\n\t\t\t\t\t\tvar dateTimeNow = new Date(Date.parse(ticDate)); // Date.parse принимает дату в формате MM.DD.YYYY, чтоб его..\r\n\r\n\t\t\t\t\t\tif ((tik.dateTimeDeparture - dateTimeNow < 60 * 59 * 1000)) {\r\n\t\t\t\t\t\t\t// проверка серверного времени и запрет возврата еды менее чем за час до отправления.\r\n\t\t\t\t\t\t\t// тут показываем сообщение о том, что время вышло\r\n\t\t\t\t\t\t\ttik.SHOW_REFUND_FOOD_MSG = true;\r\n\t\t\t\t\t\t\ttik.SHOW_REFUND_FOOD = false;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar cost = response.response.foodRefunds[0] && response.response.foodRefunds[0].refundAmount;\r\n\t\t\t\t\t\tvar params = {\r\n\t\t\t\t\t\t\tbuttons: {}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tparams.buttons[lang('Make refund')] = refund;\r\n\t\t\t\t\t\tparams.buttons[lang('Cancel')] = closeDialog;\r\n\t\t\t\t\t\tUTIL.dialogMessage('Сумма к возврату за дополнительное питание: ' + cost + ' руб.', params);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction(reason) {\r\n\t\t\t\t\t\tself.foodDetails.LOADING_REFUND = false;\r\n\t\t\t\t\t\tvar buttons = {};\r\n\t\t\t\t\t\tbuttons[lang('Ok')] = closeDialog;\r\n\t\t\t\t\t\tUTIL.dialogMessage('Ошибка при получении информации о возврате: ' + reason);\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t},\r\n\t\t// Видимость нижней плашки с кнопками типа \"Вернуть билет\" и \"Сменить ЭР\"\r\n\t\tisTicketActionsAvailable: function(tik, ord) {\r\n\t\t\treturn !ord.left && !!tik.STATUS.CODE && tik.STATUS.CODE !== 'REFUNDED';\r\n\t\t},\r\n\t\t// Страховка НС приобретена и не возвращена\r\n\t\tisInsuranceActive: function(tik) {\r\n\t\t\treturn tik.INSUR && tik.INSUR.Refunded !== 1\r\n\t\t},\r\n\t\t// Страховка ДМС приобретена и не возвращена\r\n\t\tisPolicyActive: function(tik) {\r\n\t\t\treturn tik.POLICY && tik.POLICY.Refunded !== 1;\r\n\t\t},\r\n\t\t// Доступен возврат страховки ДМС\r\n\t\tisPolicyRefundAvailable: function(tik, ord) {\r\n\t\t\treturn this.isTicketActionsAvailable(tik, ord) && tik.POLICY_STATUS && tik.POLICY_STATUS.code == 'ISSUED';\r\n\t\t},\r\n\t\t// Доступен возврат страховки НС\r\n\t\tisInsuranceRefundAvailable: function(tik, ord) {\r\n\t\t\tvar refundAllowed = window.PAGEDATA.BaseParams.is_insurance_refund === '1'; // PIRS-12830\r\n\t\t\treturn refundAllowed && this.isTicketActionsAvailable(tik, ord) && this.isInsuranceActive(tik) && tik.INSUR.bRefund === 1;\r\n\t\t},\r\n\t\tprepaidFood_visible: function(tik, ord) {\r\n\t\t\tif (ord.left && !ord.foodId) {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\treturn tik.food;\r\n\t\t},\r\n\t\t// Видимость всего блока дополнительного питания\r\n\t\taddFood_visible: function(tik) {\r\n\t\t\tvar hasFood = false;\r\n\t\t\tif (tik.extendedServices && tik.extendedServices.length) {\r\n\t\t\t\tfor (var i = 0; i < tik.extendedServices.length; i++) {\r\n\t\t\t\t\tif (tik.extendedServices[i] && tik.extendedServices[i].typeId === 1) {\r\n\t\t\t\t\t\thasFood = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn tik.addFood || hasFood;\r\n\t\t},\r\n\t\taddFood_getArray: function(tik) {\r\n\t\t\tvar i, foodArray = [];\r\n\t\t\tif (tik.extendedServices && tik.extendedServices.length) {\r\n\t\t\t\tfor (i = 0; i < tik.extendedServices.length; i++) {\r\n\t\t\t\t\tif (tik.extendedServices[i] && tik.extendedServices[i].typeId === 1) {\r\n\t\t\t\t\t\tif (tik.extendedServices[i].statusId === 30) {\r\n\t\t\t\t\t\t\ttik.extendedServices[i].isPurchased = true;\r\n\t\t\t\t\t\t\ttik.extendedServices[i].isRefunded = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (tik.extendedServices[i].statusId === 70) {\r\n\t\t\t\t\t\t\ttik.extendedServices[i].isPurchased = false;\r\n\t\t\t\t\t\t\ttik.extendedServices[i].isRefunded = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttik.extendedServices[i].isLast = tik.extendedServices.length === i + 1;\r\n\t\t\t\t\t\tfoodArray.push(tik.extendedServices[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (foodArray.length === 0 && tik.addFood === true) {\r\n\t\t\t\t// TODO переделать\r\n\t\t\t\tfoodArray = [{\r\n\t\t\t\t\tisLast: true,\r\n\t\t\t\t\tisFake: true\r\n\t\t\t\t}];\r\n\t\t\t\t// фейковое значение чтобы отображался блок Доп.питания с кнопкой купить PIRS-17115\r\n\t\t\t\t// причём он должен отображаться если питание сдано И если питание не было куплено\r\n\t\t\t}\r\n\t\t\treturn foodArray;\r\n\t\t},\r\n\t\taddFood_isBuyPossible: function(tik) {\r\n\t\t\tvar hasPurchased = false;\r\n\t\t\tif (tik.extendedServices && tik.extendedServices.length) {\r\n\t\t\t\tfor (var i = 0; i < tik.extendedServices.length; i++) {\r\n\t\t\t\t\tif (tik.extendedServices[i] && tik.extendedServices[i].typeId === 1 && tik.extendedServices[i].statusId === 30) {\r\n\t\t\t\t\t\thasPurchased = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn tik.addFood && (!hasPurchased);\r\n\t\t},\r\n\t\taddFood_showMenuWindow: function(url) {\r\n\t\t\t// см. также showMenuWindow из pass16/market-food.js\r\n\t\t\turl = url || '/catering/public/ru?layer_name=catering-menu';\r\n\t\t\twindow.open(url, 'Menu', '_blank, strWindowFeatures, height=400, width=737, scrollbars=1');\r\n\t\t},\r\n\t\t// PIRS-16873 Купить товары с маркета\r\n\t\tbuyAdditionals: function(ordslot, ord, tik, addType) {\r\n\t\t\t// эмулируем структуру данных редизайна :(\r\n\t\t\t// можно попробовать брать данные о билете из слоя 5744, кот. используется в бланке\r\n\t\t\tvar _tik = $.extend({\r\n\t\t\t\tticketId: tik.n,\r\n\t\t\t\tpass: [$.extend({}, tik, { // пассажир в билете в петином коде выделяется в отдельный подобъект\r\n\t\t\t\t\t\tshortName: tik.name,\r\n\t\t\t\t\t\ttariff: tik.tariffId\r\n\t\t\t\t\t})] // лишний {} - чтобы не менять tik, иначе при нажатии на кнопку в поле тариф пишется Adult\r\n\t\t\t}, tik);\r\n\r\n\t\t\tvar _ord = $.extend({\r\n\t\t\t\torderId: ord.N,\r\n\t\t\t\ttickets: [_tik],\r\n\t\t\t\ttype: ord.carTypeRu, // additionals-store:194\r\n\t\t\t\tnumber2: ord.train //for additionals-store\r\n\t\t\t}, ord);\r\n\r\n\t\t\tvar pass16_ResResponse = {\r\n\t\t\t\tsaleOrderId: ordslot.id,\r\n\t\t\t\torders: [_ord],\r\n\t\t\t\tpaymentSystems: [{\r\n\t\t\t\t\t\"id\": 2,\r\n\t\t\t\t\t\"code\": \"BANK\",\r\n\t\t\t\t\t\"name\": \"Банковская карта\",\r\n\t\t\t\t\t\"tip\": \"Оплата картами банков.\" // Сейчас по факту товары нельзя купить за ЯД, вроде и не планируется\r\n\t\t\t\t}]\r\n\t\t\t};\r\n\r\n\t\t\tstore.session('pass16_ResResponse', pass16_ResResponse);\r\n\t\t\t//В URL добавляется параметр reduced=true он обрабатывается в js и указывает урезанный шаблон для VUE.\r\n\t\t\twindow.location.href = window.PAGEDATA.LayerLinks.additionals + '&reduced=true#/' + addType;\r\n\t\t},\r\n\r\n\t\t//Предоплаченное питание\r\n\t\t// PIRS-16436 food\r\n\t\tchangeMeal: function(ord, tik, ordslot_index, ordslot) {\r\n\t\t\tvar self = this;\r\n\t\t\tUTIL.ridQuery('?layer_id=5713', {\r\n\t\t\t\t\tORDER_ID: tik.ORDER_ID\r\n\t\t\t\t})\r\n\t\t\t\t.then(function(responseData) {\r\n\t\t\t\t\tif (responseData.list && responseData.list.length === 0) {\r\n\t\t\t\t\t\tUTIL.dialogMessage('К сожалению, выбор типа питания для данного заказа недоступен')\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself.foodList = responseData;\r\n\t\t\t\t\tself.foodList.tikFoodName = tik.foodName;\r\n\t\t\t\t\tself.foodList.curSlotId = ordslot.id;\r\n\t\t\t\t\tself.foodList.curORDER_ID = ord.N;\r\n\t\t\t\t\tself.foodList.curTicketId = tik.n;\r\n\r\n\t\t\t\t\t// нексттик и вызов в коллбеке аякса потому что\r\n\t\t\t\t\t// иначе попап неверно вычисляет размер\r\n\t\t\t\t\tvm.$nextTick(function() {\r\n\t\t\t\t\t\tUTIL.dialogMessage($('#j-change-food-popup'), {\r\n\t\t\t\t\t\t\tbuttons: {\r\n\t\t\t\t\t\t\t\tOK: function() {\r\n\t\t\t\t\t\t\t\t\tself.setChangedFood();\r\n\t\t\t\t\t\t\t\t\t$(this).dialog('close');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t}, function(reason) {\r\n\t\t\t\t\tUTIL.dialogMessage('Ошибка ' + reason);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tsetChangedFood: function() {\r\n\t\t\tvar self = this;\r\n\t\t\tconsole.log(this);\r\n\t\t\tvar val = self.foodListSelectedItem.split('_');\r\n\t\t\tvar foodName = val[0];\r\n\t\t\tvar foodId = val[1];\r\n\t\t\tfor (var n in self.slots) {\r\n\t\t\t\tif (self.slots[n].id === self.foodList.curSlotId) {\r\n\t\t\t\t\t// self.slots[n].lst[0].lst[0].foodName = foodName;\r\n\t\t\t\t\tvar params = {\r\n\t\t\t\t\t\tORDER_ID: self.foodList.curORDER_ID,\r\n\t\t\t\t\t\tticket_id: self.foodList.curTicketId,\r\n\t\t\t\t\t\tfoodId: foodId\r\n\t\t\t\t\t};\r\n\t\t\t\t\tvar curN = n;\r\n\t\t\t\t\tUTIL.ridQuery('?layer_id=5718', params)\r\n\t\t\t\t\t\t.done(function() {\r\n\t\t\t\t\t\t\tself.slots[curN].lst[0].lst[0].foodName = foodName;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.fail(function(err, res) {\r\n\t\t\t\t\t\t\tUTIL.dialogMessage('Во время сохранения данных произошла ошибка ' + res.info || err);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t\tПодготовка к превращению всего после банка в одностраничник\r\n\t\t\tпотом вынесем в компоненты, а пока простыня\r\n\t\t*/\r\n\t\t// На шаге возврата из банка проверяется статус заказа в экспрессе и финализируется покупка у нас в системе\r\n\t\t// для яндекса перед этим действием случается дополнительная проверка статуса finalStep_checkPaymentYandex\r\n\t\tbankResult_finalizePayment: function(bNoCostCheck) {\r\n\t\t\tvar vm = this;\r\n\t\t\t// на слое подтверждения с нулевой стоимостью помимо ВТТ и Лояльности обрабатывается также и Яндекс\r\n\t\t\tvar layerId = bNoCostCheck ? 5726 : 5752;\r\n\t\t\t// TODO сделать кнопку гашения в случае неуспеха, layerId = 5769\r\n\r\n\t\t\tvar params = {\r\n\t\t\t\torderId: vm.$data.form.saleOrderId\r\n\t\t\t};\r\n\r\n\t\t\t//Случай если оплачивались только доп услуги\r\n\t\t\tif (vm.$data.form.transactionId && vm.$data.form.type === 'SERVICE') {\r\n\t\t\t\tlayerId = 5954;\r\n\t\t\t\tparams.type = vm.$data.form.type;\r\n\t\t\t\tparams.transactionId = vm.$data.form.transactionId\r\n\t\t\t}\r\n\r\n\t\t\tvar url = '?layer_id=' + layerId;\r\n\t\t\tvm.LOADING_ORDERS = true; // глобальная крутилка\r\n\t\t\tUTIL.ridQuery(url, params, vm.$data)\r\n\t\t\t\t.done(function(result) {\r\n\t\t\t\t\tpaymentCheckDispatch(result);\r\n\t\t\t\t})\r\n\t\t\t\t.fail(function(result) {\r\n\t\t\t\t\tpaymentCheckDispatch(result, true);\r\n\t\t\t\t})\r\n\r\n\t\t\tfunction paymentCheckDispatch(result, bErrorMode) {\r\n\t\t\t\tvar allOk = REQ.result === 'OK' && result.result === 'OK' && !bErrorMode;\r\n\t\t\t\tif (allOk) {\r\n\t\t\t\t\t// window.UTIL.dialogMessage('Оплата успешно подтверждена');\r\n\t\t\t\t\tif (result.response && result.response[0] && result.response[0].saleOrderId) { // для проверямой покупки доп. услуг передан ID покупки билетов, которые нужно показать\r\n\t\t\t\t\t\tvm.$data.form.saleOrderId = result.response[0].saleOrderId\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvm.getOrders(); // Показ заказа\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// window.UTIL.dialogMessage('Произошла ошибка при проверке платежа');\r\n\t\t\t\t\tvm.LOADING_ORDERS = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// Кнопка \"Начать покупку сначала\"\r\n\t\tbankResult_goStart: function() {\r\n\t\t\tvar url;\r\n\t\t\tif (PAGEDATA.theme === 'SPECIAL') {\r\n\t\t\t\tvar steps = window.store.session('Steps');\r\n\t\t\t\turl = steps && steps.trains ? steps.trains + '|_PREVENT_FORM_SUBMIT_' : '/'; // TODO замена | на &\r\n\t\t\t}\r\n\t\t\telse if (PAGEDATA.theme === 'REDESIGN') {\r\n\t\t\t\turl = '?layer_name=e3-route';\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\turl = '/';\r\n\t\t\t}\r\n\t\t\twindow.location.href = url;\r\n\t\t},\r\n\t\t// На шаге возврата из банка в случае Яндекса \r\n\t\t// первым делом проверяем статус платежа в Яндексе, см. PIRS-13679\r\n\t\tbankResult_checkPaymentYandex: function() {\r\n\t\t\tvar vm = this;\r\n\t\t\tvar url = '/ticket/services/status/journey/' + vm.$data.form.saleOrderId + '/payment/' + window.PAGEDATA.lang;\r\n\t\t\tvar params = {};\r\n\r\n\t\t\t//Случай если оплачивались только доп услуги\r\n\t\t\tif (vm.$data.form.transactionId && vm.$data.form.type === 'SERVICE') {\r\n\t\t\t\tparams.type = vm.$data.form.type;\r\n\t\t\t\tparams.transactionId = vm.$data.form.transactionId\r\n\t\t\t}\r\n\t\t\tvm.LOADING_ORDERS = true; // глобальная крутилка\r\n\t\t\tUTIL.ridQuery(url, params, vm.$data)\r\n\t\t\t\t.done(function(result) {\r\n\t\t\t\t\tif (result.result === 'Error') {\r\n\t\t\t\t\t\tonYaError();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (result.result === 'OK') {\r\n\t\t\t\t\t\tif (result.data === 'PAID_YANDEX') {\r\n\t\t\t\t\t\t\tvm.bankResult_finalizePayment(true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (result.data === 'ISSUED') {\r\n\t\t\t\t\t\t\tvm.getOrders(); // Показ заказа\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tvm.bankResult_checkPaymentYandex(); // Следующая попытка запроса статуса оплаты\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.fail(onYaError)\r\n\t\t\t\t.always(function() {\r\n\t\t\t\t\tvm.LOADING_ORDERS = false;\r\n\t\t\t\t});\r\n\r\n\t\t\tfunction onYaError() {\r\n\t\t\t\twindow.UTIL.dialogMessage('Ошибка запроса статуса платежа Яндекс.Деньги')\r\n\t\t\t}\r\n\t\t},\r\n\t\t// алерт сделанный на жиквери-уи-диалоге\r\n\t\t// можно передать селектор (обязательно класс)\r\n\t\t// можно передать готовую строку\r\n\t\talert: window.UTIL.dialogMessage\r\n\t}\r\n};\r\n\r\nfunction getOrders(bNext) {\r\n\r\n\tvar data = this;\r\n\tif (bNext === true) {\r\n\t\tdata.form.page++;\r\n\t}\r\n\telse {\r\n\t\tdata.form.page = 1;\r\n\t\tdata.slots = [];\r\n\t}\r\n\tvar params = $.extend({}, data.form);\r\n\r\n\tif ('history' in window && 'replaceState' in window.history) {\r\n\t\t// Если браузер умеет менять урл без перезагрузки (ИЕ11+), делаем это\r\n\t\tvar params2url = $.extend(REQ, params);\r\n\t\tif (data.bPageAfterBank === false) {\r\n\t\t\tdelete params2url.xmlmsg;\r\n\t\t\tdelete params2url.orderId;\r\n\t\t\tdelete params2url.paymentSystem;\r\n\t\t\tdelete params2url.result;\r\n\t\t}\r\n\t\twindow.history.replaceState(null, null, '?' + $.param(params2url));\r\n\t}\r\n\r\n\tvm.LOADING_ORDERS = true;\r\n\tUTIL.ridQuery(PAGEDATA.LayerLinks.orderList, params, vm)\r\n\t\t.done(function(responseData) {\r\n\t\t\tUTIL.log('Ответ на запрос списка заказов', responseData);\r\n\t\t\tvar ticDate = responseData.timestamp.substr(3, 2) + '/' + responseData.timestamp.substr(0, 2) + '/' + responseData.timestamp.substr(6, 4) + ' ' + responseData.timestamp.substr(11);\r\n\t\t\tvar dateTimeNow = new Date(Date.parse(ticDate)); // Date.parse принимает дату в формате MM.DD.YYYY, чтоб его..\r\n\t\t\tdata.HUMAN_ERROR = null; // обнуление ошибки\r\n\r\n\t\t\tif (responseData.slots && !responseData.slots.length && window.location.search.indexOf('tD=1') != -1 && window.sessionStorage['mobile_Test'] != undefined) {\r\n\t\t\t\tresponseData = window.sessionStorage['mobile_Test'] ? JSON.parse(window.sessionStorage['mobile_Test']) : responseData;\r\n\t\t\t\tUTIL.log('Восстановлено из Хранилища', responseData);\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof responseData.slots === 'undefined') {\r\n\t\t\t\tvar herr = 'Произошла ошибка. Пожалуйста, попробуйте выполнить запрос позже.';\r\n\t\t\t\tif (window.PAGEDATA.showErrors === true) {\r\n\t\t\t\t\therr += '\\n' + JSON.stringify(responseData, null, 2);\r\n\t\t\t\t}\r\n\t\t\t\tdata.HUMAN_ERROR = herr;\r\n\t\t\t}\r\n\t\t\telse {\t\t\t\t\r\n\t\t\t\t// Перемывка данных нашего доблестного API\r\n\t\t\t\t// Свойства, которые создаются в результате перемывки, названы капсом\r\n\t\t\t\tfor (var i = 0; i < responseData.slots.length; i++) {\r\n\t\t\t\t\tvar sord = responseData.slots[i]; // это запись в APP_SALE_ORDER, в шаблонах зачем-то называется ordslot\r\n\t\t\t\t\tif (sord.jstatus === 'ON_AVISO') { // PIRS-13686. jstatus - это journey_status\r\n\t\t\t\t\t\tON_AVISO_cnt++;\r\n\t\t\t\t\t\t// заказы в статусе ON_AVISO, см. PIRS-13686\r\n\t\t\t\t\t\tUTIL.log('В ответе найдена поездка в статусе ON_AVISO', sord)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//сортировка по дате билетов в заказе\r\n\t\t\t\t\tif (sord.lst.length > 1) {\r\n\t\t\t\t\t\tsord.lst.sort(sortByDate);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (sord.refunds && sord.refunds.length !== 0) {\r\n\t\t\t\t\t\tvar sordRefund = sord.refunds[0];\r\n\t\t\t\t\t\t// Ваш возврат по платежной транзакции {{./../../transactionId}} обработан. и т.п.\r\n\t\t\t\t\t\t// Сообщение на боевом содержит разметку для мусташа\r\n\t\t\t\t\t\tsord.REFUND_MESSAGE = window.IFRMSG._orderRefundMessage\r\n\t\t\t\t\t\t\t.replace('{{./../../transactionId}}', ordslot.transactionId)\r\n\t\t\t\t\t\t\t.replace('{{transferDate}}', sordRefund.transferDate)\r\n\t\t\t\t\t\t\t.replace('{{amount}}', sordRefund.amount);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsord.LINK_REFUND_REGISTER = '?STRUCTURE_ID=735&layer_id=5963&transaction_id=' + sord.transactionId; // PIRS-16410\r\n\t\t\t\t\tsord.defShowTime = responseData.defShowTime; // переношу сюда чтобы не срать в корень\r\n\t\t\t\t\tsord.mskTimeSuffix = responseData.mskTimeSuffix; // переношу сюда чтобы не срать в корень\r\n\t\t\t\t\tvar routeNames = [];\r\n\t\t\t\t\tfor (var k = 0; k < sord.lst.length; k++) {\r\n\t\t\t\t\t\tvar ord = sord.lst[k]; // это запись в APP_ORDER\r\n\t\t\t\t\t\tord.ELREG_IFRMSG = '';\r\n\t\t\t\t\t\t// Внимание! Здесь надо перечислять все свойства, которые отсутствуют в API, \r\n\t\t\t\t\t\t// иначе они не станут реактивными (т.е. не будут на лету обновляться в шаблоне) \r\n\t\t\t\t\t\t// TODO по уму создавать их конструктором\r\n\t\t\t\t\t\tord.LOADING_STATUSES = false; // initial\r\n\t\t\t\t\t\tord.STATUS = null;\r\n\t\t\t\t\t\tord.HIDE = false; // скрываем в списке\r\n\t\t\t\t\t\tord.LOADER = false; // initial\r\n\t\t\t\t\t\tord.LINK_BLANK = '?layer_id=5422&ORDER_ID=' + ord.N;\r\n\t\t\t\t\t\tord.LINK_PDF = '/blank/ticket/download/pdf/order/' + ord.N;\r\n\t\t\t\t\t\tord.LINK_AUTORACK = '?STRUCTURE_ID=5235&layer_id=5473&app_order_id=' + ord.N;\r\n\t\t\t\t\t\tif (window.PAGEDATA.BaseParams.UFS_HOTELS === '1' && !ord.arrived) {\r\n\t\t\t\t\t\t\tord.LINK_HOTEL = getHotelLink(sord);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tord.HUMAN_ERROR = '';\r\n\t\t\t\t\t\tord.SHOW_REFUNDED_ORDER = false;\r\n\t\t\t\t\t\tord.journeyId = sord.id;\r\n\t\t\t\t\t\tif (vm.$data.DEBUG) {\r\n\t\t\t\t\t\t\tord.ORDER_LINK = window.location.href + '&saleOrderId=' + sord.id;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\trouteNames.push({\r\n\t\t\t\t\t\t\t'from': ord.parentStation0 || ord.station0,\r\n\t\t\t\t\t\t\t'to': ord.parentStation1 || ord.station1,\r\n\t\t\t\t\t\t\t'dir': ord.dir\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tfor (var j = 0; j < ord.lst.length; j++) {\r\n\t\t\t\t\t\t\tvar tik = ord.lst[j]; // это запись в APP_TICKET\r\n\t\t\t\t\t\t\tvar ticDate = ord.date0.substr(3, 2) + '/' + ord.date0.substr(0, 2) + '/' + ord.date0.substr(6, 4);\r\n\t\t\t\t\t\t\t// Date.parse принимает дату в формате MM.DD.YYYY, чтоб его..\r\n\t\t\t\t\t\t\ttik.dateTimeDeparture = new Date(Date.parse(ticDate + ' ' + ord.time0));\r\n\t\t\t\t\t\t\t// нужно для активации/дезактивации кнопки \"Сдать билет\", за 1 час до выезда должна блокироваться\r\n\r\n\t\t\t\t\t\t\ttik.LINK_BLANK = '?layer_id=5422&ORDER_ID=' + ord.N + '&ticket_id=' + tik.n;\r\n\r\n\t\t\t\t\t\t\tif (tik.goodsTotalCost) {\r\n\t\t\t\t\t\t\t\ttik.goodsTotalCost;\r\n\t\t\t\t\t\t\t\ttik.LINK_GOODS_LIST = '?layer_id=5972&ticket_id=' + tik.n + '&order_id=' + ord.N;\r\n\t\t\t\t\t\t\t\ttik.LINK_GOODS_BLANK_PDF = '/blank/extendedService/download/pdf/serviceOrder/' + ord.N;\r\n\t\t\t\t\t\t\t\t// tik.LINK_GOODS_BLANK_PDF = '/blank/extendedService/display/pdf/serviceOrder/' + ord.N;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\ttik.HUMAN_ERROR = '';\r\n\t\t\t\t\t\t\ttik.STATUS = {\r\n\t\t\t\t\t\t\t\t// первоначальный статус может быть null (если он не окончательный)\r\n\t\t\t\t\t\t\t\t// а может быть и сразу нормальный (если окончательный, например REFUNDED)\r\n\t\t\t\t\t\t\t\tNAME: (tik.status ? window.lang(['TicketStatus', tik.status]) : ''),\r\n\t\t\t\t\t\t\t\tCODE: tik.status\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tord.STATUS = !tik.status ? false : true;\r\n\r\n\t\t\t\t\t\t\ttik.ORDER_ID = ord.N;\r\n\t\t\t\t\t\t\ttik.LOADING_STATUS = false; // initial\r\n\t\t\t\t\t\t\ttik.LOADER = false; // initial\r\n\t\t\t\t\t\t\ttik.LOADING_REFUND_TICKET = false; // initial\r\n\t\t\t\t\t\t\ttik.LOADING_REFUND_INSURANCE = false; // initial\r\n\t\t\t\t\t\t\ttik.LINK_PDF = '/blank/ticket/download/pdf/order/' + ord.N + '/' + window.PAGEDATA.lang;\r\n\t\t\t\t\t\t\ttik.LINK_PNG = '/blank/ticket/download/png/order/' + ord.N + '/' + window.PAGEDATA.lang;\r\n\t\t\t\t\t\t\ttik.SHOW_INSURANCES = false;\r\n\t\t\t\t\t\t\ttik.SHOW_REFUND_FOOD = true;\r\n\t\t\t\t\t\t\ttik.SHOW_REFUND_FOOD_MSG = false;\r\n\r\n\t\t\t\t\t\t\tif (tik.extendedServices && tik.extendedServices.length && (tik.dateTimeDeparture - dateTimeNow < 60 * 59 * 1000)) {\r\n\t\t\t\t\t\t\t\t// запрет возврата еды менее чем за час до отправления.\r\n\t\t\t\t\t\t\t\ttik.SHOW_REFUND_FOOD = false;\r\n\t\t\t\t\t\t\t\ttik.SHOW_REFUND_FOOD_MSG = true;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (tik.insurances[0]) {\r\n\t\t\t\t\t\t\t\ttik.INSUR = tik.insurances[0];\r\n\t\t\t\t\t\t\t\ttik.LINK_INSURANCE = '?layer_id=5666&passenger_id=' + tik.insurances[0].passId;\r\n\t\t\t\t\t\t\t\tif (tik.INSUR.passId) {\r\n\t\t\t\t\t\t\t\t\ttik.LINK_INS_PDF = '/blank/insurance/download/pdf/passenger/' + tik.INSUR.passId + '/' + window.PAGEDATA.lang;\r\n\t\t\t\t\t\t\t\t\t// UTIL.log('LINK_INS_PDF', tik.LINK_INS_PDF)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (tik.policies[0] && tik.number == tik.policies[0].ticketNumber) {\r\n\t\t\t\t\t\t\t\tif (tik.policies[0]) {\r\n\t\t\t\t\t\t\t\t\ttik.POLICY = tik.policies[0];\r\n\t\t\t\t\t\t\t\t\ttik.POLICY_DATE = tik.policies[0].startDate + ' — ' + tik.policies[0].finishDate;\r\n\t\t\t\t\t\t\t\t\ttik.POLICY_AREA = data.DMSAREA[tik.policies[0].areaId];\r\n\t\t\t\t\t\t\t\t\ttik.POLICY_STATUS = data.POLICY_STATUSES[tik.policies[0].statusId];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (tik.policies[0]) {\r\n\t\t\t\t\t\t\t\t//delete tik.policies[0];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar routeName = routeNames[0].from,\r\n\t\t\t\t\t\tdirectional = routeNames[0].dir;\r\n\t\t\t\t\tif (routeNames.length > 1) {\r\n\t\t\t\t\t\tfor (var r = 1; r < routeNames.length; r++) {\r\n\t\t\t\t\t\t\tif (routeNames[r].dir != directional) {\r\n\t\t\t\t\t\t\t\trouteName += ' — ' + routeNames[r].from;\r\n\t\t\t\t\t\t\t\tdirectional = routeNames[r].dir;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\trouteName += ' — ' + routeNames[routeNames.length - 1].to;\r\n\t\t\t\t\t\t//UTIL.log(routeNames, routeName); // название сложных маршрутов\r\n\t\t\t\t\t\tsord.routeNames = routeName;\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tif (bNext === true) { // рисуем след. страницу\r\n\t\t\t\t\t\tdata.slots.push(sord)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (bNext !== true) { // первоначальная отрисовка\r\n\t\t\t\t\tdata.slots = responseData.slots;\r\n\t\t\t\t}\r\n\t\t\t\tif (ON_AVISO_cnt !== ON_AVISO_cnt_prev) {\r\n\t\t\t\t\tUTIL.dialogMessage($('.j-on-aviso-popup')) // PIRS-13686\r\n\t\t\t\t\tON_AVISO_cnt = ON_AVISO_cnt_prev;\r\n\t\t\t\t}\r\n\t\t\t\tdata.lastPage = responseData.lastPage;\r\n\r\n\t\t\t\tif (window.location.search.indexOf('tD=1') != -1 && !window.sessionStorage['mobile_Test']) {\r\n\t\t\t\t\twindow.sessionStorage['mobile_Test'] = JSON.stringify(responseData);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Формирование ссылки \"Забронировать отель\"\r\n\t\t\t// Изначально она с разметкой и закодированным хрефом\r\n\t\t\t// лежит в сообщении UFS_HOTELS_ORDERS\r\n\t\t\t// Формат хрефа - Петин, кастомные разделители \r\n\t\t\t// передаются третьим аргументом UTIL.formatStr\r\n\t\t\t// аргумент - SALE_ORDER (в нашем апи это элемент slots)\r\n\t\t\tfunction getHotelLink(sord) {\r\n\t\t\t\tvar ord = sord.lst[0];\r\n\t\t\t\tvar ordBack = sord.lst[1];\r\n\r\n\t\t\t\tif (ord.arrived || !window.IFRMSG.UFS_HOTELS_ORDERS) {\r\n\t\t\t\t\treturn ''\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar bdarray = [];\r\n\t\t\t\tfor (var i = 0; i < ord.lst.length; i++) {\r\n\t\t\t\t\tbdarray.push(ord.lst[i].birthday)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar parametrizedMsg = UTIL.formatStr(window.IFRMSG.UFS_HOTELS_ORDERS, {\r\n\t\t\t\t\tcode1: ord.code1,\r\n\t\t\t\t\tdate1: ord.date1,\r\n\t\t\t\t\ttime1: ord.time1,\r\n\t\t\t\t\tbirthdays: bdarray.join(),\r\n\t\t\t\t\tbk_date0: ordBack ? ordBack.date0 : '',\r\n\t\t\t\t\tbk_time0: ordBack ? ordBack.time0 : ''\r\n\t\t\t\t}, ['$%', '$']).replace(/http:\\/\\/pass/gm, window.location.protocol + '//pass'); // чтобы ссылки на БДММ не вызывали варнинга\r\n\t\t\t\treturn parametrizedMsg;\r\n\t\t\t}\r\n\r\n\t\t\tfunction sortByDate(a, b) {\r\n\t\t\t\tvar date1 = TDate.parse(a.date0),\r\n\t\t\t\t\tdate2 = TDate.parse(b.date0);\r\n\t\t\t\treturn date1 - date2;\r\n\t\t\t}\r\n\t\t})\r\n\t\t.always(function() {\r\n\t\t\tdata.LOADING_ORDERS = false;\r\n\t\t})\r\n};\r\n\r\nfunction downloadFile(url) {\r\n\tdocument.querySelector('#download-iframe').setAttribute('src', url);\r\n};\r\n\r\nexport default component;\n\n\n// WEBPACK FOOTER //\n// ./C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/pages/cabinet.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/css-loader?minimize!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/style-rewriter.js?id=data-v-0589a51d&scoped=true!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/less-loader/lib/loader.js!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=styles&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/auth-handler/auth-handler-mobile.vue\n// module id = 19\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/css-loader?minimize!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/style-rewriter.js?id=data-v-2a4e4196&scoped=true!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/less-loader/lib/loader.js!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=styles&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/payment-handler/payment-handler-mobile.vue\n// module id = 20\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/css-loader?minimize!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/style-rewriter.js?id=data-v-5e48d1ae&scoped=true!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/less-loader/lib/loader.js!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=styles&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/pages/cabinet-mobile.vue\n// module id = 21\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".devbar[data-v-9fdb1872]{z-index:777;position:fixed;top:0;right:0;background:#fff;padding:15px 20px;border-radius:0 0 0 14px;box-shadow:-2px 2px 9px 1px #666;line-height:26px}.devbar .glyphicon[data-v-9fdb1872]{cursor:pointer}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/css-loader?minimize!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/style-rewriter.js?id=data-v-9fdb1872&scoped=true!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/less-loader/lib/loader.js!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=styles&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/devmenu.vue\n// module id = 22\n// module chunks = 0","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?minimize!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-0589a51d&scoped=true!less-loader!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./auth-handler-mobile.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./auth-handler-mobile.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-0589a51d!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./auth-handler-mobile.vue\"),\n  /* scopeId */\n  \"data-v-0589a51d\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/auth-handler/auth-handler-mobile.vue\n// module id = 23\n// module chunks = 0","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?minimize!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-9fdb1872&scoped=true!less-loader!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./devmenu.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./devmenu.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-9fdb1872!../../node_modules/vue-loader/lib/selector?type=template&index=0!./devmenu.vue\"),\n  /* scopeId */\n  \"data-v-9fdb1872\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/devmenu.vue\n// module id = 24\n// module chunks = 0","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?minimize!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-2a4e4196&scoped=true!less-loader!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./payment-handler-mobile.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./payment-handler-mobile.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-2a4e4196!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./payment-handler-mobile.vue\"),\n  /* scopeId */\n  \"data-v-2a4e4196\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/payment-handler/payment-handler-mobile.vue\n// module id = 25\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [(_vm.showForm) ? _c('div', {\n    staticClass: \"login\"\n  }, [_c('div', {\n    staticClass: \"j-inp login-box\"\n  }, [_c('form', {\n    staticClass: \"j-form\",\n    attrs: {\n      \"name\": \"auth_form\",\n      \"data-type\": \"Auth\"\n    },\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.submitForm(_vm.form)\n      }\n    }\n  }, [_c('div', [_c('div', [_c('div', {\n    staticClass: \"form-group\"\n  }, [_c('label', [_vm._v(\"Логин\")]), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.name),\n      expression: \"form.name\"\n    }],\n    staticClass: \"form-control\",\n    attrs: {\n      \"type\": \"text\",\n      \"name\": \"nm\",\n      \"size\": \"20\",\n      \"title\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.form.name)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.form.name = $event.target.value\n      }\n    }\n  })])]), _vm._v(\" \"), _c('div', [_c('div', {\n    staticClass: \"form-group\"\n  }, [_c('label', [_vm._v(\"Пароль\")]), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.password),\n      expression: \"form.password\"\n    }],\n    staticClass: \"form-control\",\n    attrs: {\n      \"type\": \"password\",\n      \"name\": \"psw\",\n      \"size\": \"20\",\n      \"title\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.form.password)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.form.password = $event.target.value\n      }\n    }\n  })])]), _vm._v(\" \"), _c('div', [_c('div', {\n    staticClass: \"checkbox\"\n  }, [_c('label', [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.save),\n      expression: \"form.save\"\n    }],\n    attrs: {\n      \"type\": \"checkbox\",\n      \"name\": \"sv\"\n    },\n    domProps: {\n      \"checked\": Array.isArray(_vm.form.save) ? _vm._i(_vm.form.save, null) > -1 : (_vm.form.save)\n    },\n    on: {\n      \"__c\": function($event) {\n        var $$a = _vm.form.save,\n          $$el = $event.target,\n          $$c = $$el.checked ? (true) : (false);\n        if (Array.isArray($$a)) {\n          var $$v = null,\n            $$i = _vm._i($$a, $$v);\n          if ($$el.checked) {\n            $$i < 0 && (_vm.form.save = $$a.concat([$$v]))\n          } else {\n            $$i > -1 && (_vm.form.save = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n          }\n        } else {\n          _vm.form.save = $$c\n        }\n      }\n    }\n  }), _vm._v(\"Запомнить\")])])]), _vm._v(\" \"), _vm._m(0), _vm._v(\" \"), _vm._m(1), _vm._v(\" \"), _c('div', {\n    staticClass: \"text-center\"\n  }, [_c('div', {\n    staticClass: \"btn-group buttons-box\"\n  }, [_c('a', {\n    staticClass: \"btn btn-wide\",\n    attrs: {\n      \"type\": \"button\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.closeForm()\n      }\n    }\n  }, [_vm._v(\"Отмена\")]), _c('input', {\n    staticClass: \"btn btn-wide btn-red-rzd\",\n    attrs: {\n      \"type\": \"submit\",\n      \"value\": \"Вход\"\n    }\n  })])])])])])]) : _vm._e(), _vm._v(\" \"), (_vm.onRequest) ? _c('div', {\n    staticClass: \"j-wait main-content margin-content\"\n  }, [_c('div', {\n    staticClass: \"alert alert-plain text-center\"\n  }, [_vm._m(2), _vm._v(\" \"), _c('p', [_vm._v(\"Запрос авторизации...\")]), _vm._v(\" \"), _c('div', [_c('a', {\n    staticClass: \"j-cancel btn btn-red-rzd\",\n    on: {\n      \"click\": function($event) {\n        _vm.closeForm()\n      }\n    }\n  }, [_vm._v(\"Отмена\")])])])]) : _vm._e(), _vm._v(\" \"), (_vm.errorAuth) ? _c('div', {\n    staticClass: \"j-error main-content margin-content\"\n  }, [_vm._m(3)]) : _vm._e(), _vm._v(\" \"), (_vm.authSuccess) ? _c('div', {\n    staticClass: \"j-success main-content margin-content\"\n  }, [_vm._m(4)]) : _vm._e(), _vm._v(\" \"), (_vm.showNotAuthMsg) ? _c('div', {\n    staticClass: \"j-noneAuth main-content margin-content\"\n  }, [_vm._m(5)]) : _vm._e()])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('a', {\n    attrs: {\n      \"href\": \"/selfcare/pwdRemind/ru\"\n    }\n  }, [_vm._v(\"Забыли пароль?\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('a', {\n    attrs: {\n      \"href\": \"/selfcare/register/ru\"\n    }\n  }, [_vm._v(\"Регистрация\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('img', {\n    attrs: {\n      \"src\": \"/images/please-wait.gif\"\n    }\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"alert alert-danger\"\n  }, [_c('div', [_c('span', {\n    staticClass: \"glyphicon glyphicon-exclamation-sign\"\n  }), _vm._v(\" Ошибка в процессе авторизации!\"), _c('br'), _vm._v(\"\\n\\t\\t\\t\\tПопробуйте ещё раз ввести логин и пароль.\\n\\n\\t\\t\\t\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"alert alert-info\"\n  }, [_c('div', [_c('span', {\n    staticClass: \"glyphicon glyphicon-exclamation-sign\"\n  }), _vm._v(\" Вы успешно авторизованы.\\n\\n\\t\\t\\t\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"alert alert-info\"\n  }, [_c('div', [_c('span', {\n    staticClass: \"glyphicon glyphicon-exclamation-sign\"\n  }), _vm._v(\" Авторизуйтесь, пожалуйста.\\n\\n\\t\\t\\t\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/template-compiler.js?id=data-v-0589a51d!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=template&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/auth-handler/auth-handler-mobile.vue\n// module id = 26\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [(_vm.paymentAvailable) ? [_c('div', {\n    staticClass: \"page-reserv\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_vm._l((_vm.list), function(ps) {\n    return _c('div', {\n      staticClass: \"col-sm-4 col-xs-6 payment-systems__item\",\n      class: {\n        'selected': _vm.curCode === ps.code\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.select(ps)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"payment-systems__item-cont\"\n    }, [_c('label', {\n      attrs: {\n        \"title\": ps.tip\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": '/dbmm/images/61/28054/' + ps.id\n      }\n    })])])])\n  }), _vm._v(\" \"), (_vm.yandexMoney) ? _c('form', {\n    ref: \"yaform\",\n    attrs: {\n      \"action\": _vm.yandexMoney.url || 'https://money.yandex.ru/eshop.xml',\n      \"method\": \"post\"\n    }\n  }, _vm._l((_vm.yandexMoney), function(val, key) {\n    return (key !== 'url') ? _c('input', {\n      attrs: {\n        \"name\": key,\n        \"type\": \"hidden\"\n      },\n      domProps: {\n        \"value\": val\n      }\n    }) : _vm._e()\n  })) : _vm._e()], 2), _vm._v(\" \"), (_vm.HUMAN_ERROR) ? _c('pre', {\n    staticClass: \"pre-message pre-message-common\"\n  }, [_vm._v(_vm._s(_vm.HUMAN_ERROR))]) : _vm._e()])] : _vm._e()], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/template-compiler.js?id=data-v-2a4e4196!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=template&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/payment-handler/payment-handler-mobile.vue\n// module id = 27\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    staticClass: \"main-content\"\n  }, [_c('auth-handler'), _vm._v(\" \"), (!_vm.bAuthFormVisible) ? [(_vm.bShowForm) ? [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-xs-12\"\n  }, [_c('form', {\n    staticClass: \"pass-cabinet-form\",\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.getOrders($event)\n      }\n    }\n  }, [_c('div', {}, [_c('div', {\n    staticClass: \"form-group col-xs-12 col-md-6\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"id-date0\"\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"Departure Date\"\n    }\n  }), _vm._v(\" \"), _c('dict', {\n    attrs: {\n      \"name\": \"predlog/ot\"\n    }\n  })], 1), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"jqui-datepicker\",\n      rawName: \"v-jqui-datepicker\",\n      value: (_vm.form.date0),\n      expression: \"form.date0\"\n    }],\n    staticClass: \"form-control input-lg\",\n    attrs: {\n      \"data-custom-default-value\": \"true\",\n      \"id\": \"id-date0\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-group col-xs-12 col-md-6\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"id-date1\"\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"predlog/do\"\n    }\n  })], 1), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"jqui-datepicker\",\n      rawName: \"v-jqui-datepicker\",\n      value: (_vm.form.date1),\n      expression: \"form.date1\"\n    }],\n    staticClass: \"form-control input-lg\",\n    attrs: {\n      \"id\": \"id-date1\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-group col-xs-12 text-right\"\n  }, [_c('label', [_vm._v(\" \")]), _vm._v(\" \"), _c('button', {\n    staticClass: \"btn btn-with-icon btn-rzd-round\",\n    attrs: {\n      \"type\": \"submit\"\n    }\n  }, [_c('span', {\n    staticClass: \"glyphicon glyphicon-search\"\n  }), _c('dict', {\n    attrs: {\n      \"name\": \"Find\"\n    }\n  })], 1)])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-xs-12 text-center\"\n  }, [_c('div', {\n    staticClass: \"btn-group\"\n  }, [_c('a', {\n    staticClass: \"btn\",\n    class: {\n      active: _vm.form.mode === 'active'\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.changeMode('active')\n      }\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"CabinetMode_active\"\n    }\n  })], 1), _vm._v(\" \"), _c('a', {\n    staticClass: \"btn\",\n    class: {\n      active: _vm.form.mode === 'archive'\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.changeMode('archive')\n      }\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"CabinetMode_archive\"\n    }\n  })], 1)])])])])])])] : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"margin-content\"\n  }, [(_vm.PAYMENT_RESULT) ? _c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-xs-12\"\n  }, [(_vm.PAYMENT_RESULT === 'OK') ? _c('h1', [_c('dict', {\n    attrs: {\n      \"name\": \"Ticket/headerPaymentOk\"\n    }\n  })], 1) : _c('div', {\n    staticClass: \"alert alert-danger\"\n  }, [(_vm.PAYMENT_RESULT === 'CANCEL') ? _c('ifrmsg', {\n    attrs: {\n      \"name\": \"PSTKT_BANK_CANCEL\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.PAYMENT_RESULT === 'DECLINE') ? _c('ifrmsg', {\n    attrs: {\n      \"name\": \"PSTKT_BANK_CANCEL\"\n    }\n  }) : _vm._e()], 1)])]) : _vm._e()]), _vm._v(\" \"), (_vm.HUMAN_ERROR) ? _c('div', {\n    staticClass: \"row\"\n  }, [_c('pre', {\n    staticClass: \"col-xs-12 pre-message pre-message-common\"\n  }, [_vm._v(_vm._s(_vm.HUMAN_ERROR))])]) : _vm._e(), _vm._v(\" \"), (_vm.slots.length && _vm.bShowForm) ? _c('h3', {\n    staticClass: \"orders-header\"\n  }, [_vm._v(\"Список заказов\")]) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.slots), function(ordslot, ordslot_index) {\n    return _c('div', {\n      staticClass: \"order-items\",\n      attrs: {\n        \"id\": 'hash-sord-' + ordslot.id\n      }\n    }, _vm._l((ordslot.lst), function(ord, index) {\n      return _c('div', {\n        staticClass: \"order\"\n      }, [(index == 0 && ordslot.routeNames) ? _c('div', {\n        staticClass: \"margin-content text-bold route-header\"\n      }, [_vm._v(_vm._s(ordslot.routeNames))]) : _vm._e(), _vm._v(\" \"), _c('div', {\n        staticClass: \"order-item\"\n      }, [_c('div', {\n        staticClass: \"order-item-content clearfix\",\n        class: {\n          'order-refunded': ord.STATUS, 'order-refunded-show': ord.SHOW_REFUNDED_ORDER\n        }\n      }, [(ord.STATUS) ? _c('div', {\n        staticClass: \"icon-show-refunded\",\n        on: {\n          \"click\": function($event) {\n            if (!('button' in $event) && _vm._k($event.keyCode, \"keyup\") && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n            _vm.showRefundedOrder(ord)\n          }\n        }\n      }, [_c('div', {\n        staticClass: \"glyphicon\",\n        class: {\n          'glyphicon-chevron-up': ord.SHOW_REFUNDED_ORDER, 'glyphicon-chevron-down': !ord.SHOW_REFUNDED_ORDER\n        }\n      })]) : _vm._e(), _vm._v(\" \"), _c('div', {\n        staticClass: \"onrefund-row clearfix\"\n      }, [_c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-xs-12 text-bigger\"\n      }, [_c('dict', {\n        attrs: {\n          \"name\": \"Train\"\n        }\n      }), _vm._v(\" \"), _c('b', [_vm._v(_vm._s(ord.train))]), (ord.brand) ? _c('b', {\n        staticClass: \"text-red\"\n      }, [_vm._v(\" \" + _vm._s(ord.brand))]) : _vm._e()], 1)]), _vm._v(\" \"), _c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-xs-12 text-bigger\"\n      }, [_c('dict', {\n        attrs: {\n          \"name\": \"Ticket/Car\"\n        }\n      }), _vm._v(\" \\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\"), _c('b', [(ord.bWithoutPlaces) ? _c('ifrmsg', {\n        attrs: {\n          \"name\": \"ANY_VAGON_LASTOCHKA\"\n        }\n      }) : [_vm._v(_vm._s(ord.car) + \" (\" + _vm._s(ord.carCls) + \")\")]], 2)], 1)])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"row form-group onrefund-one-line\"\n      }, [_c('div', {\n        staticClass: \"col-xs-6 text-bigger\"\n      }, [_vm._v(_vm._s(ord.station0))]), _vm._v(\" \"), _c('div', {\n        staticClass: \"col-xs-6 text-bigger\"\n      }, [_vm._v(_vm._s(ord.station1))])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"row form-group onrefund-show\"\n      }, [_c('div', {\n        staticClass: \"col-xs-5\"\n      }, [_c('div', {\n        class: 'datetime-wrap datetime-wrap_first-' + ordslot.defShowTime\n      }, [(ord.localDate0) ? _c('div', {\n        staticClass: \"datetime-local\"\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(ord.localDate0) + \" \"), _c('b', [_vm._v(_vm._s(ord.localTime0))]), _vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t \"), _c('span', {\n        staticClass: \"color-grey\"\n      }, [_vm._v(_vm._s(ord.timeDeltaString0))])]) : _vm._e(), _vm._v(\" \"), _c('div', {\n        staticClass: \"datetime-msk\"\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(ord.date0) + \" \"), _c('b', [_vm._v(_vm._s(ord.time0))]), _vm._v(\" \"), (ord.Msk0) ? _c('span', {\n        staticClass: \"color-grey\"\n      }, [_vm._v(_vm._s(ordslot.mskTimeSuffix))]) : _vm._e()])])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"col-xs-1\"\n      }, [_vm._v(\" → \")]), _vm._v(\" \"), _c('div', {\n        staticClass: \"col-xs-6\"\n      }, [_c('div', {\n        class: 'datetime-wrap datetime-wrap_first-' + ordslot.defShowTime\n      }, [(ord.localDate1) ? _c('div', {\n        staticClass: \"datetime-local\"\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(ord.localDate1) + \" \"), _c('b', [_vm._v(_vm._s(ord.localTime1))]), _vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t \"), _c('span', {\n        staticClass: \"color-grey\"\n      }, [_vm._v(_vm._s(ord.timeDeltaString1))])]) : _vm._e(), _vm._v(\" \"), _c('div', {\n        staticClass: \"datetime-msk\"\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(ord.date1) + \" \"), _c('b', [_vm._v(_vm._s(ord.time1))]), _vm._v(\" \"), (ord.Msk1) ? _c('span', {\n        staticClass: \"color-grey\"\n      }, [_vm._v(_vm._s(ordslot.mskTimeSuffix))]) : _vm._e()])])])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"row form-group hdn\"\n      }, [_c('div', {\n        staticClass: \"col-xs-12 text-right\"\n      }, [_c('div', {\n        staticClass: \"btn-group\"\n      }, [_c('a', {\n        staticClass: \"btn\",\n        attrs: {\n          \"target\": \"_blank\",\n          \"href\": ord.LINK_BLANK\n        }\n      }, [_c('dict', {\n        attrs: {\n          \"name\": \"Order form\"\n        }\n      })], 1), _vm._v(\" \"), _c('button', {\n        staticClass: \"btn\",\n        attrs: {\n          \"disabled\": ord.LOADING_STATUSES\n        },\n        on: {\n          \"click\": function($event) {\n            _vm.getBlank_ticket('pdf', ord)\n          },\n          \"keyup\": function($event) {\n            if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n            _vm.getBlank_ticket('pdf', ord)\n          }\n        }\n      }, [_vm._v(\"PDF\")])])])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"row form-group\"\n      }, [_c('div', {\n        staticClass: \"col-xs-12\"\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tСтоимость заказа: \"), _c('span', {\n        staticClass: \"text-red\"\n      }, [_vm._v(_vm._s(ord.cost) + \" руб.\")])]), _vm._v(\" \"), _c('div', {\n        staticClass: \"col-xs-12 text-small\"\n      }, [_c('dict', {\n        attrs: {\n          \"name\": \"Ticket/transactionId\"\n        }\n      }), _vm._v(\": \"), _c('span', [_vm._v(_vm._s(ordslot.transactionId))])], 1)]), _vm._v(\" \"), (!ord.left) ? _c('div', {\n        staticClass: \"row form-group\"\n      }, [_c('div', {\n        staticClass: \"col-xs-12 text-right\"\n      }, [(!ord.left) ? _c('button', {\n        staticClass: \"btn-with-icon btn\",\n        attrs: {\n          \"disabled\": ord.LOADING_STATUSES\n        },\n        on: {\n          \"click\": function($event) {\n            _vm.getStatuses(ord)\n          }\n        }\n      }, [_c('i', {\n        staticClass: \"glyphicon glyphicon-info-sign\"\n      }), _vm._v(\" \"), _c('dict', {\n        attrs: {\n          \"name\": \"Ticket/Request for ticket status\"\n        }\n      })], 1) : _vm._e()])]) : _vm._e(), _vm._v(\" \"), (ordslot.REFUND_MESSAGE) ? _c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-xs-12\"\n      }, [_c('div', {\n        staticClass: \"pass-orderList-refund-msg__cont\"\n      }, [_c('div', {\n        staticClass: \"refund-msg__item\",\n        domProps: {\n          \"innerHTML\": _vm._s(ordslot.REFUND_MESSAGE)\n        }\n      })])])]) : _vm._e(), _vm._v(\" \"), (!ord.left && ord.avisoTimer) ? _c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-xs-12\"\n      }, [_c('h3', [_c('i', {\n        staticClass: \"glyphicon glyphicon-time\"\n      }), _vm._v(\" Заказ подтверждается.\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t \" + _vm._s(ord.avisoTimer) + \" мин.\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])])]) : _vm._e(), _vm._v(\" \"), (ord.HUMAN_ERROR) ? _c('pre', {\n        staticClass: \"pre-message pre-message-common\"\n      }, [_vm._v(_vm._s(ord.HUMAN_ERROR))]) : _vm._e(), _vm._v(\" \"), _vm._l((ord.lst), function(tik) {\n        return _c('div', {\n          staticClass: \"order-item-ticket\"\n        }, [_c('div', {\n          class: {\n            'ticket-refunded': tik.status === 'REFUNDED'\n          }\n        }, [_c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-xs-7 text-bold\"\n        }, [_vm._v(_vm._s(tik.name))]), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-xs-5 text-right text-small\"\n        }, [_vm._v(\"(док. \" + _vm._s(tik.doc) + \")\")])]), _vm._v(\" \"), _c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-xs-4\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Ticket/Car\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-xs-8\"\n        }, [(ord.bWithoutPlaces) ? _c('ifrmsg', {\n          attrs: {\n            \"name\": \"ANY_VAGON_LASTOCHKA\"\n          }\n        }) : [_c('span', {\n          staticClass: \"text-bold\"\n        }, [_vm._v(_vm._s(ord.car) + \" (\" + _vm._s(ord.carCls) + \")\")])]], 2)]), _vm._v(\" \"), _c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-xs-4\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Place\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-xs-8\"\n        }, [(ord.bWithoutPlaces) ? _c('ifrmsg', {\n          attrs: {\n            \"name\": \"VAGON_NO_SEATS_LASTOCHKA\"\n          }\n        }) : (tik.place) ? [_c('span', {\n          staticClass: \"text-bold\"\n        }, [_vm._v(_vm._s(tik.place))]), _vm._v(\" \" + _vm._s(tik.seatsTypeName) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")] : [_c('dict', {\n          attrs: {\n            \"name\": \"Ticket/withoutPlace\"\n          }\n        })]], 2)]), _vm._v(\" \"), _c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-xs-4\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Ticket/Cost\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-xs-8\"\n        }, [_c('span', {\n          staticClass: \"text-red\"\n        }, [_vm._v(_vm._s(_vm._f(\"FORMAT_SUM\")(tik.cost)) + \" руб.\")]), _vm._v(\" (\" + _vm._s(tik.tariff) + \")\")])]), _vm._v(\" \"), _c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-xs-4\"\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Status\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-xs-8\"\n        }, [(true) ? _c('div', [(tik.LOADER || ord.LOADER) ? _c('i', {\n          staticClass: \"spin\"\n        }) : _c('div', [_c('b', [_vm._v(_vm._s(tik.STATUS.NAME))]), _vm._v(\"   \\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])]) : _vm._e()])]), _vm._v(\" \"), _c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"col-xs-12\"\n        }, [_c('div', {\n          staticClass: \"text-right\"\n        }, [_c('div', {\n          staticClass: \"form-group btn-group\"\n        }, [_c('a', {\n          staticClass: \"btn\",\n          attrs: {\n            \"target\": \"_blank\",\n            \"href\": tik.LINK_BLANK\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Ticket blank\"\n          }\n        })], 1), _vm._v(\" \"), _c('button', {\n          staticClass: \"btn\",\n          attrs: {\n            \"disabled\": ord.LOADING_STATUSES\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.getBlank_ticket('pdf', ord, tik)\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.getBlank_ticket('pdf', ord, tik)\n            }\n          }\n        }, [_vm._v(\"PDF\")]), _vm._v(\" \"), _c('button', {\n          staticClass: \"btn\",\n          attrs: {\n            \"disabled\": ord.LOADING_STATUSES\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.getBlank_ticket('png', ord, tik)\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.getBlank_ticket('png', ord, tik)\n            }\n          }\n        }, [_vm._v(\"PNG\")])]), _vm._v(\" \"), (tik.STATUS.CODE === 'REFUNDED') ? _c('div', {\n          staticClass: \"form-group form-group\"\n        }, [_c('a', {\n          staticClass: \"btn\",\n          attrs: {\n            \"target\": \"_blank\",\n            \"href\": ord.LINK_BLANK\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Ticket/Refund coupon\"\n          }\n        })], 1)]) : _vm._e()])])]), _vm._v(\" \"), (tik.INSUR || tik.POLICY) ? _c('div', {\n          staticClass: \"row\"\n        }, [_c('div', {\n          staticClass: \"text-bold clickable\",\n          on: {\n            \"click\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"keyup\") && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.showInsurances(tik)\n            }\n          }\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tСтраховки\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\"), _c('div', {\n          staticClass: \"glyphicon\",\n          class: {\n            'glyphicon-chevron-up': tik.SHOW_INSURANCES, 'glyphicon-chevron-down': !tik.SHOW_INSURANCES\n          }\n        })]), _vm._v(\" \"), (tik.SHOW_INSURANCES) ? _c('div', {\n          staticClass: \"ticket-insurances clearfix\"\n        }, [(tik.INSUR) ? _c('div', {\n          staticClass: \"clearfix\"\n        }, [_c('div', {\n          staticClass: \"col-xs-12\"\n        }, [_c('span', {\n          staticClass: \"text-bold\"\n        }, [_vm._v(\"Страховка \")]), _vm._v(\" \"), (tik.INSUR.Refunded == 1) ? _c('span', [_c('ifrmsg', {\n          attrs: {\n            \"name\": \"POLICY_CABINET_RETURN_STATUS\"\n          }\n        })], 1) : _c('span', [_vm._v(_vm._s(tik.INSUR.shortName))])]), _vm._v(\" \"), (tik.INSUR.cost) ? _c('div', {\n          staticClass: \"col-xs-12\"\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tСтоимость: \"), _c('span', {\n          staticClass: \"text-red\"\n        }, [_vm._v(_vm._s(_vm._f(\"FORMAT_SUM\")(tik.INSUR.cost)) + \" руб.\")])]) : _vm._e(), _vm._v(\" \"), (_vm.isInsuranceActive(tik)) ? _c('div', {\n          staticClass: \"col-xs-12 text-right\"\n        }, [_c('div', {\n          staticClass: \"btn-group\"\n        }, [_c('a', {\n          staticClass: \"btn\",\n          attrs: {\n            \"target\": \"_blank\",\n            \"href\": tik.LINK_INSURANCE\n          }\n        }, [_c('dict', {\n          attrs: {\n            \"name\": \"Insurance policy\"\n          }\n        })], 1), _vm._v(\" \"), _c('a', {\n          staticClass: \"btn\",\n          on: {\n            \"click\": function($event) {\n              _vm.getBlank_insurance(tik, 'pdf')\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.getBlank_insurance(tik, 'pdf')\n            }\n          }\n        }, [_vm._v(\"PDF\")])])]) : _vm._e()]) : _vm._e(), _vm._v(\" \"), (tik.POLICY) ? _c('div', {\n          staticClass: \"clearfix\"\n        }, [_c('div', {\n          staticClass: \"col-xs-12\"\n        }, [_c('b', [_c('ifrmsg', {\n          attrs: {\n            \"name\": \"POLICY_TITLE\"\n          }\n        })], 1), _vm._v(\" \"), _c('xsl:text'), _vm._v(\" \"), _c('ifrmsg', {\n          attrs: {\n            \"name\": \"POLICY_COMPANY\"\n          }\n        })], 1), _vm._v(\" \"), (tik.POLICY_STATUS.code != 'ISSUED') ? _c('div', {\n          staticClass: \"col-xs-12 text-bold\",\n          domProps: {\n            \"innerHTML\": _vm._s(tik.POLICY_STATUS.name)\n          }\n        }) : _c('div', [_c('div', {\n          staticClass: \"col-xs-12\"\n        }, [_c('ifrmsg', {\n          attrs: {\n            \"name\": \"POLICY_FORM_PRICE\"\n          }\n        }), _vm._v(\" \"), _c('span', {\n          staticClass: \"text-red\"\n        }, [_vm._v(_vm._s(_vm._f(\"FORMAT_SUM\")(tik.POLICY.cost)) + \" руб.\")])], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-xs-12\"\n        }, [_c('ifrmsg', {\n          attrs: {\n            \"name\": \"POLICY_FORM_TERRITORY\"\n          }\n        }), _vm._v(\": \"), _c('b', [_vm._v(_vm._s(tik.POLICY_AREA))])], 1), _vm._v(\" \"), _c('div', {\n          staticClass: \"col-xs-12\"\n        }, [_vm._v(\"Срок действия полиса: \"), _c('b', [_vm._v(_vm._s(tik.POLICY_DATE))])])]), _vm._v(\" \"), (tik.POLICY_STATUS.code == 'ISSUED') ? _c('div', {\n          staticClass: \"col-xs-12 text-right\"\n        }, [_c('div', {\n          staticClass: \"btn-group\"\n        }, [(tik.POLICY_STATUS.code == 'ISSUED') ? _c('a', {\n          staticClass: \"btn\",\n          attrs: {\n            \"target\": \"_blank\",\n            \"href\": tik.POLICY.link\n          }\n        }, [_vm._v(\"PDF\")]) : _vm._e()])]) : _vm._e()]) : _vm._e()]) : _vm._e()]) : _vm._e(), _vm._v(\" \"), (tik.HUMAN_ERROR) ? _c('pre', {\n          staticClass: \"pre-message pre-message-common\"\n        }, [_vm._v(_vm._s(tik.HUMAN_ERROR))]) : _vm._e(), _vm._v(\" \"), (!ord.left) ? _c('div', [_c('div', {\n          staticClass: \"row\",\n          staticStyle: {\n            \"margin-top\": \"15px\"\n          }\n        }, [(_vm.isTicketActionsAvailable(tik, ord)) ? _c('div', {\n          staticClass: \"col-xs-12 form-group text-right\"\n        }, [_c('button', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (tik.STATUS.CODE === 'PAID'),\n            expression: \"tik.STATUS.CODE==='PAID'\"\n          }],\n          staticClass: \"btn\",\n          attrs: {\n            \"disabled\": tik.LOADING_STATUS\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.changeStatus(tik, ord, true)\n            }\n          }\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tПройти электронную регистрацию\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), _c('button', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (tik.STATUS.CODE === 'REGISTERED'),\n            expression: \"tik.STATUS.CODE==='REGISTERED'\"\n          }],\n          staticClass: \"btn\",\n          attrs: {\n            \"disabled\": tik.LOADING_STATUS\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.changeStatus(tik, ord, false)\n            }\n          }\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tОтменить электронную регистрацию\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])]) : _vm._e(), _vm._v(\" \"), (!ord.bNonRefundable && tik.status != 'REFUNDED') ? _c('div', {\n          staticClass: \"col-xs-12 form-group text-right\"\n        }, [_c('span', {\n          staticStyle: {\n            \"margin-right\": \"10px\"\n          }\n        }, [_c('i', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (tik.LOADING_REFUND_TICKET),\n            expression: \"tik.LOADING_REFUND_TICKET\"\n          }],\n          staticClass: \"spin spin-sm\"\n        })]), _vm._v(\" \"), _c('button', {\n          staticClass: \"btn\",\n          attrs: {\n            \"disabled\": tik.LOADING_REFUND_TICKET\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.refundTicket(tik, ord, ordslot)\n            }\n          }\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tОформить возврат билета \\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])]) : _vm._e(), _vm._v(\" \"), _c('div', {\n          staticStyle: {\n            \"display\": \"none\"\n          }\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\" + _vm._s(tik) + \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), (_vm.isInsuranceRefundAvailable(tik, ord)) ? _c('div', {\n          staticClass: \"col-xs-12 form-group text-right\"\n        }, [(tik.INSUR.Refunded != 1) ? _c('a', {\n          staticClass: \"btn\",\n          on: {\n            \"click\": function($event) {\n              _vm.refundInsurance(tik, ord)\n            }\n          }\n        }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tОформить возврат страховки\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]) : _vm._e()]) : _vm._e(), _vm._v(\" \"), (_vm.isPolicyRefundAvailable(tik, ord)) ? _c('div', {\n          staticClass: \"col-xs-12 form-group text-right\"\n        }, [_c('span', [_c('button', {\n          staticClass: \"btn\",\n          staticStyle: {\n            \"white-space\": \"normal\",\n            \"text-align\": \"left\"\n          },\n          attrs: {\n            \"target\": \"_blank\",\n            \"disabled\": ord.LOADING_STATUSES\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.refundDMS(tik, ord)\n            },\n            \"keyup\": function($event) {\n              if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13) && _vm._k($event.keyCode, \"space\", 32)) { return null; }\n              _vm.refundDMS(tik, ord)\n            }\n          }\n        }, [_c('ifrmsg', {\n          attrs: {\n            \"name\": \"POLICY_CABINET_RETURN_TITLE\"\n          }\n        })], 1)])]) : _vm._e()])]) : _vm._e()])])\n      }), _vm._v(\" \"), (ord.ELREG_IFRMSG) ? _c('div', {\n        staticClass: \"row\"\n      }, [_c('div', {\n        staticClass: \"col-xs-12 msg-mobile-block\"\n      }, [_c('ifrmsg', {\n        attrs: {\n          \"name\": ord.ELREG_IFRMSG\n        }\n      })], 1)]) : _vm._e()], 2)])])\n    }))\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-xs-12 text-center\",\n    staticStyle: {\n      \"margin-top\": \"1em\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.LOADING_ORDERS === false),\n      expression: \"LOADING_ORDERS===false\"\n    }]\n  }, [_c('a', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.lastPage),\n      expression: \"!lastPage\"\n    }],\n    staticClass: \"btn\",\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.getOrders(true)\n      }\n    }\n  }, [_vm._v(\"Показать ещё\")]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.slots.length === 0 && _vm.bShowForm === true),\n      expression: \"slots.length===0  && bShowForm === true\"\n    }]\n  }, [_c('ifrmsg', {\n    attrs: {\n      \"name\": \"PSTKT_CABINET_MSG_EMPTY_SLOTS\"\n    }\n  })], 1)]), _vm._v(\" \"), _c('i', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.LOADING_ORDERS === true),\n      expression: \"LOADING_ORDERS===true\"\n    }],\n    staticClass: \"spin spin-lg\"\n  })]), _vm._v(\" \"), (_vm.bShowBankResultBtns) ? [_c('div', {\n    staticClass: \"col-xs-12\"\n  }, [(_vm.bShowRetryPayment) ? _c('payment-handler', {\n    ref: \"paymentHandler\",\n    attrs: {\n      \"jr\": _vm.journeyReservation\n    }\n  }) : _vm._e()], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"clearfix text-center\"\n  }, [_c('div', {\n    staticClass: \"btn-group\",\n    staticStyle: {\n      \"font-size\": \".9em\"\n    }\n  }, [(_vm.bShowRetryPayment) ? _c('a', {\n    staticClass: \"btn btn-md\",\n    on: {\n      \"click\": _vm.retryPayment\n    }\n  }, [_vm._v(\"Попытаться оплатить ещё раз\")]) : _vm._e(), _vm._v(\" \"), (_vm.bShowRetryPayment && _vm.LOADING_ORDERS) ? _c('i', {\n    staticClass: \"spin spin-xs\"\n  }) : _vm._e(), _vm._v(\" \"), _c('a', {\n    staticClass: \"btn btn-md\",\n    attrs: {\n      \"href\": _vm.LINK('route')\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.bankResult_goStart($event)\n      }\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"Ticket/start ticket processing first\"\n    }\n  })], 1), _vm._v(\" \"), _c('a', {\n    staticClass: \"btn btn-md\",\n    attrs: {\n      \"href\": \"LINK('cabinet')\"\n    }\n  }, [_c('dict', {\n    attrs: {\n      \"name\": \"Go to My orders\"\n    }\n  })], 1)])])] : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"hdn\"\n  }, [_c('div', {\n    staticClass: \"j-on-aviso-popup\"\n  }, [_c('ifrmsg', {\n    attrs: {\n      \"name\": \"PST_WAIT_TRIP_STATUS_BLIND\"\n    }\n  }), _vm._v(\" \"), _vm._l((_vm.slots), function(ordslot, ordslot_index) {\n    return _c('div', {\n      attrs: {\n        \"id\": 'hash-sord-' + ordslot.id\n      }\n    }, [(ordslot.jstatus === 'ON_AVISO') ? _c('div', [_c('a', {\n      staticClass: \"link-dotted\",\n      on: {\n        \"click\": function($event) {\n          _vm.getStatusesForSaleOrder(ordslot)\n        }\n      }\n    }, [_c('dict', {\n      attrs: {\n        \"name\": \"Ticket/transactionId\"\n      }\n    }), _vm._v(\" \" + _vm._s(ordslot.transactionId) + \"\\n\\t\\t\\t\\t\\t\\t\\t\")], 1)]) : _vm._e()])\n  })], 2), _vm._v(\" \"), (_vm.refundMsg) ? _c('div', {\n    staticClass: \"j-refund-popup\"\n  }, [(_vm.refundMsg.bMulti) ? _c('p', [(_vm.refundMsg.bDisabledCompanion) ? _c('ifrmsg', {\n    attrs: {\n      \"name\": \"DPEOPLE_TICKET_SIMULTANEOUS_RETURN\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (!_vm.refundMsg.bDisabledCompanion) ? _c('dict', {\n    attrs: {\n      \"name\": \"Only the simultaneous return of several tickets at once is possible!\"\n    }\n  }) : _vm._e()], 1) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.refundMsg.list), function(ritem) {\n    return _c('div', {\n      staticClass: \"form-group\"\n    }, [_c('div', {\n      staticClass: \"row\"\n    }, [_c('div', {\n      staticClass: \"col-xs-4\"\n    }, [_c('dict', {\n      attrs: {\n        \"name\": \"Departure\"\n      }\n    })], 1), _c('div', {\n      staticClass: \"col-xs-8 text-bold\"\n    }, [_vm._v(_vm._s(_vm.refundMsg.ord.date0) + \" \" + _vm._s(_vm.refundMsg.ord.time0))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"col-xs-4\"\n    }, [_c('dict', {\n      attrs: {\n        \"name\": \"Train\"\n      }\n    })], 1), _c('div', {\n      staticClass: \"col-xs-8 text-bold\"\n    }, [_vm._v(_vm._s(_vm.refundMsg.ord.train))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"col-xs-4\"\n    }, [_c('dict', {\n      attrs: {\n        \"name\": \"Ticket/Car\"\n      }\n    })], 1), _c('div', {\n      staticClass: \"col-xs-8 text-bold\"\n    }, [_vm._v(_vm._s(_vm.refundMsg.ord.car))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"col-xs-4\"\n    }, [_c('dict', {\n      attrs: {\n        \"name\": \"Place\"\n      }\n    })], 1), _c('div', {\n      staticClass: \"col-xs-8 text-bold\"\n    }, [_vm._v(_vm._s(ritem.place))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"col-xs-12 text-bold\"\n    }, [_vm._v(_vm._s(ritem.name))])]), _vm._v(\" \"), _c('div', {\n      domProps: {\n        \"innerHTML\": _vm._s(ritem.text)\n      }\n    }), _vm._v(\" \"), _c('br')])\n  }), _vm._v(\" \"), (_vm.refundMsg.bINSUR) ? _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('ifrmsg', {\n    attrs: {\n      \"name\": \"INSURANCE_REFUND_SUM\"\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"text-bold\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.refundMsg.bINSUR_cost)\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"text-bold\"\n  }, [_vm._v(\"руб.\")])], 1) : _vm._e(), _vm._v(\" \"), (_vm.refundMsg.bDMS) ? _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('ifrmsg', {\n    attrs: {\n      \"name\": \"POLICY_CABINET_REFUND_SUM\"\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"text-bold\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.refundMsg.bDMS_cost)\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"text-bold\"\n  }, [_vm._v(\"руб.\")])], 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('ifrmsg', {\n    attrs: {\n      \"name\": \"REFUND_INFO_CABINET\"\n    }\n  })], 1), _vm._v(\" \"), (_vm.refundMsg.bYandex) ? _c('ifrmsg', {\n    attrs: {\n      \"name\": \"REFUND_RULES_YANDEX_MONEY\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (!_vm.refundMsg.bYandex) ? _c('ifrmsg', {\n    attrs: {\n      \"name\": \"REFUND_RULES_BANK\"\n    }\n  }) : _vm._e()], 2) : _vm._e()])] : _vm._e()], 2)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/template-compiler.js?id=data-v-5e48d1ae!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=template&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/pages/cabinet-mobile.vue\n// module id = 28\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    staticClass: \"devbar\"\n  }, [_c('a', {\n    attrs: {\n      \"href\": _vm.homeUrl\n    }\n  }, [_c('i', {\n    staticClass: \"glyphicon glyphicon-home\"\n  })]), _vm._v(\"  \\n\\t\\t\"), _c('a', {\n    attrs: {\n      \"href\": _vm.realUrl\n    }\n  }, [_c('i', {\n    staticClass: \"glyphicon glyphicon-new-window\",\n    attrs: {\n      \"title\": \"Перейти на реальную (непроксированную) страницу. Не забудь сбилдить изменения\"\n    }\n  })])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/template-compiler.js?id=data-v-9fdb1872!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=template&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/devmenu.vue\n// module id = 29\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-0589a51d&scoped=true!../../../node_modules/less-loader/lib/loader.js!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./auth-handler-mobile.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"1218c73c\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-style-loader!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/css-loader?minimize!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/style-rewriter.js?id=data-v-0589a51d&scoped=true!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/less-loader/lib/loader.js!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=styles&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/auth-handler/auth-handler-mobile.vue\n// module id = 30\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-2a4e4196&scoped=true!../../../node_modules/less-loader/lib/loader.js!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./payment-handler-mobile.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"3e90b756\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-style-loader!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/css-loader?minimize!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/style-rewriter.js?id=data-v-2a4e4196&scoped=true!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/less-loader/lib/loader.js!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=styles&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/payment-handler/payment-handler-mobile.vue\n// module id = 31\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?minimize!../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-5e48d1ae&scoped=true!../../node_modules/less-loader/lib/loader.js!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./cabinet-mobile.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"28021029\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-style-loader!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/css-loader?minimize!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/style-rewriter.js?id=data-v-5e48d1ae&scoped=true!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/less-loader/lib/loader.js!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=styles&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/pages/cabinet-mobile.vue\n// module id = 32\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?minimize!../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-9fdb1872&scoped=true!../../node_modules/less-loader/lib/loader.js!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./devmenu.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"152fd8b0\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-style-loader!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/css-loader?minimize!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/style-rewriter.js?id=data-v-9fdb1872&scoped=true!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/less-loader/lib/loader.js!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-loader/lib/selector.js?type=styles&index=0!C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/src/components/devmenu.vue\n// module id = 33\n// module chunks = 0","/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nmodule.exports = function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/REPO/pirs-stable/web-server/htdocs/pirs/rzd/js/sale/~/vue-style-loader/lib/listToStyles.js\n// module id = 34\n// module chunks = 0"],"sourceRoot":""}